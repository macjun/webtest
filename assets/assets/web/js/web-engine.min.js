require=function e(t,r,n){function i(o,a){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var c=r[o]={exports:{}};t[o][0].call(c.exports,(function(e){return i(t[o][1][e]||e)}),c,c.exports,e,t,r,n)}return r[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){(function(r,n){(function(){const i=e("debug")("bittorrent-tracker:client"),s=e("events"),o=e("once"),a=e("run-parallel"),l=e("simple-peer"),h=e("queue-microtask"),c=e("./lib/common"),u=e("./lib/client/http-tracker"),d=e("./lib/client/udp-tracker"),f=e("./lib/client/websocket-tracker");class p extends s{constructor(e={},t){if(super(),!e.peerId)throw new Error("Option `peerId` is required");if(!e.announce)throw new Error("Option `announce` is required");if(!r.browser&&!e.port)throw new Error("Option `port` is required");this.peerId="string"==typeof e.peerId?e.peerId:e.peerId.toString("hex"),this._peerIdBuffer=n.from(this.peerId,"hex"),this._peerIdBinary=this._peerIdBuffer.toString("binary"),this.useP2P=e.useP2P,i("new client %s",this.peerId),this.destroyed=!1,this._port=e.port,this._getAnnounceOpts=e.getAnnounceOpts,this._rtcConfig=e.rtcConfig,this._userAgent=e.userAgent,this._wrtc="function"==typeof e.wrtc?e.wrtc():e.wrtc;let s="string"==typeof e.announce?[e.announce]:null==e.announce?[]:e.announce;s=s.map((e=>("/"===(e=e.toString())[e.length-1]&&(e=e.substring(0,e.length-1)),e))),s=Array.from(new Set(s));const o=!1!==this._wrtc&&(!!this._wrtc||l.WEBRTC_SUPPORT),a=e=>{h((()=>{this.emit("warning",e)}))};this._trackers=s.map((e=>{let r;try{r=new URL(e)}catch(t){return a(new Error(`Invalid tracker URL: ${e}`)),null}const n=r.port;if(n<0||n>65535)return a(new Error(`Invalid tracker port: ${e}`)),null;const i=r.protocol;return"http:"!==i&&"https:"!==i||"function"!=typeof u?"udp:"===i&&"function"==typeof d?new d(this,e,t):"ws:"!==i&&"wss:"!==i||!o||"ws:"===i&&"undefined"!=typeof window&&"https:"===window.location.protocol?(a(new Error(`Unsupported tracker protocol: ${e}`)),null):new f(this,e,t):new u(this,e,t)})).filter(Boolean)}start(e){(e=this._defaultAnnounceOpts(e)).event="started",i("send `start` %o",e),this._announce(e),this._trackers.forEach((e=>{e.setInterval()}))}stop(e){(e=this._defaultAnnounceOpts(e)).event="stopped",i("send `stop` %o",e),this._announce(e)}complete(e){e||(e={}),(e=this._defaultAnnounceOpts(e)).event="completed",i("send `complete` %o",e),this._announce(e)}update(e){(e=this._defaultAnnounceOpts(e)).event&&delete e.event,i("send `update` %o",e),this._announce(e)}reconnect(e){this._trackers.forEach((t=>{t.connectTracker&&t.connectTracker(e)}))}_announce(e){this._trackers.forEach((t=>{t.announce(e)}))}startPlay(e){this._trackers.forEach((t=>{t.startPlay(e)}))}stopPlay(){this._trackers.forEach((e=>{e.stopPlay()}))}scrape(e){i("send `scrape`"),e||(e={}),this._trackers.forEach((t=>{t.scrape(e)}))}setInterval(e){i("setInterval %d",e),this._trackers.forEach((t=>{t.setInterval(e)}))}destroy(e){if(this.destroyed)return;this.destroyed=!0,i("destroy");const t=this._trackers.map((e=>t=>{e.destroy(t)}));a(t,e),this._trackers=[],this._getAnnounceOpts=null}_defaultAnnounceOpts(e={}){return null==e.numwant&&(e.numwant=c.DEFAULT_ANNOUNCE_PEERS),null==e.uploaded&&(e.uploaded=0),null==e.downloaded&&(e.downloaded=0),this._getAnnounceOpts&&(e=Object.assign({},e,this._getAnnounceOpts())),e}}p.scrape=(e,t)=>{if(t=o(t),!e.infoHash)throw new Error("Option `infoHash` is required");if(!e.announce)throw new Error("Option `announce` is required");const r=Object.assign({},e,{infoHash:Array.isArray(e.infoHash)?e.infoHash[0]:e.infoHash,peerId:n.from("01234567890123456789"),port:6881}),i=new p(r);i.once("error",t),i.once("warning",t);let s=Array.isArray(e.infoHash)?e.infoHash.length:1;const a={};return i.on("scrape",(e=>{if(s-=1,a[e.infoHash]=e,0===s){i.destroy();const e=Object.keys(a);1===e.length?t(null,a[e[0]]):t(null,a)}})),e.infoHash=Array.isArray(e.infoHash)?e.infoHash.map((e=>n.from(e,"hex"))):n.from(e.infoHash,"hex"),i.scrape({infoHash:e.infoHash}),i},t.exports=p}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./lib/client/http-tracker":53,"./lib/client/udp-tracker":53,"./lib/client/websocket-tracker":3,"./lib/common":4,_process:152,buffer:"buffer",debug:"debug",events:"events",once:9,"queue-microtask":10,"run-parallel":27,"simple-peer":29}],2:[function(e,t,r){const n=e("events");t.exports=class extends n{constructor(e,t){super(),this.client=e,this.announceUrl=t,this.interval=null,this.destroyed=!1}setInterval(e){null==e&&(e=this.DEFAULT_ANNOUNCE_INTERVAL),clearInterval(this.interval),e&&(this.interval=setInterval((()=>{this.announce(this.client._defaultAnnounceOpts())}),e),this.interval.unref&&this.interval.unref())}}},{events:"events"}],3:[function(e,t,r){const n=e("simple-peer"),i=e("simple-websocket"),s=e("../common"),o=e("./tracker"),a={},l={LIVE:{close:6001,server:6004,serverRes:6005,peer:6006,peerRes:6007,heartbeat:6002,heartbeatRes:6003,sdp:6008},VOD:{close:7001,server:7004,serverRes:7005,peer:7006,peerRes:7007,heartbeat:7002,heartbeatRes:7003,sdp:7008,report:7010,reportRes:7011},CRT:{close:8001,server:8004,serverRes:8005,peer:8006,peerRes:8007,heartbeat:8002,heartbeatRes:8003,sdp:8008,report:8010,reportRes:8011}};class h extends o{constructor(e,t,r){super(e,t),s.logUtils.log("new websocket tracker %s",t,new Date,(new Date).getMilliseconds()),this.metrics=r,this.announceUrl=t,this.peers={},this.wrtPeers={},this.unValidPeerIds={},this.socket=null,this.streamId=null,this.mediaIdFromServer=void 0,this.playOptions={},this.reconnecting=!1,this.retries=0,this.reconnectTimer=null,this.expectingResponse=!1,this.lastServerConnectId=-1,this.lastServerType=-1,this._openSocket()}announce(e){if(!this.destroyed&&!this.reconnecting)if(this.socket.connected)if("stopped"===e.event||"completed"===e.event){const t=Object.assign({},{msgType:l[e.playType].close});this._send(t)}else{if(this.streamId&&this.streamId.length>0&&(-1===this.lastServerConnectId&&this._requestServerPeer(),Object.keys(this.peers).length<5&&this.client.useP2P&&("LIVE"===e.playType||this.mediaIdFromServer))){const t=Object.assign({},{msgType:l[e.playType].peer,mediaId:this.streamId,neighborsWant:5,lastConnectId:this.lastServerConnectId});this._send(t)}"LIVE"!==e.playType&&this.playOptions.getReportOptions&&this.playOptions.getReportOptions().then((t=>{t.localMedias.length>0&&(t.msgType=l[e.playType].report,this._send(t))}));const t=Object.assign({},{msgType:l[e.playType].heartbeat});this.heartbeatTimeId||(this.heartbeatTimeId=setTimeout((()=>{this.heartbeatTimeId=null,this.destroy(),this._startReconnectTimer()}),12e4),this._send(t))}else this.socket.once("connect",(()=>{this.announce(e)}))}scrape(e){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected)return void this.socket.once("connect",(()=>{this.scrape(e)}));const t={action:"scrape",info_hash:Array.isArray(e.infoHash)&&e.infoHash.length>0?e.infoHash.map((e=>e.toString("binary"))):e.infoHash&&e.infoHash.toString("binary")||this.client._infoHashBinary};this._send(t)}destroy(e=c){if(this.destroyed)return e(null);s.logUtils.warn("websocket destroy........"),this.destroyed=!0,clearInterval(this.interval),clearTimeout(this.reconnectTimer);for(const e in this.peers){const t=this.peers[e];null!==t.trackerTimeout&&clearTimeout(t.trackerTimeout),t.destroy()}for(const e in this.wrtPeers){const t=this.wrtPeers[e];null!==t.trackerTimeout&&clearTimeout(t.trackerTimeout),t.destroy()}for(const e in this.unValidPeerIds){const t=this.unValidPeerIds[e];clearTimeout(t)}if(this.peers={},this.wrtPeers={},this.unValidPeerIds={},this.socket&&(this.socket.removeListener("connect",this._onSocketConnectBound),this.socket.removeListener("data",this._onSocketDataBound),this.socket.removeListener("close",this._onSocketCloseBound),this.socket.removeListener("error",this._onSocketErrorBound),this.socket=null),this._onSocketConnectBound=null,this._onSocketErrorBound=null,this._onSocketDataBound=null,this._onSocketCloseBound=null,a[this.announceUrl]&&(a[this.announceUrl].consumers-=1),a[this.announceUrl].consumers>0)return e();let t,r=a[this.announceUrl];if(delete a[this.announceUrl],r.on("error",c),r.once("close",e),!this.expectingResponse)return n();function n(){t&&(clearTimeout(t),t=null),r.removeListener("data",n),r.destroy(),r=null}t=setTimeout(n,s.DESTROY_TIMEOUT),r.once("data",n)}startPlay(e){this.streamId=e.streamId||e.fileId||e.mediaId,this.playOptions=e,this.lastServerConnectId=-1,this._requestServerPeer()}stopPlay(){this.streamId=null,this.playOptions={},this.lastServerConnectId=-1;for(const e in this.peers){const t=this.peers[e];!0===t.connectedByClient&&(null!==t.trackerTimeout&&clearTimeout(t.trackerTimeout),t.destroy())}}_openSocket(){this.destroyed=!1,this.peers||(this.peers={}),this.wrtPeers||(this.wrtPeers={}),this.unValidPeerIds||(this.unValidPeerIds={}),this._onSocketConnectBound=()=>{this._onSocketConnect()},this._onSocketErrorBound=e=>{this._onSocketError(e)},this._onSocketDataBound=e=>{this._onSocketData(e)},this._onSocketCloseBound=()=>{this._onSocketClose()},this.socket=a[this.announceUrl],this.socket?(a[this.announceUrl].consumers+=1,this.socket.connected&&this._onSocketConnectBound()):(this.socket=a[this.announceUrl]=new i(this.announceUrl),this.socket.consumers=1,this.socket.once("connect",this._onSocketConnectBound)),this.socket.on("data",this._onSocketDataBound),this.socket.once("close",this._onSocketCloseBound),this.socket.once("error",this._onSocketErrorBound),setTimeout((()=>{this.setInterval()}),0)}connectTracker(e){e&&(a[this.announceUrl]&&delete a[this.announceUrl],s.logUtils.log("SocketPool:",a),this.announceUrl=e),this._openSocket()}_getDefaultOpts(){return this.client._defaultAnnounceOpts()}_onSocketConnect(){s.logUtils.log("tracker connect:",this,new Date,(new Date).getMilliseconds()),this.destroyed||(this.reconnecting&&(this.reconnecting=!1,this.retries=0,this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.announce(this._getDefaultOpts())),this.client.emit("connect"))}_onSocketData(e){if(!this.destroyed){this.expectingResponse=!1;try{e=JSON.parse(e)}catch(e){return void this.client.emit("warning",new Error("Invalid tracker response"))}[l.LIVE.heartbeatRes,l.VOD.heartbeatRes,l.CRT.heartbeatRes].includes(e.msgType)?this._onHeartBeatResponse(e):[l.LIVE.serverRes,l.VOD.serverRes,l.CRT.serverRes].includes(e.msgType)?(this.client.emit("server-recieve"),this._onServerReqResponse(e)):[l.LIVE.peerRes,l.VOD.peerRes,l.CRT.peerRes].includes(e.msgType)?this._onNeighReqResponse(e):[l.LIVE.sdp,l.VOD.sdp,l.CRT.sdp].includes(e.msgType)?this._onSdpExchange(e):[l.VOD.reportRes,l.CRT.reportRes].includes(e.msgType)&&this._onReportResponse(e)}}_onReportResponse(e){this.client.emit("report-response",e)}_onServerReqResponse(e){this.lastServerType=e.serverType,this.metrics.reportOnce(0,"first_tr",+new Date);const{playType:t}=this._getDefaultOpts();let r=e.resId||"";if("LIVE"!==t){this.streamId=e.mediaId,this.mediaIdFromServer=e.mediaId;const r=Object.assign({},{msgType:l[t].peer,mediaId:this.streamId,neighborsWant:5,lastConnectId:this.lastServerConnectId});this._send(r),this.client.emit("indexName",e.fileIndex),this.client.emit("recieveMediaId",e.mediaId)}if(this.lastServerConnectId=e.connectId,2===e.serverType){s.logUtils.log("get cdn server: ",e.serverAddress);const t=e.serverAddress.includes("resId=")||!r?e.serverAddress:`${e.serverAddress}?resId=${r}&authId=${e.authId}`;this.client.emit("cdn",t,r,e.authId)}else s.logUtils.log("get wrt server: ",this.lastServerConnectId,new Date),this._generateOfferWrt(this.lastServerConnectId,"offer")}_onNeighReqResponse(e){if(this.metrics.record("peer_num",e.neighbors.length),e.neighbors&&e.neighbors.length>0)for(var t=0;t<e.neighbors.length;t++)Object.keys(this.peers).length<5&&!this.peers[e.neighbors[t]]&&this._generateOffer(e.neighbors[t],"offer")}_onHeartBeatResponse(e){1===e.allocServerFlag&&(this.lastServerConnectId=-1),this.heartbeatTimeId&&(clearTimeout(this.heartbeatTimeId),this.heartbeatTimeId=null)}_onSdpExchange(e){let t;const{playType:r}=this._getDefaultOpts();if("offer"===e.sdpType){let n=null;try{n=JSON.parse(e.extra)}catch(e){return void this.client.emit("warning",new Error("Invalid tracker sdp no extra"))}if(this.peers[e.connectId]||Object.keys(this.peers).length>5)return;s.logUtils.log("creating peer (from remote offer)"),t=this._createPeer(),t.id=e.connectId,t.peerType="web",t.streamId=n.streamId,t.once("signal",(t=>{const n={msgType:l[r].sdp,connectId:e.connectId,description:t.sdp,sdpType:"answer",extra:JSON.stringify({streamId:null!==this.streamId?this.streamId:""})};this._send(n)})),t.signal({type:e.sdpType,sdp:e.description}),this.client.emit("peer",t),this.peers[t.id]=t,t.once("close",(()=>{s.logUtils.warn("ws... peer close"),delete this.peers[t.id],this._addUnValidPeer(t.id)}))}else if("answer"===e.sdpType){let r=null;try{r=JSON.parse(e.extra)}catch(e){return void this.client.emit("warning",new Error("Invalid tracker response no extra"))}const n=e.connectId===this.lastServerConnectId;t=n?this.wrtPeers[r.offerId]:this.peers[e.connectId],t?(t.id=n?r.offerId:e.connectId,n?(t.peerType="wrt",t.once("close",(()=>{s.logUtils.warn("ws... wrt close"),this.lastServerConnectId=-1}))):(t.peerType="web",t.streamId=r.streamId,t.once("close",(()=>{s.logUtils.warn("ws... peer close, peer id:",t.id),delete this.peers[t.id],this._addUnValidPeer(t.id)}))),t.signal({type:e.sdpType,sdp:e.description}),this.client.emit("peer",t),clearTimeout(t.trackerTimeout),t.trackerTimeout=null,n&&delete this.wrtPeers[r.offerId]):s.logUtils.error(`got unexpected answer: ${JSON.stringify(e.answer)}`)}}_onScrapeResponse(e){e=e.files||{};const t=Object.keys(e);0!==t.length?t.forEach((t=>{const r=Object.assign(e[t],{announce:this.announceUrl,infoHash:s.binaryToHex(t)});this.client.emit("scrape",r)})):this.client.emit("warning",new Error("invalid scrape response"))}_onSocketClose(){this.destroyed||(s.logUtils.warn("ws scoket close...."),this.destroy(),this._startReconnectTimer())}_onSocketError(e){this.destroyed||(s.logUtils.warn("ws scoket destroy...."),this.destroy(),this.client.emit("warning",e),this._startReconnectTimer())}_startReconnectTimer(){this.reconnecting=!0,clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout((()=>{this.retries++,this.lastServerConnectId=-1,this.client.emit("reconnect")}),3e3),this.reconnectTimer.unref&&this.reconnectTimer.unref(),s.logUtils.warn("reconnecting socket in %s ms",3e3)}_send(e){if(this.destroyed)return;this.expectingResponse=!0;const t=JSON.stringify(e);s.logUtils.log("send msg to tracker %s",t),this.socket.send(t)}_generateOfferWrt(e,t){const r=this,{playType:n}=this._getDefaultOpts();for(var i=0;i<6;i++){const o=this.client.peerId+i;s.logUtils.log("creating peer (from _generateOffer)",o);const a=r.wrtPeers[o]=r._createPeer({initiator:!0,channelSize:4});a.connectedByClient=!0,a.once("signal",(r=>{const i=Object.assign({},{msgType:l[n].sdp,connectId:e,sdpType:t,description:r.sdp,extra:JSON.stringify({offerId:o})});this._send(i),s.logUtils.log("_generateOffer send ",i)})),a.trackerTimeout=setTimeout((()=>{s.logUtils.warn("tracker timeout: destroying peer",e),a.trackerTimeout=null,delete r.wrtPeers[o],a.destroy(),this.lastServerConnectId=-1}),5e4),a.trackerTimeout.unref&&a.trackerTimeout.unref()}}_generateOffer(e,t){const r=this,{playType:n}=this._getDefaultOpts();s.logUtils.log("creating peer (from _generateOffer)",e);const i=r.peers[e]=r._createPeer({initiator:!0});i.connectedByClient=!0,i.once("signal",(r=>{const i=Object.assign({},{msgType:l[n].sdp,connectId:e,description:r.sdp,sdpType:t,extra:JSON.stringify({streamId:this.streamId})});this._send(i),s.logUtils.log("_generateOffer send ",i)})),i.trackerTimeout=setTimeout((()=>{s.logUtils.warn("tracker timeout: destroying peer",e),i.trackerTimeout=null,delete r.peers[e],i.destroy(),this._addUnValidPeer(e)}),5e4),i.trackerTimeout.unref&&i.trackerTimeout.unref()}_createPeer(e){const t=this;e=Object.assign({trickle:!1,config:t.client._rtcConfig,wrtc:t.client._wrtc},e);const r=new n(e);return r.once("error",i),r.once("connect",(function e(){r.removeListener("error",i),r.removeListener("connect",e)})),r;function i(e){s.logUtils.warn("ws.. peer error ",r),t.client.emit("warning",new Error(`Connection error: ${e.message}`)),r.destroy()}}_addUnValidPeer(e){if(this.unValidPeerIds[e])return;s.logUtils.log("add unvalid peer: ",e);const t=setTimeout((()=>{s.logUtils.log("cancel unvalid peer: ",e),delete this.unValidPeerIds[e]}),6e5);this.unValidPeerIds[e]=t}_requestServerPeer(){if(this.socket&&this.socket.connected){const{playType:e}=this._getDefaultOpts(),t=Object.assign({msgType:l[e].server,lastConnectId:this.lastServerConnectId},this.playOptions);"LIVE"===e&&(t.mediaId=this.playOptions.streamId),s.logUtils.log("request for server: ",t),this._send(t)}}}function c(){}h.prototype.DEFAULT_ANNOUNCE_INTERVAL=3e4,h._socketPool=a,t.exports=h},{"../common":4,"./tracker":2,"simple-peer":29,"simple-websocket":30}],4:[function(e,t,r){(function(t){(function(){const n=e("dayjs");r.DEFAULT_ANNOUNCE_PEERS=50,r.MAX_ANNOUNCE_PEERS=82,r.binaryToHex=function(e){return"string"!=typeof e&&(e=String(e)),t.from(e,"binary").toString("hex")},r.hexToBinary=function(e){return"string"!=typeof e&&(e=String(e)),t.from(e,"hex").toString("binary")};const i=e("./common-node"),s={};["log","info","warn","error"].forEach((e=>{s[e]=(...t)=>{const r=window.console[e],i=n().format("YYYY-MM-DD HH:mm:ss ");if("log"!==e)return r.apply(this,[i,...t])}})),r.logUtils=s,Object.assign(r,i)}).call(this)}).call(this,e("buffer").Buffer)},{"./common-node":53,buffer:"buffer",dayjs:5}],5:[function(e,t,r){var n,i;n=this,i=function(){"use strict";var e=6e4,t=36e5,r="millisecond",n="second",i="minute",s="hour",o="day",a="week",l="month",h="quarter",c="year",u="date",d="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}},m=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},y={s:m,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),i=r%60;return(t<=0?"+":"-")+m(n,2,"0")+":"+m(i,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),i=t.clone().add(n,l),s=r-i<0,o=t.clone().add(n+(s?-1:1),l);return+(-(n+(r-i)/(s?i-o:o-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:c,w:a,d:o,D:u,h:s,m:i,s:n,ms:r,Q:h}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},_="en",b={};b[_]=g;var w="$isDayjsObject",v=function(e){return e instanceof k||!(!e||!e[w])},E=function e(t,r,n){var i;if(!t)return _;if("string"==typeof t){var s=t.toLowerCase();b[s]&&(i=s),r&&(b[s]=r,i=s);var o=t.split("-");if(!i&&o.length>1)return e(o[0])}else{var a=t.name;b[a]=t,i=a}return!n&&i&&(_=i),i||!n&&_},S=function(e,t){if(v(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new k(r)},T=y;T.l=E,T.i=v,T.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function g(e){this.$L=E(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var m=g.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(T.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(f);if(n){var i=n[2]-1||0,s=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(t)}(e),this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return T},m.isValid=function(){return!(this.$d.toString()===d)},m.isSame=function(e,t){var r=S(e);return this.startOf(t)<=r&&r<=this.endOf(t)},m.isAfter=function(e,t){return S(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<S(e)},m.$g=function(e,t,r){return T.u(e)?this[t]:this.set(r,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var r=this,h=!!T.u(t)||t,d=T.p(e),f=function(e,t){var n=T.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return h?n:n.endOf(o)},p=function(e,t){return T.w(r.toDate()[e].apply(r.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},g=this.$W,m=this.$M,y=this.$D,_="set"+(this.$u?"UTC":"");switch(d){case c:return h?f(1,0):f(31,11);case l:return h?f(1,m):f(0,m+1);case a:var b=this.$locale().weekStart||0,w=(g<b?g+7:g)-b;return f(h?y-w:y+(6-w),m);case o:case u:return p(_+"Hours",0);case s:return p(_+"Minutes",1);case i:return p(_+"Seconds",2);case n:return p(_+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,t){var a,h=T.p(e),d="set"+(this.$u?"UTC":""),f=(a={},a[o]=d+"Date",a[u]=d+"Date",a[l]=d+"Month",a[c]=d+"FullYear",a[s]=d+"Hours",a[i]=d+"Minutes",a[n]=d+"Seconds",a[r]=d+"Milliseconds",a)[h],p=h===o?this.$D+(t-this.$W):t;if(h===l||h===c){var g=this.clone().set(u,1);g.$d[f](p),g.init(),this.$d=g.set(u,Math.min(this.$D,g.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[T.p(e)]()},m.add=function(r,h){var u,d=this;r=Number(r);var f=T.p(h),p=function(e){var t=S(d);return T.w(t.date(t.date()+Math.round(e*r)),d)};if(f===l)return this.set(l,this.$M+r);if(f===c)return this.set(c,this.$y+r);if(f===o)return p(1);if(f===a)return p(7);var g=(u={},u[i]=e,u[s]=t,u[n]=1e3,u)[f]||1,m=this.$d.getTime()+r*g;return T.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||d;var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=T.z(this),s=this.$H,o=this.$m,a=this.$M,l=r.weekdays,h=r.months,c=r.meridiem,u=function(e,r,i,s){return e&&(e[r]||e(t,n))||i[r].slice(0,s)},f=function(e){return T.s(s%12||12,e,"0")},g=c||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(p,(function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return T.s(t.$y,4,"0");case"M":return a+1;case"MM":return T.s(a+1,2,"0");case"MMM":return u(r.monthsShort,a,h,3);case"MMMM":return u(h,a);case"D":return t.$D;case"DD":return T.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return u(r.weekdaysMin,t.$W,l,2);case"ddd":return u(r.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(s);case"HH":return T.s(s,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return g(s,o,!0);case"A":return g(s,o,!1);case"m":return String(o);case"mm":return T.s(o,2,"0");case"s":return String(t.$s);case"ss":return T.s(t.$s,2,"0");case"SSS":return T.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,u,d){var f,p=this,g=T.p(u),m=S(r),y=(m.utcOffset()-this.utcOffset())*e,_=this-m,b=function(){return T.m(p,m)};switch(g){case c:f=b()/12;break;case l:f=b();break;case h:f=b()/3;break;case a:f=(_-y)/6048e5;break;case o:f=(_-y)/864e5;break;case s:f=_/t;break;case i:f=_/e;break;case n:f=_/1e3;break;default:f=_}return d?f:T.a(f)},m.daysInMonth=function(){return this.endOf(l).$D},m.$locale=function(){return b[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=E(e,t,!0);return n&&(r.$L=n),r},m.clone=function(){return T.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),I=k.prototype;return S.prototype=I,[["$ms",r],["$s",n],["$m",i],["$H",s],["$W",o],["$M",l],["$y",c],["$D",u]].forEach((function(e){I[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,k,S),e.$i=!0),S},S.locale=E,S.isDayjs=v,S.unix=function(e){return S(1e3*e)},S.en=b[_],S.Ls=b,S.p={},S},"object"==typeof r&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):(n="undefined"!=typeof globalThis?globalThis:n||self).dayjs=i()},{}],6:[function(e,t,r){"use strict";function n(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}t.exports=function(e,t,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r||(r={}),"object"==typeof t&&(r=t,t=""),t&&(r.code=t);try{return n(e,r)}catch(t){r.message=e.message,r.stack=e.stack;const i=function(){};i.prototype=Object.create(Object.getPrototypeOf(e));return n(new i,r)}}},{}],7:[function(e,t,r){t.exports=function(){if("undefined"==typeof globalThis)return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}},{}],8:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},{}],9:[function(e,t,r){var n=e("wrappy");function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function s(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}t.exports=n(i),t.exports.strict=n(s),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return s(this)},configurable:!0})}))},{wrappy:33}],10:[function(e,t,r){(function(e){(function(){
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
let r;t.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:e):e=>(r||(r=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(e,t,r){(function(r,n){(function(){"use strict";var i=65536,s=4294967295;var o=e("safe-buffer").Buffer,a=n.crypto||n.msCrypto;a&&a.getRandomValues?t.exports=function(e,t){if(e>s)throw new RangeError("requested too many random bytes");var n=o.allocUnsafe(e);if(e>0)if(e>i)for(var l=0;l<e;l+=i)a.getRandomValues(n.slice(l,l+i));else a.getRandomValues(n);if("function"==typeof t)return r.nextTick((function(){t(null,n)}));return n}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:152,"safe-buffer":28}],12:[function(e,t,r){"use strict";var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function s(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i,o,a;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(n," ").concat(s(t,"type"));else{var l=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(l," ").concat(n," ").concat(s(t,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n},{}],13:[function(e,t,r){(function(r){(function(){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=h;var i=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(h,i);for(var o=n(s.prototype),a=0;a<o.length;a++){var l=o[a];h.prototype[l]||(h.prototype[l]=s.prototype[l])}function h(e){if(!(this instanceof h))return new h(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||r.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":15,"./_stream_writable":17,_process:152,inherits:8}],14:[function(e,t,r){"use strict";t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":16,inherits:8}],15:[function(e,t,r){(function(r,n){(function(){"use strict";var i;t.exports=k,k.ReadableState=T;e("events").EventEmitter;var s=function(e,t){return e.listeners(t).length},o=e("./internal/streams/stream"),a=e("buffer").Buffer,l=(void 0!==n?n:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var h,c=e("util");h=c&&c.debuglog?c.debuglog("stream"):function(){};var u,d,f,p=e("./internal/streams/buffer_list"),g=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,y=e("../errors").codes,_=y.ERR_INVALID_ARG_TYPE,b=y.ERR_STREAM_PUSH_AFTER_EOF,w=y.ERR_METHOD_NOT_IMPLEMENTED,v=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(k,o);var E=g.errorOrDestroy,S=["error","close","destroy","pause","resume"];function T(t,r,n){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof n&&(n=r instanceof i),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",n),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(u||(u=e("string_decoder/").StringDecoder),this.decoder=new u(t.encoding),this.encoding=t.encoding)}function k(t){if(i=i||e("./_stream_duplex"),!(this instanceof k))return new k(t);var r=this instanceof i;this._readableState=new T(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),o.call(this)}function I(e,t,r,n,i){h("readableAddChunk",t);var s,o=e._readableState;if(null===t)o.reading=!1,function(e,t){if(h("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?C(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,O(e)))}(e,o);else if(i||(s=function(e,t){var r;n=t,a.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new _("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(o,t)),s)E(e,s);else if(o.objectMode||t&&t.length>0)if("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)o.endEmitted?E(e,new v):R(e,o,t,!0);else if(o.ended)E(e,new b);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?R(e,o,t,!1):D(e,o)):R(e,o,t,!1)}else n||(o.reading=!1,D(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function R(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&C(e)),D(e,t)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),k.prototype.destroy=g.destroy,k.prototype._undestroy=g.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),I(this,e,t,!1,r)},k.prototype.unshift=function(e){return I(this,e,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(t){u||(u=e("string_decoder/").StringDecoder);var r=new u(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var A=1073741824;function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;h("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(O,e))}function O(e){var t=e._readableState;h("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,B(e)}function D(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(M,e,t))}function M(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(h("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function N(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function U(e){h("readable nexttick read 0"),e.read(0)}function L(e,t){h("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function F(e){var t=e._readableState;h("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(j,t,e))}function j(e,t){if(h("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function z(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}k.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?F(this):C(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&F(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(r,t))),null===(n=e>0?P(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&F(this)),null!==n&&this.emit("data",n),n},k.prototype._read=function(e){E(this,new w("_read()"))},k.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var o=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?l:m;function a(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",c),e.removeListener("error",f),e.removeListener("unpipe",a),n.removeListener("end",l),n.removeListener("end",m),n.removeListener("data",d),u=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function l(){h("onend"),e.end()}i.endEmitted?r.nextTick(o):n.once("end",o),e.on("unpipe",a);var c=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,B(e))}}(n);e.on("drain",c);var u=!1;function d(t){h("ondata");var r=e.write(t);h("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==z(i.pipes,e))&&!u&&(h("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function f(t){h("onerror",t),m(),e.removeListener("error",f),0===s(e,"error")&&E(e,t)}function p(){e.removeListener("finish",g),m()}function g(){h("onfinish"),e.removeListener("close",p),m()}function m(){h("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",f),e.once("close",p),e.once("finish",g),e.emit("pipe",n),i.flowing||(h("pipe resume"),n.resume()),e},k.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=z(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},k.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,h("on readable",i.length,i.reading),i.length?C(this):i.reading||r.nextTick(U,this))),n},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(N,this),n},k.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(N,this),t},k.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(L,e,t))}(this,e)),e.paused=!1,this},k.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<S.length;s++)e.on(S[s],this.emit.bind(this,S[s]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=e("./internal/streams/async_iterator")),d(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),k._fromList=P,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(k.from=function(t,r){return void 0===f&&(f=e("./internal/streams/from")),f(k,t,r)})}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":12,"./_stream_duplex":13,"./internal/streams/async_iterator":18,"./internal/streams/buffer_list":19,"./internal/streams/destroy":20,"./internal/streams/from":22,"./internal/streams/state":24,"./internal/streams/stream":25,_process:152,buffer:"buffer",events:"events",inherits:8,"string_decoder/":31,util:53}],16:[function(e,t,r){"use strict";t.exports=c;var n=e("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,l=e("./_stream_duplex");function h(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);l.call(this,e),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}e("inherits")(c,l),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){r(new i("_transform()"))},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}},{"../errors":12,"./_stream_duplex":13,inherits:8}],17:[function(e,t,r){(function(r,n){(function(){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var s;t.exports=k,k.WritableState=T;var o={deprecate:e("util-deprecate")},a=e("./internal/streams/stream"),l=e("buffer").Buffer,h=(void 0!==n?n:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var c,u=e("./internal/streams/destroy"),d=e("./internal/streams/state").getHighWaterMark,f=e("../errors").codes,p=f.ERR_INVALID_ARG_TYPE,g=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,y=f.ERR_STREAM_CANNOT_PIPE,_=f.ERR_STREAM_DESTROYED,b=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,v=f.ERR_UNKNOWN_ENCODING,E=u.errorOrDestroy;function S(){}function T(t,n,o){s=s||e("./_stream_duplex"),t=t||{},"boolean"!=typeof o&&(o=n instanceof s),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=d(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,s=n.writecb;if("function"!=typeof s)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,s){--t.pendingcb,n?(r.nextTick(s,i),r.nextTick(O,e,t),e._writableState.errorEmitted=!0,E(e,i)):(s(i),e._writableState.errorEmitted=!0,E(e,i),O(e,t))}(e,n,i,t,s);else{var o=x(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||A(e,n),i?r.nextTick(R,e,n,o,s):R(e,n,o,s)}}(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function k(t){var r=this instanceof(s=s||e("./_stream_duplex"));if(!r&&!c.call(k,this))return new k(t);this._writableState=new T(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function I(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new _("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function R(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),O(e,t)}function A(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,s=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,l=!0;r;)s[a]=r,r.isBuf||(l=!1),r=r.next,a+=1;s.allBuffers=l,I(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var h=r.chunk,c=r.encoding,u=r.callback;if(I(e,t,!1,t.objectMode?1:h.length,h,c,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final((function(r){t.pendingcb--,r&&E(e,r),t.prefinished=!0,e.emit("prefinish"),O(e,t)}))}function O(e,t){var n=x(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(C,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e("inherits")(k,a),T.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(T.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===k&&(e&&e._writableState instanceof T)}})):c=function(e){return e instanceof this},k.prototype.pipe=function(){E(this,new y)},k.prototype.write=function(e,t,n){var i,s=this._writableState,o=!1,a=!s.objectMode&&(i=e,l.isBuffer(i)||i instanceof h);return a&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof n&&(n=S),s.ending?function(e,t){var n=new w;E(e,n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,i){var s;return null===n?s=new b:"string"==typeof n||t.objectMode||(s=new p("chunk",["string","Buffer"],n)),!s||(E(e,s),r.nextTick(i,s),!1)}(this,s,e,n))&&(s.pendingcb++,o=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=t.objectMode?1:n.length;t.length+=a;var h=t.length<t.highWaterMark;h||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else I(e,t,!1,a,n,i,s);return h}(this,s,a,e,t,n)),o},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||A(this,e))},k.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new v(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(e,t,r){r(new g("_write()"))},k.prototype._writev=null,k.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,O(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),k.prototype.destroy=u.destroy,k.prototype._undestroy=u.undestroy,k.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":12,"./_stream_duplex":13,"./internal/streams/destroy":20,"./internal/streams/state":24,"./internal/streams/stream":25,_process:152,buffer:"buffer",inherits:8,"util-deprecate":32}],18:[function(e,t,r){(function(r){(function(){"use strict";var n;function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=e("./end-of-stream"),o=Symbol("lastResolve"),a=Symbol("lastReject"),l=Symbol("error"),h=Symbol("ended"),c=Symbol("lastPromise"),u=Symbol("handlePromise"),d=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var r=e[d].read();null!==r&&(e[c]=null,e[o]=null,e[a]=null,t(f(r,!1)))}}function g(e){r.nextTick(p,e)}var m=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(n={get stream(){return this[d]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[h])return Promise.resolve(f(void 0,!0));if(this[d].destroyed)return new Promise((function(t,n){r.nextTick((function(){e[l]?n(e[l]):t(f(void 0,!0))}))}));var n,i=this[c];if(i)n=new Promise(function(e,t){return function(r,n){e.then((function(){t[h]?r(f(void 0,!0)):t[u](r,n)}),n)}}(i,this));else{var s=this[d].read();if(null!==s)return Promise.resolve(f(s,!1));n=new Promise(this[u])}return this[c]=n,n}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(f(void 0,!0))}))}))})),n),m);t.exports=function(e){var t,r=Object.create(y,(i(t={},d,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,h,{value:e._readableState.endEmitted,writable:!0}),i(t,u,{value:function(e,t){var n=r[d].read();n?(r[c]=null,r[o]=null,r[a]=null,e(f(n,!1))):(r[o]=e,r[a]=t)},writable:!0}),t));return r[c]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[c]=null,r[o]=null,r[a]=null,t(e)),void(r[l]=e)}var n=r[o];null!==n&&(r[c]=null,r[o]=null,r[a]=null,n(f(void 0,!0))),r[h]=!0})),e.on("readable",g.bind(null,r)),r}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":21,_process:152}],19:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var l=e("buffer").Buffer,h=e("util").inspect,c=h&&h.custom||"inspect";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,n;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return l.alloc(0);for(var t,r,n,i=l.allocUnsafe(e>>>0),s=this.head,o=0;s;)t=s.data,r=i,n=o,l.prototype.copy.call(t,r,n),o+=s.data.length,s=s.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?n+=i:n+=i.slice(0,e),0==(e-=s)){s===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=l.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0==(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return h(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&o(t.prototype,r),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},{buffer:"buffer",util:53}],20:[function(e,t,r){(function(e){(function(){"use strict";function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,s){var o=this,a=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return a||l?(s?s(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!s&&t?o._writableState?o._writableState.errorEmitted?e.nextTick(n,o):(o._writableState.errorEmitted=!0,e.nextTick(r,o,t)):e.nextTick(r,o,t):s?(e.nextTick(n,o),s(t)):e.nextTick(n,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))},{_process:152}],21:[function(e,t,r){"use strict";var n=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,r,s){if("function"==typeof r)return e(t,null,r);r||(r={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,l=function(){t.writable||c()},h=t._writableState&&t._writableState.finished,c=function(){a=!1,h=!0,o||s.call(t)},u=t._readableState&&t._readableState.endEmitted,d=function(){o=!1,u=!0,a||s.call(t)},f=function(e){s.call(t,e)},p=function(){var e;return o&&!u?(t._readableState&&t._readableState.ended||(e=new n),s.call(t,e)):a&&!h?(t._writableState&&t._writableState.ended||(e=new n),s.call(t,e)):void 0},g=function(){t.req.on("finish",c)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",l),t.on("close",l)):(t.on("complete",c),t.on("abort",p),t.req?g():t.on("request",g)),t.on("end",d),t.on("finish",c),!1!==r.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",c),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",c),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",c),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",p)}}},{"../../../errors":12}],22:[function(e,t,r){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],23:[function(e,t,r){"use strict";var n;var i=e("../../../errors").codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function l(t,r,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;t.on("close",(function(){a=!0})),void 0===n&&(n=e("./end-of-stream")),n(t,{readable:r,writable:i},(function(e){if(e)return s(e);a=!0,s()}));var l=!1;return function(e){if(!a&&!l)return l=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}function h(e){e()}function c(e,t){return e.pipe(t)}function u(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}t.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=u(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var o=t.map((function(e,r){var s=r<t.length-1;return l(e,s,r>0,(function(e){n||(n=e),e&&o.forEach(h),s||(o.forEach(h),i(n))}))}));return t.reduce(c)}},{"../../../errors":12,"./end-of-stream":21}],24:[function(e,t,r){"use strict";var n=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,r,i){var s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},{"../../../errors":12}],25:[function(e,t,r){t.exports=e("events").EventEmitter},{events:"events"}],26:[function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":13,"./lib/_stream_passthrough.js":14,"./lib/_stream_readable.js":15,"./lib/_stream_transform.js":16,"./lib/_stream_writable.js":17,"./lib/internal/streams/end-of-stream.js":21,"./lib/internal/streams/pipeline.js":23}],27:[function(e,t,r){
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.exports=function(e,t){let r,i,s,o=!0;Array.isArray(e)?(r=[],i=e.length):(s=Object.keys(e),r={},i=s.length);function a(e){function i(){t&&t(e,r),t=null}o?n(i):i()}function l(e,t,n){r[e]=n,(0==--i||t)&&a(t)}i?s?s.forEach((function(t){e[t]((function(e,r){l(t,e,r)}))})):e.forEach((function(e,t){e((function(e,r){l(t,e,r)}))})):a(null);o=!1};const n=e("queue-microtask")},{"queue-microtask":10}],28:[function(e,t,r){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=e("buffer"),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,r),r.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:"buffer"}],29:[function(e,t,r){
/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
const n=e("debug")("simple-peer"),i=e("get-browser-rtc"),s=e("randombytes"),o=e("readable-stream"),a=e("queue-microtask"),l=e("err-code"),{Buffer:h}=e("buffer"),c=65536;function u(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}class d extends o.Duplex{constructor(e){if(super(e=Object.assign({allowHalfOpen:!1},e)),this._id=s(4).toString("hex").slice(0,7),this._debug("new peer %o",e),this.channelName=e.initiator?e.channelName||s(20).toString("hex"):null,this.initiator=e.initiator||!1,this.channelConfig=e.channelConfig||d.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},d.config,e.config),this.offerOptions=e.offerOptions||{},this.answerOptions=e.answerOptions||{},this.sdpTransform=e.sdpTransform||(e=>e),this.streams=e.streams||(e.stream?[e.stream]:[]),this.trickle=void 0===e.trickle||e.trickle,this.allowHalfTrickle=void 0!==e.allowHalfTrickle&&e.allowHalfTrickle,this.iceCompleteTimeout=e.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=e.wrtc&&"object"==typeof e.wrtc?e.wrtc:i(),!this._wrtc)throw"undefined"==typeof window?l(new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"),"ERR_WEBRTC_SUPPORT"):l(new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(e){return void this.destroy(l(e,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc="number"==typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=e=>{this._onIceCandidate(e)},"object"==typeof this._pc.peerIdentity&&this._pc.peerIdentity.catch((e=>{this.destroy(l(e,"ERR_PC_PEER_IDENTITY"))})),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=e=>{this._setupData(e)},this.streams&&this.streams.forEach((e=>{this.addStream(e)})),this._pc.ontrack=e=>{this._onTrack(e)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(e){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e={}}this._debug("signal()"),e.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),e.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(e.candidate):this._pendingCandidates.push(e.candidate)),e.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(e)).then((()=>{this.destroyed||(this._pendingCandidates.forEach((e=>{this._addIceCandidate(e)})),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())})).catch((e=>{this.destroy(l(e,"ERR_SET_REMOTE_DESCRIPTION"))})),e.sdp||e.candidate||e.renegotiate||e.transceiverRequest||this.destroy(l(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(e){const t=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(t).catch((e=>{!t.address||t.address.endsWith(".local")||this.destroy(l(e,"ERR_ADD_ICE_CANDIDATE"))}))}send(e){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(e)}}addTransceiver(e,t){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,t),this._needsNegotiation()}catch(e){this.destroy(l(e,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:e,init:t}})}}addStream(e){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),e.getTracks().forEach((t=>{this.addTrack(t,e)}))}}addTrack(e,t){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const r=this._senderMap.get(e)||new Map;let n=r.get(t);if(n)throw n.removed?l(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):l(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");n=this._pc.addTrack(e,t),r.set(t,n),this._senderMap.set(e,r),this._needsNegotiation()}replaceTrack(e,t,r){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const n=this._senderMap.get(e),i=n?n.get(r):null;if(!i)throw l(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");t&&this._senderMap.set(t,n),null!=i.replaceTrack?i.replaceTrack(t):this.destroy(l(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(e,t){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const r=this._senderMap.get(e),n=r?r.get(t):null;if(!n)throw l(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{n.removed=!0,this._pc.removeTrack(n)}catch(e){"NS_ERROR_UNEXPECTED"===e.name?this._sendersAwaitingStable.push(n):this.destroy(l(e,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(e){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),e.getTracks().forEach((t=>{this.removeTrack(t,e)}))}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,a((()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1})))}negotiate(){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout((()=>{this._createOffer()}),0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(e){this._destroy(e,(()=>{}))}_destroy(e,t){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",e&&(e.message||e)),a((()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(e){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(e){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,e&&this.emit("error",e),this.emit("close"),t()})))}_setupData(e){if(!e.channel)return this.destroy(l(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=c),this.channelName=this._channel.label,this._channel.onmessage=e=>{this._onChannelMessage(e)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=e=>{const t=e.error instanceof Error?e.error:new Error(`Datachannel error: ${e.message} ${e.filename}:${e.lineno}:${e.colno}`);this.destroy(l(t,"ERR_DATA_CHANNEL"))};let t=!1;this._closingInterval=setInterval((()=>{this._channel&&"closing"===this._channel.readyState?(t&&this._onChannelClose(),t=!0):t=!1}),5e3)}_read(){}_write(e,t,r){if(this.destroyed)return r(l(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch(e){return this.destroy(l(e,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>c?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=r):r(null)}else this._debug("write before connect"),this._chunk=e,this._cb=r}_onFinish(){if(this.destroyed)return;const e=()=>{setTimeout((()=>this.destroy()),1e3)};this._connected?e():this.once("connect",e)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout((()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))}),this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then((e=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(e.sdp=u(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const t=()=>{if(this.destroyed)return;const t=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:t.type,sdp:t.sdp})};this._pc.setLocalDescription(e).then((()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))})).catch((e=>{this.destroy(l(e,"ERR_SET_LOCAL_DESCRIPTION"))}))})).catch((e=>{this.destroy(l(e,"ERR_CREATE_OFFER"))}))}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach((e=>{e.mid||!e.sender.track||e.requested||(e.requested=!0,this.addTransceiver(e.sender.track.kind))}))}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then((e=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(e.sdp=u(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const t=()=>{if(this.destroyed)return;const t=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:t.type,sdp:t.sdp}),this.initiator||this._requestMissingTransceivers()};this._pc.setLocalDescription(e).then((()=>{this.destroyed||(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))})).catch((e=>{this.destroy(l(e,"ERR_SET_LOCAL_DESCRIPTION"))}))})).catch((e=>{this.destroy(l(e,"ERR_CREATE_ANSWER"))}))}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(l(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const e=this._pc.iceConnectionState,t=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e,t),this.emit("iceStateChange",e,t),"connected"!==e&&"completed"!==e||(this._pcReady=!0,this._maybeReady()),"failed"===e&&this.destroy(l(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===e&&this.destroy(l(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(e){const t=e=>("[object Array]"===Object.prototype.toString.call(e.values)&&e.values.forEach((t=>{Object.assign(e,t)})),e);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then((r=>{const n=[];r.forEach((e=>{n.push(t(e))})),e(null,n)}),(t=>e(t))):this._pc.getStats.length>0?this._pc.getStats((r=>{if(this.destroyed)return;const n=[];r.result().forEach((e=>{const r={};e.names().forEach((t=>{r[t]=e.stat(t)})),r.id=e.id,r.type=e.type,r.timestamp=e.timestamp,n.push(t(r))})),e(null,n)}),(t=>e(t))):e(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const e=()=>{this.destroyed||this.getStats(((t,r)=>{if(this.destroyed)return;t&&(r=[]);const n={},i={},s={};let o=!1;r.forEach((e=>{"remotecandidate"!==e.type&&"remote-candidate"!==e.type||(n[e.id]=e),"localcandidate"!==e.type&&"local-candidate"!==e.type||(i[e.id]=e),"candidatepair"!==e.type&&"candidate-pair"!==e.type||(s[e.id]=e)}));const a=e=>{o=!0;let t=i[e.localCandidateId];t&&(t.ip||t.address)?(this.localAddress=t.ip||t.address,this.localPort=Number(t.port)):t&&t.ipAddress?(this.localAddress=t.ipAddress,this.localPort=Number(t.portNumber)):"string"==typeof e.googLocalAddress&&(t=e.googLocalAddress.split(":"),this.localAddress=t[0],this.localPort=Number(t[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let r=n[e.remoteCandidateId];r&&(r.ip||r.address)?(this.remoteAddress=r.ip||r.address,this.remotePort=Number(r.port)):r&&r.ipAddress?(this.remoteAddress=r.ipAddress,this.remotePort=Number(r.portNumber)):"string"==typeof e.googRemoteAddress&&(r=e.googRemoteAddress.split(":"),this.remoteAddress=r[0],this.remotePort=Number(r[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(r.forEach((e=>{"transport"===e.type&&e.selectedCandidatePairId&&a(s[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&a(e)})),o||Object.keys(s).length&&!Object.keys(i).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(t){return this.destroy(l(t,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const e=this._cb;this._cb=null,e(null)}"number"!=typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval((()=>this._onInterval()),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(e,100)}))};e()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>c||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"===this._pc.signalingState&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach((e=>{this._pc.removeTrack(e),this._queuedNegotiation=!0})),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):e.candidate||this._iceComplete||(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(e){if(this.destroyed)return;let t=e.data;t instanceof ArrayBuffer&&(t=h.from(t)),this.push(t)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const e=this._cb;this._cb=null,e(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(e){this.destroyed||e.streams.forEach((t=>{this._debug("on track"),this.emit("track",e.track,t),this._remoteTracks.push({track:e.track,stream:t}),this._remoteStreams.some((e=>e.id===t.id))||(this._remoteStreams.push(t),a((()=>{this._debug("on stream"),this.emit("stream",t)})))}))}_debug(){const e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],n.apply(null,e)}}d.WEBRTC_SUPPORT=!!i(),d.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},d.channelConfig={},t.exports=d},{buffer:"buffer",debug:"debug","err-code":6,"get-browser-rtc":7,"queue-microtask":10,randombytes:11,"readable-stream":26}],30:[function(e,t,r){(function(r){(function(){
/*! simple-websocket. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
const n=e("debug")("simple-websocket"),i=e("randombytes"),s=e("readable-stream"),o=e("queue-microtask"),a=e("ws"),l="function"!=typeof a?WebSocket:a;class h extends s.Duplex{constructor(e={}){if("string"==typeof e&&(e={url:e}),super(e=Object.assign({allowHalfOpen:!1},e)),null==e.url&&null==e.socket)throw new Error("Missing required `url` or `socket` option");if(null!=e.url&&null!=e.socket)throw new Error("Must specify either `url` or `socket` option, not both");if(this._id=i(4).toString("hex").slice(0,7),this._debug("new websocket: %o",e),this.connected=!1,this.destroyed=!1,this._chunk=null,this._cb=null,this._interval=null,e.socket)this.url=e.socket.url,this._ws=e.socket,this.connected=e.socket.readyState===l.OPEN;else{this.url=e.url;try{this._ws="function"==typeof a?new l(e.url,null,{...e,encoding:void 0}):new l(e.url)}catch(e){return void o((()=>this.destroy(e)))}}this._ws.binaryType="arraybuffer",e.socket&&this.connected?o((()=>this._handleOpen())):this._ws.onopen=()=>this._handleOpen(),this._ws.onmessage=e=>this._handleMessage(e),this._ws.onclose=()=>this._handleClose(),this._ws.onerror=e=>this._handleError(e),this._handleFinishBound=()=>this._handleFinish(),this.once("finish",this._handleFinishBound)}send(e){this._ws.send(e)}destroy(e){this._destroy(e,(()=>{}))}_destroy(e,t){if(!this.destroyed){if(this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.connected=!1,this.destroyed=!0,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._handleFinishBound&&this.removeListener("finish",this._handleFinishBound),this._handleFinishBound=null,this._ws){const t=this._ws,r=()=>{t.onclose=null};if(t.readyState===l.CLOSED)r();else try{t.onclose=r,t.close()}catch(e){r()}t.onopen=null,t.onmessage=null,t.onerror=()=>{}}this._ws=null,e&&this.emit("error",e),this.emit("close"),t()}}_read(){}_write(e,t,r){if(this.destroyed)return r(new Error("cannot write after socket is destroyed"));if(this.connected){try{this.send(e)}catch(e){return this.destroy(e)}"function"!=typeof a&&this._ws.bufferedAmount>65536?(this._debug("start backpressure: bufferedAmount %d",this._ws.bufferedAmount),this._cb=r):r(null)}else this._debug("write before connect"),this._chunk=e,this._cb=r}_handleOpen(){if(!this.connected&&!this.destroyed){if(this.connected=!0,this._chunk){try{this.send(this._chunk)}catch(e){return this.destroy(e)}this._chunk=null,this._debug('sent chunk from "write before connect"');const e=this._cb;this._cb=null,e(null)}"function"!=typeof a&&(this._interval=setInterval((()=>this._onInterval()),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}}_handleMessage(e){if(this.destroyed)return;let t=e.data;t instanceof ArrayBuffer&&(t=r.from(t)),this.push(t)}_handleClose(){this.destroyed||(this._debug("on close"),this.destroy())}_handleError(e){this.destroy(new Error(`Error connecting to ${this.url}`))}_handleFinish(){if(this.destroyed)return;const e=()=>{setTimeout((()=>this.destroy()),1e3)};this.connected?e():this.once("connect",e)}_onInterval(){if(!this._cb||!this._ws||this._ws.bufferedAmount>65536)return;this._debug("ending backpressure: bufferedAmount %d",this._ws.bufferedAmount);const e=this._cb;this._cb=null,e(null)}_debug(){const e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],n.apply(null,e)}}h.WEBSOCKET_SUPPORT=!!l,t.exports=h}).call(this)}).call(this,e("buffer").Buffer)},{buffer:"buffer",debug:"debug","queue-microtask":10,randombytes:11,"readable-stream":26,ws:53}],31:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=h,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=c,this.end=u,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function h(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}r.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=o(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=o(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":28}],32:[function(e,t,r){(function(e){(function(){function r(t){try{if(!e.localStorage)return!1}catch(e){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation"),n=!0}return e.apply(this,arguments)}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(e,t,r){t.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach((function(e){n[e]=i[e]})),n}}},{}],34:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BandwidthApproximator=void 0;const n=15e3;class i{constructor(e,t){this.value=e,this.timeStamp=t}}r.BandwidthApproximator=class{constructor(){this.lastBytes=[],this.currentBytesSum=0,this.lastBandwidth=[],this.addBytes=(e,t)=>{for(this.lastBytes.push(new i(e,t)),this.currentBytesSum+=e;t-this.lastBytes[0].timeStamp>n;)this.currentBytesSum-=this.lastBytes.shift().value;const r=Math.min(n,t);this.lastBandwidth.push(new i(this.currentBytesSum/r,t))},this.getBandwidth=e=>{for(;0!==this.lastBandwidth.length&&e-this.lastBandwidth[0].timeStamp>6e4;)this.lastBandwidth.shift();let t=0;for(const e of this.lastBandwidth)e.value>t&&(t=e.value);return t},this.getSmoothInterval=()=>n,this.getMeasureInterval=()=>6e4}}},{}],35:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});const o=s(e("./index"));window.p2pml||(window.p2pml={}),window.p2pml.core=o},{"./index":"web-engine"}],36:[function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.HttpMediaManager=void 0;const s=e("./stringly-typed-event-emitter"),o=e("./rpd-parse"),a=i(e("pako")),l=e("./utils");class h extends s.STEEmitter{constructor(e,t){super(),this.settings=e,this.metrics=t,this.xhrRequests=new Map,this.failedSegments=new Map,this.trackInfo=null,this.segments=[],this.requestHeaders={},this.setStreamSwarmId=e=>{this.streamSwarmId!==e&&(this.streamSwarmId=e,l.logUtils.log("http stream swarm ID",this.streamSwarmId))},this.getBaseUrl=()=>this.baseUrl,this.setbaseUrl=e=>{this.baseUrl!==e&&(this.baseUrl=e,l.logUtils.log("http stream baseurl",this.baseUrl))},this.downloadRpdList=(e,t=!1)=>{const r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",this.setupListXhrEvents(r,t),r.send()},this.setRequestHeaders=(e,t)=>{this.requestHeaders[e]=t},this.download=(e,t)=>{if(this.isDownloading(e))return;this.cleanTimedOutFailedSegments();let r=void 0!==this.baseUrl?this.baseUrl+"/"+e.url:e.url,n=r;this.segmentUriSuffix&&(n+=this.segmentUriSuffix),l.logUtils.log("http segment download",r),e.requestUrl=r;const i=new XMLHttpRequest;if(i.open("GET",n,!0),i.responseType="arraybuffer",void 0!==t&&this.settings.httpUseRanges){let e=0;for(const r of t)e+=r.byteLength;i.setRequestHeader("Range",`bytes=${e}-`),l.logUtils.log("http continue download from",e)}else t=void 0;this.setupXhrEvents(i,e,t),this.settings.xhrSetup&&this.settings.xhrSetup(i,r),this.xhrRequests.set(e.id,{xhr:i,segment:e}),i.send()},this.abort=e=>{const t=this.xhrRequests.get(e.id);t&&(t.xhr.abort(),this.xhrRequests.delete(e.id),l.logUtils.warn("http segment abort",e.id))},this.isDownloading=e=>this.xhrRequests.has(e.id),this.isFailed=e=>{const t=this.failedSegments.get(e.id);return void 0!==t&&t>this.now()},this.getActiveDownloads=()=>this.xhrRequests,this.getActiveDownloadsCount=()=>this.xhrRequests.size,this.destroy=()=>{this.xhrRequests.forEach((e=>e.xhr.abort())),this.xhrRequests.clear()},this.setSegmentUrlSuffix=e=>{this.segmentUriSuffix=e},this.setupListXhrEvents=(e,t)=>{e.addEventListener("load",(r=>n(this,void 0,void 0,(function*(){if(e.status<200||e.status>=300)return l.logUtils.error("http download segemnetlist error from cdn ",e.status),void this.emit("segment-list-error",e.status);const r=e.response;let n="";if(t){const e=new TextDecoder("utf-8"),t=new Uint8Array(r);n=e.decode(t)}else n=a.default.inflate(r,{to:"string"});const i=o.parsePlayListIndex(void 0!==this.streamSwarmId?this.streamSwarmId:"",n);void 0!==i?(JSON.stringify(this.trackInfo)!=JSON.stringify(i.trackInfo)&&(this.trackInfo=i.trackInfo,this.emit("track-info",this.trackInfo)),JSON.stringify(this.segments)!=JSON.stringify(i.segments)&&(this.segments=i.segments,this.emit("segment-list",this.segments)),i.segments.find((e=>e.xFlag))&&this.emit("re-init",!0)):l.logUtils.error("http parse rpdlist error ",n)})))),e.addEventListener("error",(e=>{l.logUtils.error("http download segemnetlist error from cdn ",e),this.emit("segment-list-error",e)})),e.addEventListener("timeout",(e=>{l.logUtils.error("http download segemnetlist timeout from cdn "),this.emit("segment-list-error","timeout")}))},this.setupXhrEvents=(e,t,r)=>{let i=0;e.addEventListener("progress",(e=>{const t=e.loaded-i;this.emit("bytes-downloaded",t),i=e.loaded})),e.addEventListener("load",(i=>n(this,void 0,void 0,(function*(){if(e.status<200||e.status>=300)return l.logUtils.error("http down load error ",t.url),void this.segmentFailure(t,i,e);let n=e.response;if(void 0!==r&&206===e.status){let e=0;for(const t of r)e+=t.byteLength;const t=new Uint8Array(e+n.byteLength);let i=0;for(const e of r)t.set(new Uint8Array(e),i),i+=e.byteLength;t.set(new Uint8Array(n),i),n=t.buffer}yield this.segmentDownloadFinished(t,n,e)})))),e.addEventListener("error",(r=>{l.logUtils.error("download segment error ",t.url),this.segmentFailure(t,r,e)})),e.addEventListener("timeout",(r=>{l.logUtils.error("download segment timeout ",t.url),this.segmentFailure(t,r,e)}))},this.segmentDownloadFinished=(e,t,r)=>n(this,void 0,void 0,(function*(){var n;e.responseUrl=null===r.responseURL?void 0:r.responseURL;const i=(this.metrics.getVariables("recv_ts_ok_svr_p")||0)+1;if(null===(n=this.metrics)||void 0===n||n.record("recv_ts_ok_svr_p",i),this.settings.segmentValidator)try{yield this.settings.segmentValidator(Object.assign(Object.assign({},e),{data:t}),"http")}catch(t){return l.logUtils.error("http segment validator failed",t),void this.segmentFailure(e,t,r)}l.logUtils.log("http download ok ",e.url),this.emit("segment-loaded",e,t)})),this.segmentFailure=(e,t,r)=>{e.responseUrl=null===r.responseURL?void 0:r.responseURL,this.failedSegments.set(e.id,this.now()+this.settings.httpFailedSegmentTimeout),this.emit("segment-error",e,t)},this.cleanTimedOutFailedSegments=()=>{const e=this.now(),t=[];this.failedSegments.forEach(((r,n)=>{r<e&&t.push(n)})),t.forEach((e=>this.failedSegments.delete(e)))},this.now=()=>performance.now()}segmentDealOk(e){this.xhrRequests.delete(e)}}r.HttpMediaManager=h},{"./rpd-parse":43,"./stringly-typed-event-emitter":46,"./utils":47,pako:136}],37:[function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.HybridLoader=void 0;const s=e("events"),o=i(e("querystring")),a=e("./metrics"),l=e("./loader-interface"),h=e("./http-media-manager"),c=e("./p2p-media-manager"),u=e("./wrt-media-manager"),d=e("./bandwidth-approximator"),f=e("./segments-memory-storage"),p=e("./media-peer"),g=e("./m3u8-generate"),m=e("./segments-indexedDB-storage"),y=e("./utils"),_=e("./rpd-parse"),b=i(e("simple-peer")),w=(_.parsePlayListIndex("11111","HEADER:VERSION=6,TYPE=live,TARGETDURATION=3,SEQUENCE=476397,SH=1233462780,TS=1716168178\nTRACK-INF:ID=0,TYPE=audio,CODECS=mp4a.40.2,BANDWIDTH=67616,CHANNELS=2,SAMPLE-RATE=44100;ID=1,TYPE=audio,CODECS=mp4a.40.2,BANDWIDTH=83720,CHANNELS=2,SAMPLE-RATE=44100;ID=2,TYPE=audio,CODECS=mp4a.40.2,BANDWIDTH=68333,CHANNELS=2,SAMPLE-RATE=44100;ID=3,TYPE=audio,CODECS=mp4a.40.2,BANDWIDTH=89603,CHANNELS=2,SAMPLE-RATE=44100;ID=4,TYPE=video,CODECS=hvc1.1.2.L120,BANDWIDTH=2045377,FRAME-RATE=30000/1000,RESOLUTION=1920x1088\nINIT:URI=init_1716158153_474925.m4s\nINIT-INF:ID=0,RANGE=0-701;ID=1,RANGE=701-701;ID=2,RANGE=1402-701;ID=3,RANGE=2103-701;ID=4,RANGE=2804-851\nSEGMENT:URI=seg_1716168132_476397.m4s,ORGTIME=1716168110893\nSEGMENT-INF:ID=0,RANGE=0-25904,DURATION=3.065,STARTTIME=7773080490;ID=1,RANGE=25904-18679,DURATION=2.251,STARTTIME=7772886000;ID=2,RANGE=44583-35313,DURATION=4.271,STARTTIME=7772810850;ID=4,RANGE=79896-92708,DURATION=0.733,STARTTIME=7773285600,KEYFRAME=80220\nSEGMENT:URI=seg_1716168137_476398.m4s,ORGTIME=1716168112544\nSEGMENT-INF:ID=0,RANGE=0-16927,DURATION=1.997,STARTTIME=7774053480;ID=1,RANGE=16927-17048,DURATION=1.997,STARTTIME=7774053390;ID=2,RANGE=33975-17057,DURATION=1.997,STARTTIME=7774054110;ID=3,RANGE=51032-16794,DURATION=2.019,STARTTIME=7772790060;ID=4,RANGE=67826-472103,DURATION=1.999,STARTTIME=7774052310,KEYFRAME=68738|287445\nSEGMENT:URI=seg_1716168147_476399.m4s,ORGTIME=1716168137377\nSEGMENT-INF:ID=0,RANGE=0-25095,DURATION=2.949,STARTTIME=7774233210;ID=1,RANGE=25095-24988,DURATION=2.972,STARTTIME=7774233120;ID=2,RANGE=50083-26050,DURATION=3.088,STARTTIME=7774233840;ID=3,RANGE=76133-28320,DURATION=3.320,STARTTIME=7774234830;ID=4,RANGE=104453-758753,DURATION=2.999,STARTTIME=7774232310,KEYFRAME=105725|356343|606163\nSEGMENT:URI=seg_1716168153_476400.m4s,ORGTIME=1716168147776\nSEGMENT-INF:ID=0,RANGE=0-25799,DURATION=3.065,STARTTIME=7774498620;ID=1,RANGE=25799-1851,DURATION=0.185,STARTTIME=7774500690;ID=2,RANGE=27650-18256,DURATION=2.160,STARTTIME=7774511760;ID=3,RANGE=45906-22450,DURATION=2.670,STARTTIME=7774533630;ID=4,RANGE=68356-732817,DURATION=2.999,STARTTIME=7774502310,KEYFRAME=69628|317700|561208\nSEGMENT:URI=seg_1716168167_476401.m4s,ORGTIME=1716168153688\nSEGMENT-INF:ID=0,RANGE=0-25065,DURATION=2.996,STARTTIME=7774774470;ID=3,RANGE=25065-25281,DURATION=2.995,STARTTIME=7774774020;ID=4,RANGE=50346-766846,DURATION=2.999,STARTTIME=7774772310,KEYFRAME=51618|303872|558723\nSEGMENT:URI=seg_1716168172_476402.m4s,ORGTIME=1716168167621\nSEGMENT-INF:ID=0,RANGE=0-25324,DURATION=2.996,STARTTIME=7775044110;ID=1,RANGE=25324-7367,DURATION=0.859,STARTTIME=7775236260;ID=2,RANGE=32691-22758,DURATION=2.670,STARTTIME=7775073990;ID=3,RANGE=55449-1044,DURATION=0.093,STARTTIME=7775043570;ID=4,RANGE=56493-725791,DURATION=2.999,STARTTIME=7775042310,KEYFRAME=57765|290282|533330\nSEGMENT:URI=seg_1716168175_476403.m4s,ORGTIME=1716168172875\nSEGMENT-INF:ID=0,RANGE=0-24290,DURATION=2.997,STARTTIME=7775313750;ID=1,RANGE=24290-25341,DURATION=2.995,STARTTIME=7775313570;ID=2,RANGE=49631-11106,DURATION=1.300,STARTTIME=7775314290;ID=3,RANGE=60737-13764,DURATION=1.602,STARTTIME=7775436420;ID=4,RANGE=74501-750784,DURATION=2.999,STARTTIME=7775312310,KEYFRAME=75773|326856|576525\nSEGMENT:URI=seg_1716168178_476404.m4s,ORGTIME=1716168175853\nSEGMENT-INF:ID=0,RANGE=0-25472,DURATION=3.018,STARTTIME=7775583480;ID=1,RANGE=25472-965,DURATION=0.092,STARTTIME=7775583210;ID=3,RANGE=26437-25485,DURATION=2.994,STARTTIME=7775580690;ID=4,RANGE=51922-761921,DURATION=2.999,STARTTIME=7775582310,KEYFRAME=53194|300971|545810"),e("../../bittorrent-tracker/client.js")),v={cachedSegmentExpiration:3e5,cachedSegmentsCount:15,useP2P:!0,consumeOnly:!1,requiredSegmentsPriority:2,simultaneousServerDownloads:2,serverDownloadProbability:.1,serverDownloadProbabilityInterval:1e3,serverDownloadProbabilitySkipIfNoPeers:!0,serverDownloadMaxPriority:20,serverDownloadInitialTimeout:0,serverDownloadInitialTimeoutPerSegment:4e3,httpFailedSegmentTimeout:1e4,httpUseRanges:!1,wrtFailedSegmentTimeout:6e4,simultaneousP2PDownloads:3,p2pDownloadMaxPriority:20,p2pSegmentDownloadTimeout:6e4,webRtcMaxMessageSize:65535,trackerAnnounce:["wss://tracker.novage.com.ua","wss://tracker.openwebtorrent.com"],params:{APKSN:"",APPVER:1,RELEASEID:""},player:null,reportPlayerStatus:!1,initSegmenNum:6,downloadPlayListIntervalms:2e3,rtcConfig:b.default.config};class E extends s.EventEmitter{constructor(e={}){super(),this.segmentsQueue=[],this.TrimsegmentsQueue=[],this.bandwidthApproximator=new d.BandwidthApproximator,this.serverDownloadInitialTimeoutTimestamp=-1/0,this.cacheHeaderInfo=void 0,this.segmentsMap=new Map,this.segmentStatus={successNum:0,failedNum:0,failedSegments:[]},this.player=null,this.isInitPlay=!0,this.hasRecordTotalPlayTime=!1,this.trackerClient=null,this.streamId="",this.isFirstDownLoadSegment=!0,this.downLoadSegmentBackwardsNum=-1,this.playerReadSegmentIdx=0,this.syncCacheToMap=()=>n(this,void 0,void 0,(function*(){var e;(null===(e=this.segmentsStorage)||void 0===e?void 0:e.syncCacheToSegmentsMap)&&(this.segmentsMap=yield this.segmentsStorage.syncCacheToSegmentsMap())})),this.recordStartPlayTime=()=>{this.metrics.record("start_play_time",Date.now())},this.setHttpAndWrtManagerStreamId=()=>{this.streamId&&(this.wrtManager.setStreamSwarmId(this.streamId),this.httpManager.setStreamSwarmId(this.streamId))},this.play=e=>{var t,r,i;this.stop(),this.hasRecordTotalPlayTime=!1;const{streamId:s,fileId:o,mediaId:a}=e;y.logUtils.log("streamId and fileId:",s,o),this.recordStartPlayTime(),s&&(this.metrics.recordPublicParams("stream_id",s),this.streamId=s,this.masterSwarmId=s,null===(r=null===(t=this.segmentsStorage)||void 0===t?void 0:t.setStreamSwarmId)||void 0===r||r.call(t,s),this.setHttpAndWrtManagerStreamId(),this.p2pManager.setStreamSwarmId(this.streamId)),(o||a)&&(this.masterSwarmId=void 0,e.getReportOptions=()=>n(this,void 0,void 0,(function*(){var e,t;const r={localMedias:[]};if(this.cdnUrl)return r;const i=(yield null===(t=null===(e=this.segmentsStorage)||void 0===e?void 0:e.getAllKeys)||void 0===t?void 0:t.call(e))||[],s=[...new Set(i.map((e=>e.split("/")[0])))],o=s.map((e=>{var t,r;return null===(r=null===(t=this.segmentsStorage)||void 0===t?void 0:t.getVideoBasic)||void 0===r?void 0:r.call(t,e)})),a=yield Promise.all(o);return s.forEach((e=>n(this,void 0,void 0,(function*(){var t;const n=i.filter((t=>t.startsWith(e))).length,s=null===(t=a.find((t=>t&&t.streamId===e)))||void 0===t?void 0:t.info;r.localMedias.push(Object.assign(Object.assign({mediaId:e},s||{}),{cachedCnt:n}))})))),r})),this.wrtManager.setFileId(o||a)),null===(i=this.trackerClient)||void 0===i||i.startPlay(e)},this.stop=()=>{var e;null===(e=this.trackerClient)||void 0===e||e.stopPlay(),this.wrtManager.destroy(),this.httpManager.destroy(),this.metrics.clear(),this.segmentsQueue=[],this.resetWaitUntilTimeID(),void 0!==this.dataDownloadInterval&&(clearInterval(this.dataDownloadInterval),this.dataDownloadInterval=void 0)},this.createWrtManager=()=>new u.WrtMediaManager(this.settings,this.metrics),this.createHttpManager=()=>new h.HttpMediaManager(this.settings,this.metrics),this.createP2PManager=()=>new c.P2PMediaManager(this.segmentsStorage,this.settings,this.metrics),this.onSegmentList=e=>n(this,void 0,void 0,(function*(){void 0===this.serverRandomDownloadInterval&&"LIVE"===this.settings.params.playType&&(this.serverRandomDownloadInterval=setInterval(this.downloadRandomSegmentOverServer,this.settings.serverDownloadProbabilityInterval),this.settings.serverDownloadInitialTimeout>0&&this.settings.serverDownloadInitialTimeoutPerSegment>0&&(y.logUtils.log("enable initial HTTP download timeout",this.settings.serverDownloadInitialTimeout,"per segment",this.settings.serverDownloadInitialTimeoutPerSegment),this.serverDownloadInitialTimeoutTimestamp=this.now(),setTimeout(this.processInitialSegmentTimeout,this.settings.serverDownloadInitialTimeoutPerSegment+100))),e.length>0&&(this.masterSwarmId=e[0].masterSwarmId),y.logUtils.log("load segments ",new Date," ",e[e.length-1].url);let t=!1;for(const r of this.segmentsQueue)e.find((e=>e.url===r.url))||(y.logUtils.log("remove segment",r.url),this.wrtManager.isDownloading(r)?(t=!0,this.wrtManager.abort(r)):this.httpManager.isDownloading(r)?(t=!0,this.httpManager.abort(r)):this.p2pManager.abort(r),this.emit(l.Events.SegmentAbort,r));if("LIVE"===this.settings.params.playType&&(!0===t||this.segmentsQueue.length<=0)){if(this.TrimsegmentsQueue=yield this.trimSegmentList(e),1==t)for(const e of this.TrimsegmentsQueue)this.wrtManager.isDownloading(e)?(t=!0,this.wrtManager.abort(e)):this.httpManager.isDownloading(e)?(t=!0,this.httpManager.abort(e)):this.p2pManager.abort(e),this.emit(l.Events.SegmentAbort,e)}else if(this.TrimsegmentsQueue.length>0)for(let t=0;t<this.TrimsegmentsQueue.length;t++){const r=this.TrimsegmentsQueue[t];e.find((e=>e.url===r.url))||(y.logUtils.log("del Trimsegment",r.url),this.TrimsegmentsQueue.splice(t--,1))}for(let t=0;t<e.length;t++){const r=e[t];this.TrimsegmentsQueue.find((e=>e.url===r.url))?(y.logUtils.log("not add segment",r.url),e.splice(t--,1)):this.segmentsQueue.find((e=>e.url===r.url))||y.logUtils.log("add segment",r.url)}if(e.forEach((e=>{delete e.data})),this.segmentsQueue=e,void 0===this.masterSwarmId)return;let r=yield this.getCacheSegmentsMap(this.masterSwarmId),n=this.processSegmentsQueue(r)||t;if("LIVE"===this.settings.params.playType&&(yield this.cleanSegmentsStorage())&&(r=yield this.getCacheSegmentsMap(this.masterSwarmId),n=!0),n&&!this.settings.consumeOnly&&this.p2pManager.sendSegmentsMapToAll(this.masterSwarmId,this.createSegmentsMap(r)),"LIVE"!==this.settings.params.playType){let t=0;for(let r=0;r<e.length;r++)if(!1===e[r].initSegment){t=1e3*parseInt(e[r].videoDuration);break}t<0&&(t=4e3),y.logUtils.log("download data interval ",t),void 0!==this.downLoadPlayListInterval&&clearInterval(this.downLoadPlayListInterval),this.dataDownloadInterval=setInterval(this.downloadData,t)}})),this.downloadData=()=>n(this,void 0,void 0,(function*(){y.logUtils.log("interval download data"),void 0!==this.masterSwarmId&&this.processSegmentsQueue()})),this.trimSegmentList=e=>n(this,void 0,void 0,(function*(){const t=void 0!==this.settings.initSegmenNum?this.settings.initSegmenNum+1:4;let r=e.length-t;const n=[];for(let t=0;t<e.length;t++)if(!0!==e[t].initSegment){void 0===(yield this.segmentsStorage.getSegment(e[t].url,null!=this.masterSwarmId?this.masterSwarmId:""))&&(n.push(e[t]),y.logUtils.log("trim segment",e[t].url),e.splice(t--,1));if(--r<=0)break}return n})),this.onHeaderInfo=e=>n(this,void 0,void 0,(function*(){this.cacheHeaderInfo?this.cacheHeaderInfo.sh!==e.sh&&(this.emit("header-info",e),this.cacheHeaderInfo=Object.assign({},e)):this.cacheHeaderInfo=e})),this.onReInit=e=>{this.emit("re-init",e)},this.onTrackInfo=e=>n(this,void 0,void 0,(function*(){this.trackInfo=e})),this.resetWaitUntilTimeID=()=>{var e;(null===(e=this.waitUntilTimeIds)||void 0===e?void 0:e.length)&&(this.waitUntilTimeIds.forEach((e=>clearInterval(e))),this.waitUntilTimeIds=[])},this.waitUntil=(e,t=1e4,r=150)=>{let i,s,o,a=Date.now(),l=new Promise(((e,t)=>{s=e,o=t})),h=()=>n(this,void 0,void 0,(function*(){var r;const n=yield e();n?(clearInterval(i),s(n)):t>0&&Date.now()-a>=t&&(clearInterval(i),o(new Error(`waitUntil ${e}`))),(null===(r=this.waitUntilTimeIds)||void 0===r?void 0:r.length)&&this.waitUntilTimeIds.splice(this.waitUntilTimeIds.indexOf(i),1)}));return i=setInterval(h,r),this.waitUntilTimeIds||(this.waitUntilTimeIds=[]),this.waitUntilTimeIds.push(i),h(),l},this.reconnectTracker=e=>{const{trackerParams:t,announce:r}=this.generateAnnounceURL(e);this.trackerClient.peerId=e,this.trackerClient._getAnnounceOpts=()=>Object.assign({},t),this.trackerClient.reconnect(r)},this.recordMetrics=(...e)=>{this.metrics.record(...e)},this.reportMetrics=(...e)=>{this.metrics.report(...e)},this.reportMetricsOne=(...e)=>{this.metrics.reportOnce(...e)},this.getFirstFloorM3u8=e=>this.trackInfo?(this.settings.reportPlayerStatus&&this.metrics.reportOnce(0,"stream_info",Date.now()),g.generateFirstFloorM3u8(this.trackInfo)):void 0,this.getVideoSegmentsM3u8=e=>this.segmentsQueue.length<=0?void 0:g.generateVideoSegmentsM3u8(this.segmentsQueue,"LIVE"===this.settings.params.playType,this.trackInfo),this.getAudioSegmentsM3u8=e=>this.segmentsQueue.length<=0?void 0:g.generateAudioSegmentsM3u8(this.segmentsQueue,"LIVE"===this.settings.params.playType,this.trackInfo),this.getSegmentData=(e,t)=>n(this,void 0,void 0,(function*(){var e,r;let n=!1,i="";if(y.logUtils.log("get sengment uri: ",t),t.startsWith("audio_"))n=!0,i=t.substring("audio_".length);else{if(!t.startsWith("video_"))return null;n=!1,i=t.substring("video_".length)}if(i.length<=0||void 0===this.masterSwarmId)return null;this.playerReadSegmentIdx=this.segmentsQueue.findIndex((e=>e.id===i)),-1===this.playerReadSegmentIdx&&(this.playerReadSegmentIdx=0);const s=yield this.segmentsStorage.getSegment(i,this.masterSwarmId);return s&&s.data?(y.logUtils.log("get sengment uri, data ok ",t," ",s.audioRangeBegin,"-",s.audioRangeEnd," ",s.videoRangeBegin,"-",s.videoRangeEnd,":",n),!0===this.isFirstDownLoadSegment&&!1===s.initSegment&&(this.downLoadSegmentBackwardsNum=this.segmentsQueue.length-this.playerReadSegmentIdx,this.isFirstDownLoadSegment=!1),null===(r=null===(e=this.segmentsStorage)||void 0===e?void 0:e.setVideoBasic)||void 0===r||r.call(e,{lastPlayCursor:this.playerReadSegmentIdx},this.streamId),0==n?s.data.slice(s.videoRangeBegin,s.videoRangeEnd):s.data.slice(s.audioRangeBegin,s.audioRangeEnd)):null})),this.getSegmentDataNew=e=>n(this,void 0,void 0,(function*(){let t=!1,r="";if(y.logUtils.log("get sengment uri: ",e),e.startsWith("audio_"))t=!0,r=e.substring("audio_".length);else{if(!e.startsWith("video_"))return!1;t=!1,r=e.substring("video_".length)}if(0===r.length||void 0===this.masterSwarmId)return!1;const n=yield this.segmentsStorage.getSegment(r,this.masterSwarmId);return n&&n.data?(this.playerReadSegmentIdx=this.segmentsQueue.findIndex((e=>e.id===n.id)),0==t?n.data.slice(n.videoRangeBegin,n.videoRangeEnd):n.data.slice(n.audioRangeBegin,n.audioRangeEnd)):!!this.segmentsQueue.find((e=>e.url===r))})),this.getSegment=e=>n(this,void 0,void 0,(function*(){return void 0===this.masterSwarmId?void 0:this.segmentsStorage.getSegment(e,this.masterSwarmId)})),this.getSettings=()=>this.settings,this.getDetails=()=>({peerId:this.p2pManager.getPeerId()}),this.destroy=()=>n(this,void 0,void 0,(function*(){y.logUtils.log("hybrid destroy....."),void 0!==this.serverRandomDownloadInterval&&(clearInterval(this.serverRandomDownloadInterval),this.serverRandomDownloadInterval=void 0),void 0!==this.downLoadPlayListInterval&&(clearInterval(this.downLoadPlayListInterval),this.downLoadPlayListInterval=void 0,this.cdnUrl=void 0),void 0!==this.dataDownloadInterval&&(clearInterval(this.dataDownloadInterval),this.dataDownloadInterval=void 0),this.trackerClient&&(this.trackerClient.stop(),this.trackerClient.destroy(),this.trackerClient=null),this.serverDownloadInitialTimeoutTimestamp=-1/0,this.segmentsQueue=[],this.segmentStatus={successNum:0,failedNum:0,failedSegments:[]},this.resetWaitUntilTimeID(),this.wrtManager.destroy(),this.httpManager.destroy(),this.p2pManager.destroy(),this.metrics.destroy(),this.masterSwarmId=void 0,"LIVE"===this.settings.params.playType&&this.segmentsStorage.destroy()})),this.processInitialSegmentTimeout=()=>n(this,void 0,void 0,(function*(){if(void 0!==this.serverRandomDownloadInterval){if(void 0!==this.masterSwarmId){const e=yield this.getCacheSegmentsMap(this.masterSwarmId);this.processSegmentsQueue(e)&&!this.settings.consumeOnly&&this.p2pManager.sendSegmentsMapToAll(this.masterSwarmId,this.createSegmentsMap(e))}this.serverDownloadInitialTimeoutTimestamp!==-1/0&&setTimeout(this.processInitialSegmentTimeout,this.settings.serverDownloadInitialTimeoutPerSegment)}})),this.processSegmentsQueue=e=>{var t;if(y.logUtils.log("process segments queue. priority",this.segmentsQueue.length>0?this.segmentsQueue[0].priority:0),void 0===this.masterSwarmId||0===this.segmentsQueue.length)return!1;let r=!1,n=this.p2pManager.getOverallSegmentsMap(),i=!0;if(this.serverDownloadInitialTimeoutTimestamp!==-1/0){let t;if(void 0!==e){const r=this.segmentsQueue.find((t=>!e.has(t.id)));t=null==r?void 0:r.priority}const r=this.now()-this.serverDownloadInitialTimeoutTimestamp;i=r>=this.settings.serverDownloadInitialTimeout||void 0!==t&&r>this.settings.serverDownloadInitialTimeoutPerSegment&&t<=0,i&&(y.logUtils.log("cancel initial Server download timeout - timed out"),this.serverDownloadInitialTimeoutTimestamp=-1/0)}const s="LIVE"===this.settings.params.playType,o=s?0:this.playerReadSegmentIdx;for(let a=o;a<this.segmentsQueue.length&&!(!s&&a>o+6&&(0===this.p2pManager.getPeers().size||this.p2pManager.getActiveDownloadsCount()>this.settings.simultaneousP2PDownloads));a++){const l=this.segmentsQueue[a];if(!(s&&(null===(t=null==e?void 0:e.has)||void 0===t?void 0:t.call(e,l.id))||!s&&this.segmentsMap&&this.segmentsMap.has(`${this.masterSwarmId}/${l.id}`)||this.wrtManager.isDownloading(l)||this.httpManager.isDownloading(l))){if(y.logUtils.log("wrt downloading num...",this.wrtManager.getActiveDownloadsCount()),"LIVE"===this.settings.params.playType&&(this.downLoadSegmentBackwardsNum<=this.segmentsQueue.length-a||0===this.p2pManager.getPeers().size||!n.has(l.id))||"LIVE"!==this.settings.params.playType&&a<=o+6&&i&&!this.httpManager.isFailed(l)){if(this.wrtManager.getPeers().size>0){const e=this.p2pManager.abort(l);this.wrtManager.download(l,e),y.logUtils.log("wrt download (priority)",l.priority,l.url),r=!0;continue}if(this.wrtManager.getPeers().size<=0&&void 0!==this.httpManager.getBaseUrl()&&this.httpManager.getActiveDownloadsCount()<this.settings.simultaneousServerDownloads){const e=this.p2pManager.abort(l);this.httpManager.download(l,e),y.logUtils.log("HTTP download (priority)",l.priority,l.url),r=!0;continue}}if(!this.p2pManager.isDownloading(l))if(this.downLoadSegmentBackwardsNum<=this.segmentsQueue.length-a){if(n.get(l.id)!==p.MediaPeerSegmentStatus.Loaded)continue;if(this.p2pManager.getActiveDownloadsCount()>=this.settings.simultaneousP2PDownloads)for(let e=this.segmentsQueue.length-1;e>a;e--){const t=this.segmentsQueue[e];if(this.p2pManager.isDownloading(t)){y.logUtils.log("cancel P2P download",t.priority,t.url),this.p2pManager.abort(t);break}}if(this.p2pManager.getActiveDownloadsCount()<this.settings.simultaneousP2PDownloads&&this.p2pManager.download(l)){y.logUtils.log("P2P download (priority)",l.priority,l.url);continue}}else this.p2pManager.getActiveDownloadsCount()<this.settings.simultaneousP2PDownloads&&this.p2pManager.download(l)&&y.logUtils.log("p2p download",l.priority,l.url)}}return r},this.downloadRandomSegmentOverServer=()=>n(this,void 0,void 0,(function*(){if(void 0===this.masterSwarmId||void 0===this.serverRandomDownloadInterval||this.serverDownloadInitialTimeoutTimestamp!==-1/0||this.settings.serverDownloadProbabilitySkipIfNoPeers&&0===this.p2pManager.getPeers().size||this.settings.consumeOnly)return;if(this.httpManager.getActiveDownloadsCount()>=this.settings.simultaneousServerDownloads)return;const e=yield this.getCacheSegmentsMap(this.masterSwarmId),t=this.p2pManager.getOverallSegmentsMap(),r=this.segmentsQueue.filter((r=>!this.p2pManager.isDownloading(r)&&!this.httpManager.isDownloading(r)&&!this.wrtManager.isDownloading(r)&&!t.has(r.id)&&!this.httpManager.isFailed(r)&&r.priority<=this.settings.serverDownloadMaxPriority&&!e.has(r.id)));if(0===r.length)return;if(Math.random()>this.settings.serverDownloadProbability*r.length)return;const n=r[Math.floor(Math.random()*r.length)];this.wrtManager.getPeers().size>0?(y.logUtils.log("wrt download (random)",n.priority,n.url),this.wrtManager.download(n),this.p2pManager.sendSegmentsMapToAll(this.masterSwarmId,this.createSegmentsMap(e))):void 0!==this.httpManager.getBaseUrl()&&(y.logUtils.log("Http download (random)",n.priority,n.url),this.httpManager.download(n),this.p2pManager.sendSegmentsMapToAll(this.masterSwarmId,this.createSegmentsMap(e)))})),this.onPieceBytesDownloaded=(e,t,r)=>{this.bandwidthApproximator.addBytes(t,this.now()),this.emit(l.Events.PieceBytesDownloaded,e,t,r);const n="p2p"===e?"recv_ts_ok_bytes_peer_p":"recv_ts_ok_bytes_svr_p";this.metrics.record(n,Number(this.metrics.getVariables(n)||0)+t)},this.onPieceBytesUploaded=(e,t,r)=>{this.emit(l.Events.PieceBytesUploaded,e,t,r)},this.onP2pSegmentRequest=(e,t)=>n(this,void 0,void 0,(function*(){var r,n,i,s;y.logUtils.log("segment share",e.id);const o=yield null===(n=null===(r=this.segmentsStorage)||void 0===r?void 0:r.getVideoBasic)||void 0===n?void 0:n.call(r,t),a=((null==o?void 0:o.curShareCnt)||0)+1;null===(s=null===(i=this.segmentsStorage)||void 0===i?void 0:i.setVideoBasic)||void 0===s||s.call(i,{lastShareTs:Date.now(),curShareCnt:a},t)})),this.onSegmentLoaded=(e,t,r)=>n(this,void 0,void 0,(function*(){if(y.logUtils.log("segment loaded",e.id,e.videoRangeBegin,e.videoRangeEnd,e.audioRangeBegin,e.audioRangeEnd,t.byteLength),void 0===this.masterSwarmId)return;this.segmentStatus.successNum+=1,e.data=t,e.downloadBandwidth=this.bandwidthApproximator.getBandwidth(this.now()),yield this.segmentsStorage.storeSegment(e),"LIVE"!==this.settings.params.playType&&delete e.data;const r=yield this.getCacheSegmentsMap(this.masterSwarmId);this.wrtManager.segmentDealOk(e.id),this.httpManager.segmentDealOk(e.id),this.p2pManager.segmentDealOk(e.id),this.processSegmentsQueue(r),this.settings.consumeOnly||this.p2pManager.sendSegmentsMapToAll(this.masterSwarmId,this.createSegmentsMap(r))})),this.onSegmentError=(e,t,r)=>n(this,void 0,void 0,(function*(){y.logUtils.log("segment error",e.id,e.url,r,t),this.segmentStatus.failedNum+=1,this.segmentStatus.failedSegments.includes(e.id)||this.segmentStatus.failedSegments.push(e.id),this.metrics.report(a.EVENT_TYPES.exception,{exp_type:2,exp_subtype:7,exp_desc:`Download Segement Error - segment id: ${e.id}, segment url: ${e.url}, details: ${JSON.stringify(t)}`}),this.emit(l.Events.SegmentError,e,t,r);for(let e=0;e<this.segmentsQueue.length;e++){const t=this.segmentsQueue[e];if(t.url==t.url){this.segmentsQueue.splice(e,1),this.TrimsegmentsQueue.push(t);break}}if(this.wrtManager.segmentDealOk(e.id),this.httpManager.segmentDealOk(e.id),this.p2pManager.segmentDealOk(e.id),void 0!==this.masterSwarmId){const e=yield this.getCacheSegmentsMap(this.masterSwarmId);this.processSegmentsQueue(e)&&!this.settings.consumeOnly&&this.p2pManager.sendSegmentsMapToAll(this.masterSwarmId,this.createSegmentsMap(e))}})),this.getCacheSegmentsMap=e=>n(this,void 0,void 0,(function*(){return"LIVE"===this.settings.params.playType?yield this.segmentsStorage.getSegmentsMap(e):this.segmentsMap})),this.onP2pSegmentError=(e,t,r)=>n(this,void 0,void 0,(function*(){if(y.logUtils.log("p2p segment error",e.id,e.url,r,t),this.metrics.report(a.EVENT_TYPES.exception,{exp_type:2,exp_subtype:7,exp_desc:`Download P2P Segement Error - segment id: ${e.id}, segment url: ${e.url}, details: ${JSON.stringify(t)}`}),void 0!==this.masterSwarmId){const e=yield this.getCacheSegmentsMap(this.masterSwarmId);this.processSegmentsQueue(e)&&!this.settings.consumeOnly&&this.p2pManager.sendSegmentsMapToAll(this.masterSwarmId,this.createSegmentsMap(e))}})),this.getStreamSwarmId=e=>e.masterSwarmId,this.createSegmentsMap=e=>{const t={},r=(e,r)=>{const n=this.getStreamSwarmId(e),i=e.id;let s=t[n];void 0===s&&(s=["",[]],t[n]=s);const o=s[1];s[0]+=0===o.length?i:`|${i}`,o.push(r)};for(const t of e.values())r(t.segment,p.MediaPeerSegmentStatus.Loaded);for(const e of this.httpManager.getActiveDownloads().values())r(e.segment,p.MediaPeerSegmentStatus.LoadingByServer);for(const e of this.wrtManager.getActiveDownloads().values())r(e.segment,p.MediaPeerSegmentStatus.LoadingByServer);return t},this.onPeerConnect=e=>n(this,void 0,void 0,(function*(){this.emit(l.Events.PeerConnect,e),this.settings.consumeOnly||void 0===this.masterSwarmId||this.p2pManager.sendSegmentsMap(e.streamId,e.id,this.createSegmentsMap(yield this.getCacheSegmentsMap(e.streamId)))})),this.onPeerClose=e=>{this.emit(l.Events.PeerClose,e)},this.onTrackerUpdate=e=>n(this,void 0,void 0,(function*(){if(this.serverDownloadInitialTimeoutTimestamp!==-1/0&&void 0!==e.incomplete&&e.incomplete<=1&&(y.logUtils.log("cancel initial HTTP download timeout - no peers"),this.serverDownloadInitialTimeoutTimestamp=-1/0,void 0!==this.masterSwarmId)){const e=yield this.getCacheSegmentsMap(this.masterSwarmId);this.processSegmentsQueue(e)&&!this.settings.consumeOnly&&this.p2pManager.sendSegmentsMapToAll(this.masterSwarmId,this.createSegmentsMap(e))}})),this.cleanSegmentsStorage=()=>n(this,void 0,void 0,(function*(){return void 0!==this.masterSwarmId&&this.segmentsStorage.clean(this.masterSwarmId,(e=>void 0!==this.segmentsQueue.find((t=>t.id===e))))})),this.now=()=>performance.now(),this.generateAnnounceURL=e=>{const t=this.settings.params,r="LIVE"===t.playType?6e3:"VOD"===t.playType?7e3:8e3,n={connectId:e||t.connectId,protocol:t.protocol||0,msgType:r,releaseId:t.RELEASEID||100200,playType:t.playType,peerType:t.peerType||0,FORMAT:t.FORMAT||1,engineVer:t.ever||1};return{trackerParams:n,announce:this.settings.trackerAnnounce+"?"+o.default.stringify(n)}},this.createClient=()=>{const e=this.settings.params,{trackerParams:t,announce:r}=this.generateAnnounceURL(),n={infoHash:this.streamId,peerId:e.connectId,announce:r,rtcConfig:this.settings.rtcConfig,port:6881,useP2P:this.settings.useP2P,getAnnounceOpts:()=>Object.assign({},t)};this.trackerClient=new w(n,this.metrics),this.trackerClient.on("error",this.onTrackerError),this.trackerClient.on("warning",this.onTrackerWarning),this.trackerClient.on("update",this.onTrackerUpdate),this.trackerClient.on("peer",this.onTrackerPeer),this.trackerClient.on("cdn",this.onTrackerCdn),this.trackerClient.on("connect",this.onTrackerConnect),this.trackerClient.on("reconnect",(()=>this.emit("reconnect-tracker"))),this.trackerClient.on("server-recieve",(()=>{})),this.trackerClient.on("indexName",this.onTrackerIndexName),this.trackerClient.on("recieveMediaId",this.onRecieveMediaId),this.trackerClient.on("report-response",this.onReportResponse),this.trackerClient.start()},this.onTrackerConnect=()=>{var e,t;null===(e=this.metrics)||void 0===e||e.reportOnce(a.EVENT_TYPES.startup,"tr_rtt",Date.now()),null===(t=this.metrics)||void 0===t||t.record("tr_st",1),y.logUtils.log("tracker connect",Date.now())},this.onTrackerError=e=>{var t,r;y.logUtils.log("tracker error",e),this.metrics.report(a.EVENT_TYPES.exception,{exp_type:2,exp_subtype:7,exp_desc:`Tracker Error: ${e}`}),null===(t=this.metrics)||void 0===t||t.record("tr_st",0),null===(r=this.metrics)||void 0===r||r.record("ts_svr_st",0)},this.onTrackerIndexName=e=>{this.wrtManager.setIndxName(e)},this.onRecieveMediaId=e=>{var t,r;this.streamId=e,this.masterSwarmId=e,null===(r=null===(t=this.segmentsStorage)||void 0===t?void 0:t.setStreamSwarmId)||void 0===r||r.call(t,e),this.setHttpAndWrtManagerStreamId(),this.p2pManager.setStreamSwarmId(this.streamId)},this.onReportResponse=e=>{var t,r;null===(r=null===(t=this.segmentsStorage)||void 0===t?void 0:t.removeSegments)||void 0===r||r.call(t,e.removeMedias||[],!1)},this.onTrackerWarning=e=>{y.logUtils.log("tracker warning",e)},this.onTrackerPeer=e=>{var t;"web"===e.peerType?(y.logUtils.log("add tracker peer",e.id),this.p2pManager.addTrackerPeer(e)):"wrt"===e.peerType?(null===(t=this.metrics)||void 0===t||t.record("cdn",0),y.logUtils.log("add tracker wrt",e.id),this.metrics.report(a.EVENT_TYPES.status,"ts_svr_st",1),this.wrtManager.addTrackerPeer(e),void 0!==this.downLoadPlayListInterval&&(clearInterval(this.downLoadPlayListInterval),this.downLoadPlayListInterval=void 0,this.cdnUrl=void 0)):y.logUtils.log("error tracker peer type",e.peerType)},this.onTrackerCdn=(e,t,r)=>{var n;y.logUtils.log("add cdn",e),null===(n=this.metrics)||void 0===n||n.record("cdn",1),this.cdnUrl=e,this.wrtManager.getPeers().size>0&&this.wrtManager.destroy(),t&&this.httpManager.setSegmentUrlSuffix("?resId="+t+"&authId="+r),this.httpManager.setbaseUrl(e.substring(0,e.lastIndexOf("/"))),void 0===this.downLoadPlayListInterval&&(this.downLoadPlayListInterval=setInterval(this.downloadPlayListFromCdn,this.settings.downloadPlayListIntervalms))},this.downloadPlayListFromCdn=()=>n(this,void 0,void 0,(function*(){void 0!==this.cdnUrl&&this.httpManager.downloadRpdList(this.cdnUrl,"CRT"===this.settings.params.playType)})),this.settings=Object.assign(Object.assign({},v),e);const{connectId:t,playType:r,RELEASEID:i}=this.settings.params||{};if(!t||!r||!i)throw new Error("setting param is not enough, check apkSnreleaseIdappVersionstreamIdplayType");const{bufferedSegmentsCount:s}=e;"number"==typeof s&&(void 0===e.p2pDownloadMaxPriority&&(this.settings.p2pDownloadMaxPriority=s),void 0===e.serverDownloadMaxPriority&&(this.settings.p2pDownloadMaxPriority=s)),this.player=this.settings.player,this.player&&(this.player.on("ready",(()=>{this.player.controlBar.progressControl.seekBar.on("mousedown",this.resetWaitUntilTimeID)})),this.player.on("error",(()=>{this.metrics.report(a.EVENT_TYPES.exception,{exp_type:3,exp_subtype:1,exp_desc:`Player No Signal, timestamp: ${Date.now()}`})}))),this.settings.reportPlayerStatus&&(this.player.on("playing",(()=>{this.hasRecordTotalPlayTime||(this.hasRecordTotalPlayTime=!0,y.logUtils.log("player :",Date.now()-this.metrics.getVariables("start_play_time"))),this.metrics.reportOnce(0,"total",Date.now())})),this.player.on("waiting",(()=>{this.isInitPlay||(y.logUtils.log("player waiting:",Date.now()),this.metrics.report(a.EVENT_TYPES.exception,{exp_type:3,exp_subtype:4,exp_desc:`Player Waiting, timestamp: ${Date.now()}`})),this.isInitPlay=!1}))),this.metrics=new a.Metrics(e),this.metrics.reportOnce(a.EVENT_TYPES.startup,"player_type",100),this.createClient(),this.segmentsStorage=void 0===this.settings.segmentsStorage?"LIVE"===r?new f.SegmentsMemoryStorage(this.settings):new m.SegmentsIndexedDBStorage(this.settings):this.settings.segmentsStorage,y.logUtils.log("loader settings",y.stringify(this.settings)),this.wrtManager=this.createWrtManager(),this.wrtManager.on("segment-loaded",this.onSegmentLoaded),this.wrtManager.on("segment-error",this.onSegmentError),this.wrtManager.on("bytes-downloaded",(e=>this.onPieceBytesDownloaded("wrt",e))),this.wrtManager.on("segment-list",this.onSegmentList),this.wrtManager.on("re-init",this.onReInit),this.wrtManager.on("header-info",this.onHeaderInfo),this.wrtManager.on("track-info",this.onTrackInfo),this.httpManager=this.createHttpManager(),this.httpManager.on("segment-list",this.onSegmentList),this.httpManager.on("re-init",this.onReInit),this.httpManager.on("header-info",this.onHeaderInfo),this.httpManager.on("track-info",this.onTrackInfo),this.httpManager.on("segment-loaded",this.onSegmentLoaded),this.httpManager.on("segment-error",this.onSegmentError),this.httpManager.on("bytes-downloaded",(e=>this.onPieceBytesDownloaded("http",e))),this.p2pManager=this.createP2PManager(),this.p2pManager.on("segment-loaded",this.onSegmentLoaded),this.p2pManager.on("segment-error",this.onP2pSegmentError),this.p2pManager.on("segment-request",this.onP2pSegmentRequest),this.p2pManager.on("peer-data-updated",(()=>n(this,void 0,void 0,(function*(){if(void 0===this.masterSwarmId)return;const e=yield this.segmentsStorage.getSegmentsMap(this.masterSwarmId);this.processSegmentsQueue(e)&&!this.settings.consumeOnly&&this.p2pManager.sendSegmentsMapToAll(this.masterSwarmId,this.createSegmentsMap(e))})))),this.p2pManager.on("bytes-downloaded",((e,t)=>this.onPieceBytesDownloaded("p2p",e,t))),this.p2pManager.on("bytes-uploaded",((e,t)=>this.onPieceBytesUploaded("p2p",e,t))),this.p2pManager.on("peer-connected",this.onPeerConnect),this.p2pManager.on("peer-closed",this.onPeerClose),this.p2pManager.on("tracker-update",this.onTrackerUpdate),this.syncCacheToMap()}}r.HybridLoader=E,E.isSupported=()=>void 0!==window.RTCPeerConnection.prototype.createDataChannel},{"../../bittorrent-tracker/client.js":1,"./bandwidth-approximator":34,"./http-media-manager":36,"./loader-interface":38,"./m3u8-generate":39,"./media-peer":40,"./metrics":41,"./p2p-media-manager":42,"./rpd-parse":43,"./segments-indexedDB-storage":44,"./segments-memory-storage":45,"./utils":47,"./wrt-media-manager":48,events:"events",querystring:155,"simple-peer":174}],38:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Events=void 0,function(e){e.SegmentLoaded="segment_loaded",e.SegmentError="segment_error",e.SegmentAbort="segment_abort",e.PeerConnect="peer_connect",e.PeerClose="peer_close",e.PieceBytesDownloaded="piece_bytes_downloaded",e.PieceBytesUploaded="piece_bytes_uploaded",e.FirstFloorM3u8Parsed="first_floor_m3u8_parsed"}(r.Events||(r.Events={}))},{}],39:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generateAudioSegmentsM3u8=r.generateVideoSegmentsM3u8=r.generateFirstFloorM3u8=void 0;const n=e("./utils");r.generateFirstFloorM3u8=function(e){let t=["#EXTM3U","#EXT-X-INDEPENDENT-SEGMENTS"];const r=e.filter((e=>-1!==e.audioId)),i=e.filter((e=>-1!==e.videoId)),s=1===r.length,o=1===i.length,a=r.map((e=>{const t=s?"audio.m3u8":`audio_${e.audioId}.m3u8`,r=s?"audio":`audio-${e.audioId}`;return s&&0===i.length?`#EXT-X-STREAM-INF:BANDWIDTH=${e.audioBandWidth},CODECS="${e.audioCodec}"\naudio.m3u8`:`#EXT-X-MEDIA:TYPE=AUDIO,GROUP-ID="agroup",URI="${t}",NAME="${r}",AUTOSELECT=YES`})),l=i.map((e=>{const t=o?"video.m3u8":`video_${e.videoId}.m3u8`;let r="";return e.videoFramRate&&(r=",FRAME-RATE="+e.videoFramRate),`#EXT-X-STREAM-INF:BANDWIDTH=${e.videoBandWidth},RESOLUTION=${e.videoResolution}${r},CODECS="${e.videoCodec}",AUDIO="agroup"\n`+t}));return a.length>0||l.length>0?(t=[...t,...a,...l],t=t.join("\n")):t=void 0,n.logUtils.log(t),t},r.generateVideoSegmentsM3u8=function(e,t,r){if(e.length<=0)return;let i,s=0,o=0,a="";for(let t=0;t<e.length;t++)if(!1===e[t].initSegment&&0===s&&(s=Number(e[t].sequence),o=parseInt(e[t].videoDuration)),!0===e[t].initSegment){a+='#EXT-X-MAP:URI="video_'+e[t].url+'"\n';let n=r.find((e=>-1!==e.videoId));(null==n?void 0:n.keyInfo)&&(a+=`${n.keyInfo}\n`)}else a+="#EXTINF:"+e[t].videoDuration+",\n",a+="video_"+e[t].url+"\n";return!1===t&&(a+="#EXT-X-ENDLIST"),i=!1===t?"#EXTM3U\n#EXT-X-VERSION:6\n#EXT-X-PLAYLIST-TYPE:VOD\n#EXT-X-TARGETDURATION:"+o+"\n#EXT-X-MEDIA-SEQUENCE:"+s+"\n#EXT-X-KEY:METHOD=NONE\n"+a:"#EXTM3U\n#EXT-X-VERSION:6\n#EXT-X-TARGETDURATION:"+o+"\n#EXT-X-MEDIA-SEQUENCE:"+s+"\n#EXT-X-KEY:METHOD=NONE\n"+a,n.logUtils.log(i),i},r.generateAudioSegmentsM3u8=function(e,t,r){if(e.length<=0)return;let i,s=0,o=0,a="";for(let t=0;t<e.length;t++)if(!1===e[t].initSegment&&0===s&&(s=Number(e[t].sequence),o=parseInt(e[t].audioDuration)),!0===e[t].initSegment){a+='#EXT-X-MAP:URI="audio_'+e[t].url+'"\n';let n=r.find((e=>-1!==e.audioId));(null==n?void 0:n.keyInfo)&&(a+=`${n.keyInfo}\n`)}else a+="#EXTINF:"+e[t].audioDuration+",\n",a+="audio_"+e[t].url+"\n";return!1===t&&(a+="#EXT-X-ENDLIST"),i=!1===t?"#EXTM3U\n#EXT-X-VERSION:6\n#EXT-X-PLAYLIST-TYPE:VOD\n#EXT-X-TARGETDURATION:"+o+"\n#EXT-X-MEDIA-SEQUENCE:"+s+"\n#EXT-X-KEY:METHOD=NONE\n"+a:"#EXTM3U\n#EXT-X-VERSION:6\n#EXT-X-TARGETDURATION:"+o+"\n#EXT-X-MEDIA-SEQUENCE:"+s+"\n#EXT-X-KEY:METHOD=NONE\n"+a,n.logUtils.log(i),i}},{"./utils":47}],40:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MediaPeer=r.MediaPeerSegmentStatus=void 0;const n=e("buffer"),i=e("./stringly-typed-event-emitter"),s=e("./metrics"),o=e("./utils");var a,l;!function(e){e[e.SegmentData=0]="SegmentData",e[e.SegmentAbsent=1]="SegmentAbsent",e[e.SegmentsMap=2]="SegmentsMap",e[e.SegmentRequest=3]="SegmentRequest",e[e.CancelSegmentRequest=4]="CancelSegmentRequest"}(a||(a={})),function(e){e[e.Loaded=0]="Loaded",e[e.LoadingByServer=1]="LoadingByServer"}(l=r.MediaPeerSegmentStatus||(r.MediaPeerSegmentStatus={}));class h{constructor(e,t){this.id=e,this.size=t,this.bytesDownloaded=0,this.pieces=[]}}class c extends i.STEEmitter{constructor(e,t,r,i){super(),this.streamId=e,this.peer=t,this.settings=r,this.metrics=i,this.remoteAddress="",this.downloadingSegmentId=null,this.downloadingSegment=null,this.segmentsMap=new Map,this.timer=null,this.onPeerConnect=()=>{o.logUtils.log("peer-connect",this.id),this.remoteAddress=this.peer.remoteAddress,this.emit("connect",this)},this.onPeerClose=()=>{o.logUtils.log("peer-close",this.id),this.terminateSegmentRequest(),this.emit("close",this)},this.onPeerError=e=>{o.logUtils.log("peer-error",this.id,e),this.metrics.report(s.EVENT_TYPES.exception,{exp_type:2,exp_subtype:7,exp_desc:`Peer Error: Peer id: ${this.id}, ${e}`})},this.receiveSegmentPiece=e=>{if(!this.downloadingSegment)return void o.logUtils.log("peer-segment not requested",this.id);this.downloadingSegment.bytesDownloaded+=e.byteLength,this.downloadingSegment.pieces.push(e),this.emit("bytes-downloaded",this,e.byteLength);const t=this.downloadingSegment.id;if(this.downloadingSegment.bytesDownloaded===this.downloadingSegment.size){const e=new Uint8Array(this.downloadingSegment.size);let r=0;for(const t of this.downloadingSegment.pieces)e.set(new Uint8Array(t),r),r+=t.byteLength;o.logUtils.log("peer-segment download done",this.id,t),this.terminateSegmentRequest(),this.emit("segment-loaded",this,t,e.buffer)}else this.downloadingSegment.bytesDownloaded>this.downloadingSegment.size&&(o.logUtils.log("peer-segment download bytes mismatch",this.id,t),this.terminateSegmentRequest(),this.emit("segment-error",this,t,"Too many bytes received for segment"))},this.getJsonCommand=e=>{const t=new Uint8Array(e);if(123===t[0]&&34===t[1]&&125===t[e.byteLength-1])try{return JSON.parse((new TextDecoder).decode(e))}catch(e){return null}return null},this.onPeerData=e=>{const t=this.getJsonCommand(e);if(null!==t){if(this.downloadingSegment){o.logUtils.log("peer-segment download is interrupted by a command",this.id);const e=this.downloadingSegment.id;return this.terminateSegmentRequest(),void this.emit("segment-error",this,e,"Segment download is interrupted by a command")}switch(o.logUtils.log("peer-receive command",this.id,t),t.c){case a.SegmentsMap:this.streamId&&this.streamId===t.d&&(this.segmentsMap=this.createSegmentsMap(t.m),this.emit("data-updated"));break;case a.SegmentRequest:this.emit("segment-request",this,t.i,t.d);break;case a.SegmentData:this.streamId&&this.streamId===t.d&&this.downloadingSegmentId&&this.downloadingSegmentId===t.i&&"number"==typeof t.s&&t.s>=0&&(this.downloadingSegment=new h(t.i,t.s),this.cancelResponseTimeoutTimer());break;case a.SegmentAbsent:this.streamId&&this.streamId===t.d&&this.downloadingSegmentId&&this.downloadingSegmentId===t.i&&(this.terminateSegmentRequest(),this.segmentsMap.delete(t.i),this.emit("segment-absent",this,t.i));break;case a.CancelSegmentRequest:}}else this.receiveSegmentPiece(e)},this.createSegmentsMap=e=>{if(!(e instanceof Object))return new Map;const t=new Map;for(const r of Object.keys(e)){const n=e[r];if(!(n instanceof Array&&2===n.length&&"string"==typeof n[0]&&n[1]instanceof Array))return new Map;const i=n[0].split("|"),s=n[1];if(i.length!==s.length)return new Map;for(let e=0;e<i.length;e++){const r=s[e];if("number"!=typeof r||void 0===l[r])return new Map;t.set(i[e],r)}}return t},this.sendCommand=e=>{o.logUtils.log("peer-send command",this.id,e),this.peer.write(JSON.stringify(e))},this.destroy=()=>{o.logUtils.log("peer-destroy",this.id),this.terminateSegmentRequest(),this.peer.destroy()},this.getPeer=()=>this.peer,this.getDownloadingSegmentId=()=>this.downloadingSegmentId,this.getSegmentsMap=()=>this.segmentsMap,this.sendSegmentsMap=(e,t)=>{this.sendCommand({c:a.SegmentsMap,d:e,m:t})},this.sendSegmentData=(e,t,r)=>{this.sendCommand({c:a.SegmentData,d:e,i:t,s:r.byteLength});let i=r.byteLength;for(;i>0;){const e=i>=this.settings.webRtcMaxMessageSize?this.settings.webRtcMaxMessageSize:i,t=n.Buffer.from(r,r.byteLength-i,e);this.peer.write(t),i-=e}this.emit("bytes-uploaded",this,r.byteLength)},this.sendSegmentAbsent=(e,t)=>{null!==this.streamId&&this.sendCommand({c:a.SegmentAbsent,i:t,d:e})},this.requestSegment=e=>{if(null!==this.streamId){if(this.downloadingSegmentId)throw new Error("A segment is already downloading: "+this.downloadingSegmentId);this.sendCommand({c:a.SegmentRequest,i:e,d:this.streamId}),this.downloadingSegmentId=e,this.runResponseTimeoutTimer()}},this.cancelSegmentRequest=()=>{if(null===this.streamId)return;let e;if(this.downloadingSegmentId){const t=this.downloadingSegmentId;e=this.downloadingSegment?this.downloadingSegment.pieces:void 0,this.terminateSegmentRequest(),this.sendCommand({c:a.CancelSegmentRequest,i:t,d:this.streamId})}return e},this.runResponseTimeoutTimer=()=>{this.timer=setTimeout((()=>{if(this.timer=null,!this.downloadingSegmentId)return;const e=this.downloadingSegmentId;this.cancelSegmentRequest(),this.emit("segment-timeout",this,e)}),this.settings.p2pSegmentDownloadTimeout)},this.cancelResponseTimeoutTimer=()=>{this.timer&&(clearTimeout(this.timer),this.timer=null)},this.terminateSegmentRequest=()=>{this.downloadingSegmentId=null,this.downloadingSegment=null,this.cancelResponseTimeoutTimer()},this.peer.on("connect",this.onPeerConnect),this.peer.on("close",this.onPeerClose),this.peer.on("error",this.onPeerError),this.peer.on("data",this.onPeerData),this.id=t.id}}r.MediaPeer=c},{"./metrics":41,"./stringly-typed-event-emitter":46,"./utils":47,buffer:"buffer"}],41:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.EVENT_TYPES=r.Metrics=void 0;const i=n(e("zlib")),s=n(e("crypto-js")),o=e("./utils"),a=e("buffer").Buffer,l={appId:"WebRTCDemo",appKey:"WebRTCDemoKey",value:""},h={tr_st:0,ts_svr_st:1,conn_peers:0,peer_num:0,cdn:0,index_total_times:0,recv_ts_ok_svr_p:0,recv_ts_ok_peer_p:0,recv_ts_ok_bytes_svr_p:0,recv_ts_ok_bytes_peer_p:0,m_play_ok_1min:99999,m_play_rate:1,dec_rate:0,ren_rate:0};function c(e,t){return Object.keys(e).forEach((r=>{Reflect.has(t,r)&&(e[r]=t[r]||0)})),e}var u;r.Metrics=class{constructor(e={}){this.publicParams={vno_id:"xdfagfhfbhsdf",app_name:"webrtc_app",vno_uid:"sdfjasdk",did:"sdsdf123123",cid:12313213,aver:0xed847e5d05,ever:12323,pver:1,sver:123444,brand:"Huawei",model:"Mate 80",cpu:"kirin",stream_id:"",stream_type:0,prt_sv_id:"2342sdfsafdsf",tr_sv_id:"3453354asdgw3esd"},this._variableMap={},this._cacheMap=new Map,this.paramsList=[],c(this.publicParams,e.params||{}),this.reportHost=null==e?void 0:e.reportHost,this._cacheMap=new Map,this.reportRealtimeStatus(),this.debounceSendReport=function(e,t,r=!1,n=window){let i;const s=function(){const s=this,o=arguments;let a=function(){i=void 0,a=null,r||e.apply(s,o)};!i&&r&&e.apply(s,o),n.clearTimeout(i),i=n.setTimeout(a,t)};return s.cancel=()=>{n.clearTimeout(i),i=void 0},s}(this.sendReport,300)}recordPublicParams(e,t){this.publicParams[e]=t}getVariables(e){return e?this._variableMap[e]:this._variableMap}record(e,t){this._variableMap[e]=t}recordOnce(e,t){Reflect.has(this._variableMap,e)||(this._variableMap[e]=t)}generateParamsToBase64(e=this.paramsList){const t=JSON.stringify(e);o.logUtils.log("generate base64:",t);var r=i.default.deflateSync(a.from(t),{level:9});const n=s.default.lib.WordArray.create(r);return encodeURIComponent(s.default.enc.Base64.stringify(n))}generateParams(e,t){const r=this.paramsList.find((t=>t.name===e));r?r.fieldsMap=Object.assign(Object.assign({},r.fieldsMap),t):this.paramsList.push({name:e,fieldsMap:Object.assign(Object.assign({},this.publicParams),t)})}sendReport(e){const t=this.generateParamsToBase64();!function(e){if("[object Object]"===String(e)){e.method=e.method?e.method.toUpperCase():"GET",e.data=e.data||{};var t=[];for(var r in e.data)t.push("".concat(r,"=",e.data[r]));e.data=t.join("&"),"GET"===e.method&&(e.url+=0===location.search.length?"".concat("?",e.data):"".concat("&",e.data));var n=new XMLHttpRequest;n.responseType=e.responseType||"json",n.onreadystatechange=function(){4===n.readyState&&(200===n.status?e.success&&"function"==typeof e.success&&e.success(n.response):e.error&&"function"==typeof e.error&&e.error())},n.open(e.method,e.url,!0),"POST"===e.method&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send("POST"===e.method?e.data:null)}}({url:`${this.reportHost||"http://15.204.22.126:2082"}/metric/batchpost/v1`,method:"POST",data:Object.assign(Object.assign({},l),{value:t}),success:e})}reportRealtimeStatus(){this._intervalId=setInterval((()=>{const e=c(function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return o.logUtils.error("jsonClone Error",t),e}}(h),this._variableMap),{recv_ts_ok_bytes_svr_p:t,recv_ts_ok_bytes_peer_p:r}=e,n=e=>e<0||e>100663296;(n(t)||n(r))&&(e.recv_ts_ok_bytes_svr_p=0,e.recv_ts_ok_bytes_peer_p=0),this.generateParams(u.status,e),this.debounceSendReport((()=>{this.paramsList=[],c(this._variableMap,{index_total_times:0,recv_ts_ok_svr_p:0,recv_ts_ok_peer_p:0,recv_ts_ok_bytes_svr_p:0,recv_ts_ok_bytes_peer_p:0,block_request_count:0,block_request_success_count:0,block_request_success_count_filtered:0})}))}),3e5)}report(e,t,r){switch(e){case 0:case u.startup:t&&r&&this.generateParams(u.startup,{[t]:"player_type"===t?r:r-this._variableMap.start_play_time});break;case 1:case u.exception:this.generateParams(u.exception,t)}this.debounceSendReport()}reportOnce(e,t,r){this._cacheMap.has(t)||(this.report(e,t,r),this._cacheMap.set(t,!0))}destroy(){clearInterval(this._intervalId),this._intervalId=void 0,this._cacheMap=new Map,this._variableMap={}}clear(){this._cacheMap=new Map,this._variableMap={}}},function(e){e.startup="rapid_agent_startup",e.status="rapid_agent_status",e.exception="rapid_agent_exception"}(u=r.EVENT_TYPES||(r.EVENT_TYPES={}))},{"./utils":47,buffer:"buffer","crypto-js":69,zlib:55}],42:[function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.P2PMediaManager=void 0;const s=i(e("debug")),o=e("buffer"),a=e("./stringly-typed-event-emitter"),l=e("./media-peer"),h=e("./index"),c=e("./metrics"),u=e("./utils"),d=`-WW${h.version.replace(/\d*./g,(e=>("0"+parseInt(e,10)%100).slice(-2))).slice(0,4)}-`;class f{constructor(e,t){this.peerId=e,this.segment=t}}class p extends a.STEEmitter{constructor(e,t,r){super(),this.segmentsStorage=e,this.settings=t,this.metrics=r,this.peers=new Map,this.peerCandidates=new Map,this.peerSegmentRequests=new Map,this.streamSwarmId=null,this.debug=s.default("p2pml:p2p-media-manager"),this.getPeers=()=>this.peers,this.getPeerId=()=>o.Buffer.from(this.peerId).toString("hex"),this.setStreamSwarmId=e=>{this.streamSwarmId!==e&&(this.streamSwarmId=e,this.debug("stream swarm ID",this.streamSwarmId))},this.addTrackerPeer=e=>{if(this.debug("tracker peer",e.id,e),this.peers.has(e.id))return this.debug("peer-already connected",e.id,e),void e.destroy();const t=new l.MediaPeer(this.streamSwarmId,e,this.settings,this.metrics);t.on("connect",this.onPeerConnect),t.on("close",this.onPeerClose),t.on("data-updated",this.onPeerDataUpdated),t.on("segment-request",this.onSegmentRequest),t.on("segment-loaded",this.onSegmentLoaded),t.on("segment-absent",this.onSegmentAbsent),t.on("segment-error",this.onSegmentError),t.on("segment-timeout",this.onSegmentTimeout),t.on("bytes-downloaded",this.onPieceBytesDownloaded),t.on("bytes-uploaded",this.onPieceBytesUploaded);let r=this.peerCandidates.get(t.id);r||(r=[],this.peerCandidates.set(t.id,r)),r.push(t)},this.download=e=>{if(null===this.streamSwarmId)return!1;if(this.isDownloading(e))return!1;const t=[];for(const r of this.peers.values())null===r.getDownloadingSegmentId()&&r.getSegmentsMap().get(e.id)===l.MediaPeerSegmentStatus.Loaded&&t.push(r);if(0===t.length)return!1;const r=t[Math.floor(Math.random()*t.length)];return r.requestSegment(e.id),this.peerSegmentRequests.set(e.id,new f(r.id,e)),!0},this.abort=e=>{let t;const r=this.peerSegmentRequests.get(e.id);if(r){const n=this.peers.get(r.peerId);n&&(t=n.cancelSegmentRequest()),this.peerSegmentRequests.delete(e.id)}return t},this.isDownloading=e=>this.peerSegmentRequests.has(e.id),this.getActiveDownloadsCount=()=>this.peerSegmentRequests.size,this.destroy=(e=!1)=>{this.streamSwarmId=null,this.peers.forEach((e=>e.destroy())),this.peers.clear(),u.logUtils.warn("peer-destory"),this.peerSegmentRequests.clear();for(const e of this.peerCandidates.values())for(const t of e)t.destroy();this.peerCandidates.clear()},this.sendSegmentsMapToAll=(e,t)=>{for(const r of this.peers.values())r.peer.streamId===e&&r.sendSegmentsMap(e,t)},this.sendSegmentsMap=(e,t,r)=>{const n=this.peers.get(t);n&&n.sendSegmentsMap(e,r)},this.getOverallSegmentsMap=()=>{const e=new Map;for(const t of this.peers.values())for(const[r,n]of t.getSegmentsMap())n===l.MediaPeerSegmentStatus.Loaded?e.set(r,l.MediaPeerSegmentStatus.Loaded):e.get(r)||e.set(r,l.MediaPeerSegmentStatus.LoadingByServer);return e},this.onPieceBytesDownloaded=(e,t)=>{this.emit("bytes-downloaded",t,e.id)},this.onPieceBytesUploaded=(e,t)=>{this.emit("bytes-uploaded",t,e.id)},this.onPeerConnect=e=>{var t;if(this.peers.get(e.id))return u.logUtils.log("peer-already connected (in peer connect)",e.id),void e.destroy();this.peers.set(e.id,e),null===(t=this.metrics)||void 0===t||t.record("conn_peers",this.peers.size);const r=this.peerCandidates.get(e.id);if(r){for(const t of r)t!==e&&t.destroy();this.peerCandidates.delete(e.id)}u.logUtils.log("peer-connected,",e.id," ",e.remoteAddress,"size: ",this.peers.size),this.emit("peer-connected",{id:e.id,streamId:e.peer.streamId})},this.onPeerClose=e=>{if(u.logUtils.log("peer-close ",e.id),this.peers.get(e.id)!==e){const t=this.peerCandidates.get(e.id);if(!t)return;const r=t.indexOf(e);return-1!==r&&t.splice(r,1),void(0===t.length&&this.peerCandidates.delete(e.id))}for(const[t,r]of this.peerSegmentRequests)r.peerId===e.id&&this.peerSegmentRequests.delete(t);this.peers.delete(e.id),this.emit("peer-data-updated"),u.logUtils.log("peer-close ",e.id,"size: ",this.peers.size),this.emit("peer-closed")},this.onPeerDataUpdated=()=>{this.emit("peer-data-updated")},this.onSegmentRequest=(e,t,r)=>n(this,void 0,void 0,(function*(){const n=yield this.segmentsStorage.getSegment(t,r);u.logUtils.log("onSegmentRequest:",null==n?void 0:n.id,null==n?void 0:n.url,r),n&&n.data?(this.emit("segment-request",n,r),e.sendSegmentData(r,t,n.data)):e.sendSegmentAbsent(r,t)})),this.onSegmentLoaded=(e,t,r)=>n(this,void 0,void 0,(function*(){var n;const i=this.peerSegmentRequests.get(t);if(!i)return;const s=(this.metrics.getVariables("recv_ts_ok_peer_p")||0)+1;null===(n=this.metrics)||void 0===n||n.record("recv_ts_ok_peer_p",s),u.logUtils.log("p2p segment loaded..","segmentId:",t,"target peer id:",e.id);const o=i.segment;if(this.settings.segmentValidator)try{yield this.settings.segmentValidator(Object.assign(Object.assign({},o),{data:r}),"p2p",e.id)}catch(t){return this.debug("segment validator failed",t),this.emit("segment-error",o,t,e.id),void this.onPeerClose(e)}this.emit("segment-loaded",o,r,e.id)})),this.onSegmentAbsent=(e,t)=>{this.peerSegmentRequests.delete(t),this.emit("peer-data-updated")},this.onSegmentError=(e,t,r)=>{this.metrics.report(c.EVENT_TYPES.exception,{exp_type:2,exp_subtype:7,exp_desc:`Download Segement Error - segment id: ${t}, description: ${r}`});const n=this.peerSegmentRequests.get(t);n&&this.emit("segment-error",n.segment,r,e.id)},this.onSegmentTimeout=(e,t)=>{const r=this.peerSegmentRequests.get(t);r&&(this.peerSegmentRequests.delete(t),u.logUtils.log("peer-timeout ",e.id),e.destroy(),this.peers.delete(r.peerId)&&this.emit("peer-data-updated"))},this.peerId=t.useP2P?function(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t=d;for(let r=0;r<20-d.length;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return(new TextEncoder).encode(t).buffer}():new ArrayBuffer(0),this.debug.enabled&&this.debug("peer ID",this.getPeerId(),(new TextDecoder).decode(this.peerId))}segmentDealOk(e){this.peerSegmentRequests.delete(e)}}r.P2PMediaManager=p},{"./index":"web-engine","./media-peer":40,"./metrics":41,"./stringly-typed-event-emitter":46,"./utils":47,buffer:"buffer",debug:"debug"}],43:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.stringTosegmentRange=r.segmentRangeToString=r.parsePlayListSegment=r.parsePlayListTrack=r.parsePlayListHeader=r.parsePlayListIndex=void 0;let n="";function i(e){if(null===e||e.length<=0)return;const t=e.split(",");if(t.length<1)return;const r={version:0,type:"live",targetduration:0,sequence:0,sh:0,ts:0};for(let e=0;e<t.length;e++){const n=t[e].split("=");r[n[0].toLowerCase()]=n[1]}return r}function s(e,t){if(null===e||e.length<=0)return;const r=e.split(";");if(r.length<1)return;const n=[],i=function(e){let t="#EXT-X-KEY:METHOD=NONE";const r=e.find((e=>e.startsWith("KEY:METHOD")));if(r){const e=r.split(",");let n="",i="",s="";for(const t of e){const[e,r]=t.split("=");switch(e){case"KEY:METHOD":n=r;break;case"KEYID":s=r;break;case"WV":i=decodeURIComponent(r)}}if("SAMPLE-AES"===n)t=`#EXT-X-KEY:METHOD=${n},URI="data:text/plain;base64,${i}",KEYID="0x${s}",KEYFORMAT="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",KEYFORMATVERSION="1"\n#EXT-X-KEY:METHOD=${n},URI="skd://${s}",KEYFORMATVERSIONS="1",KEYFORMAT="com.apple.streamingkeydelivery"`;else if("AES-128"===n){const e="http://127.0.0.2/";t=`#EXT-X-${r}`.replace(/KEYID=([A-Z0-9]+)/,`URI="${e}$1"`)}}return t}(t),s={audioParams:r.filter((e=>e.includes("TYPE=audio")))||"",videoParams:r.filter((e=>e.includes("TYPE=video")))||""},o=()=>{const e={audioId:-1,audioCodec:"string",audioChannel:0,audioBandWidth:0,audioSampleRate:0,videoId:-1,videoCodec:"string",videoResolution:"string",videoBandWidth:0,videoFramRate:"",keyInfo:""};return e.keyInfo=i,e};return s.audioParams||s.videoParams?(["audio","video"].forEach((e=>{const t=s[`${e}Params`];for(let r=0;r<t.length;r++){const i=t[r].split(","),s=o();for(let t=0;t<i.length;t++)i[t].startsWith("ID=")?s[`${e}Id`]=Number(i[t].substring("ID=".length)):i[t].startsWith("CODECS=")?s[`${e}Codec`]=i[t].substring("CODECS=".length):i[t].startsWith("CHANNELS=")?s[`${e}Channel`]=Number(i[t].substring("CHANNELS=".length)):i[t].startsWith("BANDWIDTH=")?s[`${e}BandWidth`]=Number(i[t].substring("BANDWIDTH=".length)):i[t].startsWith("SAMPLE-RATE=")?s[`${e}SampleRate`]=Number(i[t].substring("SAMPLE-RATE=".length)):i[t].startsWith("RESOLUTION=")?s[`${e}Resolution`]=i[t].substring("RESOLUTION=".length):i[t].startsWith("FRAME-RATE")&&(s[`${e}FramRate`]=i[t].substring("FRAME-RATE=".length));n.push(s)}})),n):void 0}function o(e,t,r,i){var s,o;if(null===r||r.length<=0||null===i||i.length<=0)return;const a={id:"",url:"",masterSwarmId:e,masterManifestUri:"",streamId:e,sequence:"",range:void 0,priority:0,downloadBandwidth:0,requestUrl:"",responseUrl:"",initSegment:!1,xFlag:!1,audioDuration:"",videoDuration:"",audioRangeBegin:0,audioRangeEnd:0,videoRangeBegin:0,videoRangeEnd:0};let l=!1,h="";-1!==r.indexOf(",")&&(h=r.substring(0,r.indexOf(",")),l=r.split(",").includes("X=1")&&(""===n||n!==h),r=h),l&&(n=r),a.url=r,a.id=r,a.xFlag=l;const c=r.lastIndexOf("_"),u=r.lastIndexOf(".");-1!==c&&-1!==u&&c+1<u&&(a.sequence=r.substring(c+1,u));const d=i.split(";");if(d.length<1)return;const f=null===(s=t.filter((e=>-1!==e.audioId)))||void 0===s?void 0:s.map((e=>e.audioId)),p=null===(o=t.filter((e=>-1!==e.videoId)))||void 0===o?void 0:o.map((e=>e.videoId));return[d.filter((e=>{let t=e.split(",").find((e=>e.startsWith("ID=")));return t=(null==t?void 0:t.split("=")[1])||"",f.includes(+t)})),d.filter((e=>{let t=e.split(",").find((e=>e.startsWith("ID=")));return t=(null==t?void 0:t.split("=")[1])||"",p.includes(+t)}))].forEach(((e,t)=>{const r=0===t?"audio":"video";for(let t=0;t<e.length;t++){if(0!==t&&t!==e.length-1)continue;const n=e[t].split(",");if(!(n.length<=0)&&n[0].startsWith("ID="))for(let i=1;i<n.length;i++)if(n[i].startsWith("DURATION="))a[`${r}Duration`]=n[i].substring("DURATION=".length);else if(n[i].startsWith("RANGE=")){const s=n[i].substring("RANGE=".length);if(null===s)continue;const o=s.split("-");if(null===s||s.length<2)continue;0===t&&(a[`${r}RangeBegin`]=Number(o[0])),t===e.length-1&&(a[`${r}RangeEnd`]=Number(o[1])+Number(o[0]))}}})),a}function a(e){if(void 0!==e)return`bytes=${e.rangeBegin}-${e.rangeEnd}`}r.parsePlayListIndex=function(e,t){let r,n;const l=[],h=t.split("\n"),c=h.length;for(let t=0;t<c;t++){const u=h[t],d=u.startsWith("INIT:URI=")&&h[t+1].startsWith("INIT-INF:"),f=u.startsWith("SEGMENT:URI=")&&h[t+1].startsWith("SEGMENT-INF:");if(u.startsWith("HEADER:"))n=i(u.substring("HEADER:".length));else if(u.startsWith("TRACK-INF:"))r=s(u.substring("TRACK-INF:".length),h);else if((d||f)&&t<c-1){if(void 0===n||void 0===r)continue;const i=d?"INIT":"SEGMENT",s=o(e,r,u.substring(`${i}:URI=`.length),h[t+1].substring(`${i}:INF=`.length));if(t++,void 0!==s){s.initSegment=d;const e=s.audioRangeBegin<s.videoRangeBegin,t=s.audioRangeEnd<s.videoRangeEnd,r=e?s.audioRangeBegin:s.videoRangeBegin,n=t?s.videoRangeEnd:s.audioRangeEnd;s.range=a({rangeBegin:r,rangeEnd:n}),l.push(s)}}}return n&&r?{headerInfo:n,trackInfo:r,segments:l}:void 0},r.parsePlayListHeader=i,r.parsePlayListTrack=s,r.parsePlayListSegment=o,r.segmentRangeToString=a,r.stringTosegmentRange=function(e){if(void 0===e)return;if(!e.startsWith("bytes="))return;const t=e.indexOf("-",6);if(t<=6)return;const r=Number(e.substring(6,t)),n=Number(e.substring(t+1));return isNaN(r)||isNaN(n)?void 0:{rangeBegin:r,rangeEnd:n}}},{}],44:[function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.SegmentsIndexedDBStorage=void 0;const i=e("./utils"),s=e("lodash.merge");let o={};r.SegmentsIndexedDBStorage=class{constructor(e){this.settings=e,this.streamId="",this.videoBasic="videoBasic",this.segmentsMap=new Map,this.connectDatabase=()=>{setInterval((()=>n(this,void 0,void 0,(function*(){i.logUtils.log("IndexedDB reload: closing connection");const e=yield this._getDB();e&&(e.close(),setTimeout((()=>{o[this.database]=this._setDB()}),100))}))),6e5)},this._setDB=()=>n(this,void 0,void 0,(function*(){const{database:e,table:t,videoBasic:r}=this;return new Promise(((n,i)=>{const s=indexedDB.open(e,2);s.onerror=()=>{i(s.error)},s.onupgradeneeded=()=>{const e=s.result;e.objectStoreNames.contains(t)||s.result.createObjectStore(t),e.objectStoreNames.contains(r)||s.result.createObjectStore(r)},s.onsuccess=()=>{n(s.result)}}))})),this._getDB=()=>n(this,void 0,void 0,(function*(){const{database:e}=this;return o[e]||(o[e]=this._setDB()),o[e]})),this.getAllKeys=()=>n(this,void 0,void 0,(function*(){let e=[];return yield this.withStore("readonly",this.table,(t=>{t.getAllKeys().onsuccess=t=>n(this,void 0,void 0,(function*(){e=t.target.result}))})),e})),this._getAll=()=>n(this,void 0,void 0,(function*(){let e=[];return yield this.withStore("readonly",this.table,(t=>{t.getAll().onsuccess=t=>n(this,void 0,void 0,(function*(){e=t.target.result}))})),e})),this._formatId=(e,t=this.streamId)=>e.includes(t)||!t?e:`${t}/${e}`,this.withStore=(e,t,r)=>n(this,void 0,void 0,(function*(){const n=yield this._getDB();return new Promise(((i,s)=>{try{const o=n.transaction(t,e);o.oncomplete=()=>i(void 0),o.onerror=()=>s(o.error),r(o.objectStore(t))}catch(e){}}))})),this.setVideoBasic=(e,t=this.streamId)=>n(this,void 0,void 0,(function*(){yield this.withStore("readwrite",this.videoBasic,(r=>{r.get(t).onsuccess=n=>{const i=n.target.result||{},o=s(i,e);r.put(o,t)}}))})),this.getVideoBasic=(e=this.streamId)=>n(this,void 0,void 0,(function*(){let t=null;return yield this.withStore("readonly",this.videoBasic,(r=>{t=r.get(e)})),(null==t?void 0:t.result)?{streamId:e,info:t.result}:null})),this.storeSegment=e=>n(this,void 0,void 0,(function*(){yield this.withStore("readwrite",this.table,(t=>{const r=this._formatId(e.id),n={segment:e,lastAccessed:Date.now()},i=JSON.parse(JSON.stringify(n));t.put(n,r).onsuccess=()=>{delete i.segment.data,this.segmentsMap.set(r,i)}}))})),this.getSegment=(e,t)=>n(this,void 0,void 0,(function*(){let r;if(e=this._formatId(e,t),yield this.withStore("readonly",this.table,(t=>{r=t.get(e)})),null==r?void 0:r.result)return r.result.lastAccessed=Date.now(),r.result.segment})),this.getSegmentsMap=e=>n(this,void 0,void 0,(function*(){let t=new Map;for(let[r,n]of this.segmentsMap)r.startsWith(e)&&t.set(r.replace(`${e}/`,""),n);return t})),this.syncCacheToSegmentsMap=()=>n(this,void 0,void 0,(function*(){return yield this.withStore("readwrite",this.table,(e=>{e.openCursor().onsuccess=e=>{const t=e.target.result;if(t){const e=t.value;delete e.segment.data,this.segmentsMap.set(t.key,e),t.continue()}}})),this.segmentsMap})),this.removeSegment=(e,t=!0)=>n(this,void 0,void 0,(function*(){return t&&(e=this._formatId(e)),this.withStore("readwrite",this.table,(t=>{t.delete(e)}))})),this.removeSegments=(e,t=!0)=>n(this,void 0,void 0,(function*(){return e=e.map((e=>this._formatId(e))),new Promise(((r,i)=>n(this,void 0,void 0,(function*(){const n=(yield this.getAllKeys()).filter((r=>e.find((e=>t?r===e:r.includes(e))))).map((e=>this.removeSegment(e,!1)));Promise.all(n).then((()=>r())).catch((e=>i(e)))}))))})),this.hasSegment=(e,t)=>n(this,void 0,void 0,(function*(){return(yield this.getAllKeys()).includes(this._formatId(e,t))})),this.setStreamSwarmId=e=>{this.streamId=e},this.clean=(e,t)=>n(this,void 0,void 0,(function*(){const e=[],r=[],n=Date.now(),i=yield this._getAll();for(const t of i)n-t.lastAccessed>this.settings.cachedSegmentExpiration?e.push(t.segment.id):r.push(t);let s=r.length-this.settings.cachedSegmentsCount;if(s>0){r.sort(((e,t)=>e.lastAccessed-t.lastAccessed));for(const n of r)if((void 0===t||!t(n.segment.id))&&(e.push(n.segment.id),s--,0===s))break}return this.removeSegments(e),e.length>0})),this.destroy=()=>n(this,void 0,void 0,(function*(){return this.withStore("readwrite",this.table,(e=>{e.clear()}))})),this.database=this.settings.database||"cachedVideos",this.table=this.settings.table||"videoStore",this.connectDatabase()}}},{"./utils":47,"lodash.merge":117}],45:[function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.SegmentsMemoryStorage=void 0;r.SegmentsMemoryStorage=class{constructor(e){this.settings=e,this.cache=new Map,this.storeSegment=e=>n(this,void 0,void 0,(function*(){this.cache.set(e.id,{segment:e,lastAccessed:performance.now()})})),this.getSegmentsMap=()=>n(this,void 0,void 0,(function*(){return this.cache})),this.getSegment=e=>n(this,void 0,void 0,(function*(){const t=this.cache.get(e);if(void 0!==t)return t.lastAccessed=performance.now(),t.segment})),this.hasSegment=e=>n(this,void 0,void 0,(function*(){return this.cache.has(e)})),this.clean=(e,t)=>n(this,void 0,void 0,(function*(){const e=[],r=[],n=performance.now();for(const t of this.cache.values())n-t.lastAccessed>this.settings.cachedSegmentExpiration?e.push(t.segment.id):r.push(t);let i=r.length-this.settings.cachedSegmentsCount;if(i>0){r.sort(((e,t)=>e.lastAccessed-t.lastAccessed));for(const n of r)if((void 0===t||!t(n.segment.id))&&(e.push(n.segment.id),i--,0===i))break}return e.forEach((e=>this.cache.delete(e))),e.length>0})),this.destroy=()=>n(this,void 0,void 0,(function*(){this.cache.clear()}))}}},{}],46:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.STEEmitter=void 0;const n=e("events");class i extends n.EventEmitter{constructor(){super(...arguments),this.on=(e,t)=>super.on(e,t),this.emit=(e,...t)=>super.emit(e,...t)}}r.STEEmitter=i},{events:"events"}],47:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.stringify=r.logUtils=void 0;const i=n(e("dayjs")),s={};r.logUtils=s,["log","info","warn","error"].forEach((e=>{s[e]=(...t)=>{const r=window.console[e],n=i.default().format("YYYY-MM-DD HH:mm:ss ");if("log"!==e)return r.apply(this,[n,...t])}})),r.stringify=function(e){let t=[],r=JSON.stringify(e,(function(e,r){var n;if("object"==typeof r&&null!==r){if(-1!==(null===(n=null==t?void 0:t.indexOf)||void 0===n?void 0:n.call(t,r)))return;t.push(r)}return r}));return t=null,r}},{dayjs:95}],48:[function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.WrtMediaManager=void 0;const s=e("./stringly-typed-event-emitter"),o=e("./wrt-peer"),a=i(e("console")),l=e("./metrics"),h=e("js-base64").Base64;class c{constructor(e,t){this.peerId=e,this.segment=t}}class u extends s.STEEmitter{constructor(e,t){super(),this.settings=e,this.metrics=t,this.peers=new Map,this.peerCandidates=new Map,this.peerSegmentRequests=new Map,this.streamSwarmId=null,this.fileId=null,this.downloadWrtIdx=1,this.indexName=null,this.getPeers=()=>this.peers,this.setStreamSwarmId=e=>{this.streamSwarmId!==e&&(this.destroy(!0),this.streamSwarmId=e)},this.setFileId=e=>{this.fileId=h.encode(e)},this.addTrackerPeer=e=>{if(this.peers.has(e.id))return a.default.warn("wrt peer already connected",e.id),void e.destroy();if(this.peers.size,null===this.streamSwarmId)return void a.default.warn("streamSwarmId or fileId is null, not allow wrtid",e.id);const t=new o.WrtPeer(e,this.streamSwarmId,this.fileId,this.settings,this.metrics);null!==this.indexName&&t.setIndxName(this.indexName),t.on("connect",this.onPeerConnect),t.on("close",this.onPeerClose),t.on("segment-loaded",this.onSegmentLoaded),t.on("segment-error",this.onSegmentError),t.on("bytes-downloaded",this.onPieceBytesDownloaded),t.on("segment-list",this.onSegmentList),t.on("header-info",this.onHeaderInfo),t.on("re-init",this.onReInit),t.on("track-info",this.onTrackInfo);let r=this.peerCandidates.get(t.id);r||(r=[],this.peerCandidates.set(t.id,r)),r.push(t)},this.download=(e,t)=>{if(this.isDownloading(e))return!1;const r=[];for(const e of this.peers.values())r.push(e);if(0===r.length)return!1;this.downloadWrtIdx>=r.length&&("LIVE"!==this.settings.params.playType?this.downloadWrtIdx=0:this.downloadWrtIdx=r.length>1?1:0);const n=r[this.downloadWrtIdx++];return n.requestSegment(e),this.peerSegmentRequests.set(e.id,new c(n.id,e)),!0},this.abort=e=>{},this.isDownloading=e=>this.peerSegmentRequests.has(e.id),this.getActiveDownloadsCount=()=>this.peerSegmentRequests.size,this.getActiveDownloads=()=>this.peerSegmentRequests,this.setIndxName=e=>{this.indexName=e,this.peers.forEach((t=>t.setIndxName(e)));for(const t of this.peerCandidates.values())for(const r of t)r.setIndxName(e)},this.destroy=(e=!1)=>{this.streamSwarmId=null,this.peers.forEach((e=>e.destroy())),this.peers.clear(),this.peerSegmentRequests.clear();for(const e of this.peerCandidates.values())for(const t of e)t.destroy();this.peerCandidates.clear()},this.onPieceBytesDownloaded=(e,t)=>{this.emit("bytes-downloaded",t,e.id)},this.onSegmentList=(e,t)=>{for(const r of this.peers.values()){r.id===t&&this.emit("segment-list",e);break}},this.onHeaderInfo=e=>{this.emit("header-info",e)},this.onReInit=e=>{this.emit("re-init",e)},this.onTrackInfo=e=>{this.emit("track-info",e)},this.onPeerConnect=e=>{if(this.peers.get(e.id))return a.default.warn("tracker peer already connected (in peer connect)",e.id),void e.destroy();this.metrics.report(l.EVENT_TYPES.startup,"prt_rtt",+new Date),this.peers.set(e.id,e);const t=this.peerCandidates.get(e.id);if(t){for(const r of t)r!==e&&r.destroy();this.peerCandidates.delete(e.id)}},this.onPeerClose=e=>{if(this.peers.get(e.id)!==e){const t=this.peerCandidates.get(e.id);if(!t)return;const r=t.indexOf(e);return-1!==r&&t.splice(r,1),void(0===t.length&&this.peerCandidates.delete(e.id))}for(const[t,r]of this.peerSegmentRequests)r.peerId===e.id&&this.peerSegmentRequests.delete(t);this.peers.delete(e.id)},this.onSegmentLoaded=(e,t,r)=>n(this,void 0,void 0,(function*(){var n,i;const s=this.peerSegmentRequests.get(t);if(!s)return void a.default.warn("not find segment in request queue..",t);const o=(this.metrics.getVariables("recv_ts_ok_svr_p")||0)+1;null===(n=this.metrics)||void 0===n||n.record("recv_ts_ok_svr_p",o);const h=s.segment;if(h.initSegment||null===(i=this.metrics)||void 0===i||i.reportOnce(l.EVENT_TYPES.startup,"first_ts",+new Date),this.settings.segmentValidator)try{yield this.settings.segmentValidator(Object.assign(Object.assign({},h),{data:r}),"wrt",e.id)}catch(t){return a.default.error("segment validator failed",t),void this.emit("segment-error",h,t,e.id)}this.emit("segment-loaded",h,r,e.id)})),this.onSegmentError=(e,t,r)=>{this.metrics.report(l.EVENT_TYPES.exception,{exp_type:2,exp_subtype:7,exp_desc:`Download Segement Error - segment id: ${t}, description: ${r}`});const n=this.peerSegmentRequests.get(t);n&&(this.peerSegmentRequests.delete(t),this.emit("segment-error",n.segment,r,e.id))}}segmentDealOk(e){this.peerSegmentRequests.delete(e)}}r.WrtMediaManager=u},{"./metrics":41,"./stringly-typed-event-emitter":46,"./wrt-peer":49,console:59,"js-base64":116}],49:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.WrtPeer=void 0;const i=e("buffer"),s=e("./stringly-typed-event-emitter"),o=n(e("bytebuffer")),a=n(e("pako")),l=e("./rpd-parse"),h=e("./metrics"),c=n(e("querystring")),u=e("./utils");var d,f;!function(e){e[e.BeginTagValue=2114351101]="BeginTagValue",e[e.HeadTagValue=2097573645]="HeadTagValue",e[e.BLOCKTagValue=2097573661]="BLOCKTagValue",e[e.IndexTagValue=2097569821]="IndexTagValue",e[e.AttrTagVaLue=2097569853]="AttrTagVaLue",e[e.StreamTagValue=2097569837]="StreamTagValue"}(d||(d={})),function(e){e[e.QuickConnect=5001]="QuickConnect",e[e.QuickConnectRsp=5002]="QuickConnectRsp",e[e.IndexNotify=5003]="IndexNotify",e[e.BlockReq=5004]="BlockReq",e[e.BlockRsp=5005]="BlockRsp"}(f||(f={}));const p=2097573885;class g{constructor(e,t){this.id=e,this.uri=t,this.size=0,this.bytesDownloaded=0,this.pieces=[]}}class m extends s.STEEmitter{constructor(e,t,r,n,s){super(),this.peer=e,this.streamid=t,this.fileid=r,this.settings=n,this.metrics=s,this.remoteAddress="",this.playRequestTimer=null,this.downloadingSegmentMap=new Map,this.downLaodTimerMap=new Map,this.trackInfo=null,this.indexName=null,this.playRequest=()=>{u.logUtils.log("connect wrt",this.id);const e=new o.default(200);e.writeInt32(d.BeginTagValue);const t=e.offset;e.skip(4),e.writeInt32(d.HeadTagValue),e.writeInt32(20+this.streamid.length),e.writeInt32(p),e.writeInt32(this.settings.params.APPVER),e.writeInt32(f.QuickConnect),e.writeIString(this.streamid),e.writeInt32(0),e.writeInt32(d.AttrTagVaLue);let r=c.default.stringify(this.settings.params);this.fileid&&(r+="&fileId="+this.fileid),e.writeIString(r),e.writeInt32(e.offset-4,t),e.flip();const n=e.toBuffer(),s=i.Buffer.from(n,0,n.byteLength);this.peer.write(s),this.metrics.record("block_request_count",Number(this.metrics.getVariables("block_request_count")||0)+1),this.runPlayRequestTimeoutTimer()},this.onPeerConnect=()=>{u.logUtils.log("peer connect",this.id,new Date),this.remoteAddress=this.peer.remoteAddress,this.playRequest(),this.emit("connect",this)},this.onPeerClose=()=>{u.logUtils.log("peer close",this.id),this.terminateSegmentRequest(),this.emit("close",this)},this.onPeerError=e=>{u.logUtils.log("peer error",this.id,e),this.metrics.report(h.EVENT_TYPES.exception,{exp_type:2,exp_subtype:7,exp_desc:`Peer Error: Peer id: ${this.id}, ${e}`})},this.onPeerData=e=>{null!==this.playRequestTimer&&this.cancelPlayRequestTimeoutTimer();const t=o.default.wrap(e);if(!t)return void u.logUtils.error("wrt data to bytebuffer error",this.id);const r=t.readInt32();if(r!==d.BeginTagValue)return void u.logUtils.error("wrt error data, begin tag value error",this.id,r);t.readInt32();t.remaining();const n=t.readInt32();if(n!==d.HeadTagValue)return void u.logUtils.error("wrt error data, head tag value error",this.id,n);const i=t.readInt32();if(i>t.remaining()||i<20)return void u.logUtils.error("wrt error data, head len value error",this.id,i);if(t.readInt32()!==p)return void u.logUtils.error("wrt error data, head protocol error",this.id);t.skip(4);const s=t.readInt32(),l=t.readIString();if(l!==this.streamid)return void u.logUtils.error("wrt error data, streamid error",this.id,l,this.streamid);if(0===t.readInt32())switch(s){case f.QuickConnectRsp:"LIVE"!==this.settings.params.playType&&(null===this.indexName?u.logUtils.error("vod not have indexName"):this.requestIndex(this.indexName));break;case f.IndexNotify:if(this.metrics.reportOnce(h.EVENT_TYPES.startup,"first_index",+new Date),this.metrics.record("index_total_times",Number(this.metrics.getVariables("index_total_times")||0)+1),t.readInt32()!==d.IndexTagValue){u.logUtils.error("wrt error index notify data, tag value error",this.id,new Date);break}const r=t.readInt32();if(r>t.remaining()){u.logUtils.error("wrt error index notify data, len error",this.id,r,t.remaining());break}r<t.remaining()&&u.logUtils.warn("index notify data, remain len too long",this.id,r,t.remaining());const n=e.slice(t.offset,t.offset+r);let i="";if("CRT"===this.settings.params.playType){const e=new TextDecoder("utf-8"),t=new Uint8Array(n);i=e.decode(t)}else i=a.default.inflate(n,{to:"string"});i&&this.onPlayListIndex(i);break;case f.BlockRsp:{if(this.metrics.record("block_request_success_count",Number(this.metrics.getVariables("block_request_success_count")||0)+1),t.readInt32()!==d.BLOCKTagValue){u.logUtils.error("wrt error block head, tag value error",this.id);break}t.readInt32(),t.remaining();const r=t.readIString();if(null===r){u.logUtils.error("wrt error block head, blockname value error",this.id);break}const n=this.downloadingSegmentMap.get(r);if(void 0===n)break;const i=t.readInt32();n.size<=0&&(n.size=i);const s=t.readInt32(),o=t.readInt32();if(0!==t.readInt32()){u.logUtils.error("wrt error block data, error code",this.id),this.onDownLoadSegmentError(n.uri);break}if(t.readInt32()!==d.StreamTagValue){u.logUtils.error("wrt error block stream, tag value error",this.id);break}const a=t.readInt32();if(o>t.remaining()){u.logUtils.error("wrt error block data, block len error",this.id,r,o,a,t.remaining()),this.onDownLoadSegmentError(n.uri);break}if(t.remaining(),s!==n.bytesDownloaded){u.logUtils.error("wrt error block data, offsize incorrect ",this.id,r,"offsize:",s,"current:",n?n.bytesDownloaded:"null",this),this.onDownLoadSegmentError(n.uri);break}this.metrics.record("block_request_success_count_filtered",Number(this.metrics.getVariables("block_request_success_count_filtered")||0)+1);const l=e.slice(t.offset,t.offset+o);this.receiveSegmentPiece(l,n,i);break}}else u.logUtils.error("wrt answer error, mybe login error",this.id,this.streamid)},this.isTrackInfoCodecDifferent=e=>{var t,r;let n=!1;if((null===(t=this.trackInfo)||void 0===t?void 0:t.length)&&e.length){if((null===(r=this.trackInfo)||void 0===r?void 0:r.length)!==e.length)return!0;for(let t=0;t<e.length;t++)if(this.trackInfo[t].audioCodec!==e[t].audioCodec||this.trackInfo[t].videoCodec!==e[t].videoCodec){n=!0;break}}return n},this.onPlayListIndex=e=>{u.logUtils.log("rpdList:",e);const t=l.parsePlayListIndex(this.streamid,e);void 0!==t?((t.segments.find((e=>e.xFlag))||this.isTrackInfoCodecDifferent(t.trackInfo))&&this.emit("re-init",!0),this.trackInfo=t.trackInfo,this.emit("header-info",t.headerInfo),this.emit("track-info",t.trackInfo),this.emit("segment-list",JSON.parse(JSON.stringify(t.segments)),this.id)):u.logUtils.error("parse rpdlist error ",e)},this.receiveSegmentPiece=(e,t,r)=>{t.bytesDownloaded+=e.byteLength,t.pieces.push(e),this.emit("bytes-downloaded",this,e.byteLength);const n=t.id,i=t.uri;if(t.bytesDownloaded===t.size){const e=new Uint8Array(t.size);let r=0;for(const n of t.pieces)e.set(new Uint8Array(n),r),r+=n.byteLength;if(u.logUtils.log("peer segment download done",this.id,n,new Date),this.cancelResponseTimeoutTimer(i),this.downloadingSegmentMap.delete(i),t.uri===this.indexName){let t="";if("CRT"===this.settings.params.playType){const r=new TextDecoder("utf-8"),n=new Uint8Array(e.buffer);t=r.decode(n)}else t=a.default.inflate(e.buffer,{to:"string"});this.onPlayListIndex(t)}else this.emit("segment-loaded",this,n,e.buffer)}else t.bytesDownloaded>t.size&&(u.logUtils.error("peer segment download bytes mismatch",this.id,n,r),this.onDownLoadSegmentError(i))},this.destroy=()=>{u.logUtils.log("wrt destroy",this.id),this.terminateSegmentRequest(),this.downloadingSegmentMap.clear(),this.peer.destroy()},this.setIndxName=e=>{this.indexName=e},this.requestSegment=(e,t)=>{if(u.logUtils.log("request segment",this.id,e.id),this.downloadingSegmentMap.has(e.url))return void u.logUtils.log("segment alreday dwonload",this.id,e.id);if(void 0===e.range)throw new Error("error segment not have range:"+e.id);const r=l.stringTosegmentRange(e.range);if(void 0===r)throw new Error("error segment range error:"+e.id+e.range);const n=r.rangeEnd-r.rangeBegin,i=new g(e.id,e.url);if(i.size=n,void 0!==t)for(const e of t)i.pieces.push(e),i.bytesDownloaded+=e.byteLength;i.bytesDownloaded>=n?u.logUtils.warn("segment Alreday download ok",this.id,e.id,i.bytesDownloaded,n):(this.downloadingSegmentMap.set(e.url,i),this.sendRequest(i))},this.abort=e=>{u.logUtils.log("abort sengement ",e.id,e.url)},this.requestIndex=e=>{if(u.logUtils.log("request index",e),this.downloadingSegmentMap.has(e))return void u.logUtils.log("segment alreday dwonload",this.id,e);const t=new g(e,e);this.downloadingSegmentMap.set(e,t),this.sendRequest(t)},this.sendRequest=e=>{u.logUtils.log("send segment request",this.id,e.uri,e.bytesDownloaded,e.size);const t=new o.default(200);t.writeInt32(d.BeginTagValue);const r=t.offset;t.skip(4),t.writeInt32(d.HeadTagValue),t.writeInt32(20+this.streamid.length),t.writeInt32(p),t.writeInt32(this.settings.params.APPVER),t.writeInt32(f.BlockReq),t.writeIString(this.streamid),t.writeInt32(0),t.writeInt32(d.BLOCKTagValue),t.writeInt32(20+e.uri.length),t.writeIString(e.uri),t.writeInt32(e.size),t.writeInt32(e.bytesDownloaded),t.writeInt32(e.size-e.bytesDownloaded),t.writeInt32(0),t.writeInt32(t.offset-4,r),t.flip();const n=t.toBuffer(),s=i.Buffer.from(n,0,n.byteLength);this.peer.write(s),this.runResponseTimeoutTimer(e.uri)},this.onDownLoadSegmentError=e=>{this.emit("segment-error",this,e,"wrt downloadsegment error"),this.downloadingSegmentMap.delete(e),this.cancelResponseTimeoutTimer(e),e===this.indexName&&this.requestIndex(this.indexName),this.metrics.report(h.EVENT_TYPES.exception,{exp_type:2,exp_subtype:7,exp_desc:`Download Segement Error - segment uri: ${e}`})},this.runResponseTimeoutTimer=e=>{const t=setTimeout((()=>{if(this.downLaodTimerMap.delete(e),u.logUtils.error("download segment timeout",this.id,e),"LIVE"===this.settings.params.playType)this.emit("segment-error",this,e,"wrt downloadsegment error"),this.downloadingSegmentMap.delete(e);else{const t=this.downloadingSegmentMap.get(e);t&&this.sendRequest(t)}}),this.settings.wrtFailedSegmentTimeout);this.downLaodTimerMap.set(e,t)},this.cancelResponseTimeoutTimer=e=>{const t=this.downLaodTimerMap.get(e);t&&(clearTimeout(t),this.downLaodTimerMap.delete(e))},this.terminateSegmentRequest=()=>{this.cancelPlayRequestTimeoutTimer(),this.downLaodTimerMap.forEach((e=>clearTimeout(e))),this.downLaodTimerMap.clear()},this.runPlayRequestTimeoutTimer=()=>{this.playRequestTimer=setTimeout((()=>{this.playRequestTimer=null,u.logUtils.error("play request timeout",this.id),this.playRequest()}),this.settings.wrtFailedSegmentTimeout)},this.cancelPlayRequestTimeoutTimer=()=>{this.playRequestTimer&&(clearTimeout(this.playRequestTimer),this.playRequestTimer=null)},this.peer.on("connect",this.onPeerConnect),this.peer.on("close",this.onPeerClose),this.peer.on("error",this.onPeerError),this.peer.on("data",this.onPeerData),this.id=e.id}}r.WrtPeer=m},{"./metrics":41,"./rpd-parse":43,"./stringly-typed-event-emitter":46,"./utils":47,buffer:"buffer",bytebuffer:56,pako:136,querystring:155}],50:[function(e,t,r){(function(r){(function(){"use strict";var n=e("object.assign/polyfill")();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function s(e){return r.Buffer&&"function"==typeof r.Buffer.isBuffer?r.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=e("util/"),a=Object.prototype.hasOwnProperty,l=Array.prototype.slice,h="foo"===function(){}.name;function c(e){return Object.prototype.toString.call(e)}function u(e){return!s(e)&&("function"==typeof r.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var d=t.exports=_,f=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(o.isFunction(e)){if(h)return e.name;var t=e.toString().match(f);return t&&t[1]}}function g(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function m(e){if(h||!o.isFunction(e))return o.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function y(e,t,r,n,i){throw new d.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function _(e,t){e||y(e,!0,t,"==",d.ok)}function b(e,t,r,n){if(e===t)return!0;if(s(e)&&s(t))return 0===i(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(u(e)&&u(t)&&c(e)===c(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(s(e)!==s(t))return!1;var a=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==a&&a===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),function(e,t,r,n){if(null==e||null==t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=w(e),s=w(t);if(i&&!s||!i&&s)return!1;if(i)return b(e=l.call(e),t=l.call(t),r);var a,h,c=S(e),u=S(t);if(c.length!==u.length)return!1;for(c.sort(),u.sort(),h=c.length-1;h>=0;h--)if(c[h]!==u[h])return!1;for(h=c.length-1;h>=0;h--)if(!b(e[a=c[h]],t[a],r,n))return!1;return!0}(e,t,r,n))}return r?e===t:e==t}function w(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function v(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function E(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&y(i,r,"Missing expected exception"+n);var s="string"==typeof n,a=!e&&i&&!r;if((!e&&o.isError(i)&&s&&v(i,r)||a)&&y(i,r,"Got unwanted exception"+n),e&&i&&r&&!v(i,r)||!e&&i)throw i}d.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return g(m(e.actual),128)+" "+e.operator+" "+g(m(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=p(t),s=n.indexOf("\n"+i);if(s>=0){var o=n.indexOf("\n",s+1);n=n.substring(o+1)}this.stack=n}}},o.inherits(d.AssertionError,Error),d.fail=y,d.ok=_,d.equal=function(e,t,r){e!=t&&y(e,t,r,"==",d.equal)},d.notEqual=function(e,t,r){e==t&&y(e,t,r,"!=",d.notEqual)},d.deepEqual=function(e,t,r){b(e,t,!1)||y(e,t,r,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,r){b(e,t,!0)||y(e,t,r,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,r){b(e,t,!1)&&y(e,t,r,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,r,n){b(t,r,!0)&&y(t,r,n,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,r){e!==t&&y(e,t,r,"===",d.strictEqual)},d.notStrictEqual=function(e,t,r){e===t&&y(e,t,r,"!==",d.notStrictEqual)},d.throws=function(e,t,r){E(!0,e,t,r)},d.doesNotThrow=function(e,t,r){E(!1,e,t,r)},d.ifError=function(e){if(e)throw e},d.strict=n((function e(t,r){t||y(t,!0,r,"==",e)}),d,{equal:d.strictEqual,deepEqual:d.deepStrictEqual,notEqual:d.notStrictEqual,notDeepEqual:d.notDeepStrictEqual}),d.strict.strict=d.strict;var S=Object.keys||function(e){var t=[];for(var r in e)a.call(e,r)&&t.push(r);return t}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"object.assign/polyfill":124,"util/":179}],51:[function(e,t,r){(function(e){(function(){"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],n="undefined"==typeof globalThis?e:globalThis;t.exports=function(){for(var e=[],t=0;t<r.length;t++)"function"==typeof n[r[t]]&&(e[e.length]=r[t]);return e}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],52:[function(e,t,r){"use strict";r.byteLength=function(e){var t=h(e),r=t[0],n=t[1];return 3*(r+n)/4-n},r.toByteArray=function(e){var t,r,n=h(e),o=n[0],a=n[1],l=new s(function(e,t,r){return 3*(t+r)/4-r}(0,o,a)),c=0,u=a>0?o-4:o;for(r=0;r<u;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[c++]=255&t);1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],o=16383,a=0,l=r-i;a<l;a+=o)s.push(c(e,a,a+o>l?l:a+o));1===i?(t=e[r-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return s.join("")};for(var n=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)n[a]=o[a],i[o.charCodeAt(a)]=a;function h(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,r){for(var i,s,o=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(n[(s=i)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],53:[function(e,t,r){},{}],54:[function(e,t,r){(function(t,n){(function(){"use strict";var i=e("assert"),s=e("pako/lib/zlib/zstream"),o=e("pako/lib/zlib/deflate.js"),a=e("pako/lib/zlib/inflate.js"),l=e("pako/lib/zlib/constants");for(var h in l)r[h]=l[h];r.NONE=0,r.DEFLATE=1,r.INFLATE=2,r.GZIP=3,r.GUNZIP=4,r.DEFLATERAW=5,r.INFLATERAW=6,r.UNZIP=7;function c(e){if("number"!=typeof e||e<r.DEFLATE||e>r.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}c.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=r.UNZIP),this.mode===r.DEFLATE||this.mode===r.GZIP||this.mode===r.DEFLATERAW?o.deflateEnd(this.strm):this.mode!==r.INFLATE&&this.mode!==r.GUNZIP&&this.mode!==r.INFLATERAW&&this.mode!==r.UNZIP||a.inflateEnd(this.strm),this.mode=r.NONE,this.dictionary=null)},c.prototype.write=function(e,t,r,n,i,s,o){return this._write(!0,e,t,r,n,i,s,o)},c.prototype.writeSync=function(e,t,r,n,i,s,o){return this._write(!1,e,t,r,n,i,s,o)},c.prototype._write=function(e,s,o,a,l,h,c,u){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==r.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===s,"must provide flush value"),this.write_in_progress=!0,s!==r.Z_NO_FLUSH&&s!==r.Z_PARTIAL_FLUSH&&s!==r.Z_SYNC_FLUSH&&s!==r.Z_FULL_FLUSH&&s!==r.Z_FINISH&&s!==r.Z_BLOCK)throw new Error("Invalid flush value");if(null==o&&(o=n.alloc(0),l=0,a=0),this.strm.avail_in=l,this.strm.input=o,this.strm.next_in=a,this.strm.avail_out=u,this.strm.output=h,this.strm.next_out=c,this.flush=s,!e)return this._process(),this._checkError()?this._afterSync():void 0;var d=this;return t.nextTick((function(){d._process(),d._after()})),this},c.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},c.prototype._process=function(){var e=null;switch(this.mode){case r.DEFLATE:case r.GZIP:case r.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case r.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=r.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=r.GUNZIP):this.mode=r.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case r.INFLATE:case r.GUNZIP:case r.INFLATERAW:for(this.err=a.inflate(this.strm,this.flush),this.err===r.Z_NEED_DICT&&this.dictionary&&(this.err=a.inflateSetDictionary(this.strm,this.dictionary),this.err===r.Z_OK?this.err=a.inflate(this.strm,this.flush):this.err===r.Z_DATA_ERROR&&(this.err=r.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===r.GUNZIP&&this.err===r.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=a.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},c.prototype._checkError=function(){switch(this.err){case r.Z_OK:case r.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===r.Z_FINISH)return this._error("unexpected end of file"),!1;break;case r.Z_STREAM_END:break;case r.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},c.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},c.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},c.prototype.init=function(e,t,n,s,o){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(e>=8&&e<=15,"invalid windowBits"),i(t>=-1&&t<=9,"invalid compression level"),i(n>=1&&n<=9,"invalid memlevel"),i(s===r.Z_FILTERED||s===r.Z_HUFFMAN_ONLY||s===r.Z_RLE||s===r.Z_FIXED||s===r.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(t,e,n,s,o),this._setDictionary()},c.prototype.params=function(){throw new Error("deflateParams Not supported")},c.prototype.reset=function(){this._reset(),this._setDictionary()},c.prototype._init=function(e,t,n,i,l){switch(this.level=e,this.windowBits=t,this.memLevel=n,this.strategy=i,this.flush=r.Z_NO_FLUSH,this.err=r.Z_OK,this.mode!==r.GZIP&&this.mode!==r.GUNZIP||(this.windowBits+=16),this.mode===r.UNZIP&&(this.windowBits+=32),this.mode!==r.DEFLATERAW&&this.mode!==r.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new s,this.mode){case r.DEFLATE:case r.GZIP:case r.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,r.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case r.INFLATE:case r.GUNZIP:case r.INFLATERAW:case r.UNZIP:this.err=a.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==r.Z_OK&&this._error("Init error"),this.dictionary=l,this.write_in_progress=!1,this.init_done=!0},c.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=r.Z_OK,this.mode){case r.DEFLATE:case r.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary)}this.err!==r.Z_OK&&this._error("Failed to set dictionary")}},c.prototype._reset=function(){switch(this.err=r.Z_OK,this.mode){case r.DEFLATE:case r.DEFLATERAW:case r.GZIP:this.err=o.deflateReset(this.strm);break;case r.INFLATE:case r.INFLATERAW:case r.GUNZIP:this.err=a.inflateReset(this.strm)}this.err!==r.Z_OK&&this._error("Failed to reset stream")},r.Zlib=c}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:152,assert:50,buffer:"buffer","pako/lib/zlib/constants":127,"pako/lib/zlib/deflate.js":129,"pako/lib/zlib/inflate.js":131,"pako/lib/zlib/zstream":135}],55:[function(e,t,r){(function(t){(function(){"use strict";var n=e("buffer").Buffer,i=e("stream").Transform,s=e("./binding"),o=e("util"),a=e("assert").ok,l=e("buffer").kMaxLength,h="Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes";s.Z_MIN_WINDOWBITS=8,s.Z_MAX_WINDOWBITS=15,s.Z_DEFAULT_WINDOWBITS=15,s.Z_MIN_CHUNK=64,s.Z_MAX_CHUNK=1/0,s.Z_DEFAULT_CHUNK=16384,s.Z_MIN_MEMLEVEL=1,s.Z_MAX_MEMLEVEL=9,s.Z_DEFAULT_MEMLEVEL=8,s.Z_MIN_LEVEL=-1,s.Z_MAX_LEVEL=9,s.Z_DEFAULT_LEVEL=s.Z_DEFAULT_COMPRESSION;for(var c=Object.keys(s),u=0;u<c.length;u++){var d=c[u];d.match(/^Z/)&&Object.defineProperty(r,d,{enumerable:!0,value:s[d],writable:!1})}for(var f={Z_OK:s.Z_OK,Z_STREAM_END:s.Z_STREAM_END,Z_NEED_DICT:s.Z_NEED_DICT,Z_ERRNO:s.Z_ERRNO,Z_STREAM_ERROR:s.Z_STREAM_ERROR,Z_DATA_ERROR:s.Z_DATA_ERROR,Z_MEM_ERROR:s.Z_MEM_ERROR,Z_BUF_ERROR:s.Z_BUF_ERROR,Z_VERSION_ERROR:s.Z_VERSION_ERROR},p=Object.keys(f),g=0;g<p.length;g++){var m=p[g];f[f[m]]=m}function y(e,t,r){var i=[],s=0;function o(){for(var t;null!==(t=e.read());)i.push(t),s+=t.length;e.once("readable",o)}function a(){var t,o=null;s>=l?o=new RangeError(h):t=n.concat(i,s),i=[],e.close(),r(o,t)}e.on("error",(function(t){e.removeListener("end",a),e.removeListener("readable",o),r(t)})),e.on("end",a),e.end(t),o()}function _(e,t){if("string"==typeof t&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Not a string or buffer");var r=e._finishFlushFlag;return e._processChunk(t,r)}function b(e){if(!(this instanceof b))return new b(e);R.call(this,e,s.DEFLATE)}function w(e){if(!(this instanceof w))return new w(e);R.call(this,e,s.INFLATE)}function v(e){if(!(this instanceof v))return new v(e);R.call(this,e,s.GZIP)}function E(e){if(!(this instanceof E))return new E(e);R.call(this,e,s.GUNZIP)}function S(e){if(!(this instanceof S))return new S(e);R.call(this,e,s.DEFLATERAW)}function T(e){if(!(this instanceof T))return new T(e);R.call(this,e,s.INFLATERAW)}function k(e){if(!(this instanceof k))return new k(e);R.call(this,e,s.UNZIP)}function I(e){return e===s.Z_NO_FLUSH||e===s.Z_PARTIAL_FLUSH||e===s.Z_SYNC_FLUSH||e===s.Z_FULL_FLUSH||e===s.Z_FINISH||e===s.Z_BLOCK}function R(e,t){var o=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||r.Z_DEFAULT_CHUNK,i.call(this,e),e.flush&&!I(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!I(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||s.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:s.Z_FINISH,e.chunkSize&&(e.chunkSize<r.Z_MIN_CHUNK||e.chunkSize>r.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<r.Z_MIN_WINDOWBITS||e.windowBits>r.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<r.Z_MIN_LEVEL||e.level>r.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<r.Z_MIN_MEMLEVEL||e.memLevel>r.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=r.Z_FILTERED&&e.strategy!=r.Z_HUFFMAN_ONLY&&e.strategy!=r.Z_RLE&&e.strategy!=r.Z_FIXED&&e.strategy!=r.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!n.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new s.Zlib(t);var a=this;this._hadError=!1,this._handle.onerror=function(e,t){A(a),a._hadError=!0;var n=new Error(e);n.errno=t,n.code=r.codes[t],a.emit("error",n)};var l=r.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(l=e.level);var h=r.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(h=e.strategy),this._handle.init(e.windowBits||r.Z_DEFAULT_WINDOWBITS,l,e.memLevel||r.Z_DEFAULT_MEMLEVEL,h,e.dictionary),this._buffer=n.allocUnsafe(this._chunkSize),this._offset=0,this._level=l,this._strategy=h,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!o._handle},configurable:!0,enumerable:!0})}function A(e,r){r&&t.nextTick(r),e._handle&&(e._handle.close(),e._handle=null)}function x(e){e.emit("close")}Object.defineProperty(r,"codes",{enumerable:!0,value:Object.freeze(f),writable:!1}),r.Deflate=b,r.Inflate=w,r.Gzip=v,r.Gunzip=E,r.DeflateRaw=S,r.InflateRaw=T,r.Unzip=k,r.createDeflate=function(e){return new b(e)},r.createInflate=function(e){return new w(e)},r.createDeflateRaw=function(e){return new S(e)},r.createInflateRaw=function(e){return new T(e)},r.createGzip=function(e){return new v(e)},r.createGunzip=function(e){return new E(e)},r.createUnzip=function(e){return new k(e)},r.deflate=function(e,t,r){return"function"==typeof t&&(r=t,t={}),y(new b(t),e,r)},r.deflateSync=function(e,t){return _(new b(t),e)},r.gzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),y(new v(t),e,r)},r.gzipSync=function(e,t){return _(new v(t),e)},r.deflateRaw=function(e,t,r){return"function"==typeof t&&(r=t,t={}),y(new S(t),e,r)},r.deflateRawSync=function(e,t){return _(new S(t),e)},r.unzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),y(new k(t),e,r)},r.unzipSync=function(e,t){return _(new k(t),e)},r.inflate=function(e,t,r){return"function"==typeof t&&(r=t,t={}),y(new w(t),e,r)},r.inflateSync=function(e,t){return _(new w(t),e)},r.gunzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),y(new E(t),e,r)},r.gunzipSync=function(e,t){return _(new E(t),e)},r.inflateRaw=function(e,t,r){return"function"==typeof t&&(r=t,t={}),y(new T(t),e,r)},r.inflateRawSync=function(e,t){return _(new T(t),e)},o.inherits(R,i),R.prototype.params=function(e,n,i){if(e<r.Z_MIN_LEVEL||e>r.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(n!=r.Z_FILTERED&&n!=r.Z_HUFFMAN_ONLY&&n!=r.Z_RLE&&n!=r.Z_FIXED&&n!=r.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==e||this._strategy!==n){var o=this;this.flush(s.Z_SYNC_FLUSH,(function(){a(o._handle,"zlib binding closed"),o._handle.params(e,n),o._hadError||(o._level=e,o._strategy=n,i&&i())}))}else t.nextTick(i)},R.prototype.reset=function(){return a(this._handle,"zlib binding closed"),this._handle.reset()},R.prototype._flush=function(e){this._transform(n.alloc(0),"",e)},R.prototype.flush=function(e,r){var i=this,o=this._writableState;("function"==typeof e||void 0===e&&!r)&&(r=e,e=s.Z_FULL_FLUSH),o.ended?r&&t.nextTick(r):o.ending?r&&this.once("end",r):o.needDrain?r&&this.once("drain",(function(){return i.flush(e,r)})):(this._flushFlag=e,this.write(n.alloc(0),"",r))},R.prototype.close=function(e){A(this,e),t.nextTick(x,this)},R.prototype._transform=function(e,t,r){var i,o=this._writableState,a=(o.ending||o.ended)&&(!e||o.length===e.length);return null===e||n.isBuffer(e)?this._handle?(a?i=this._finishFlushFlag:(i=this._flushFlag,e.length>=o.length&&(this._flushFlag=this._opts.flush||s.Z_NO_FLUSH)),void this._processChunk(e,i,r)):r(new Error("zlib binding closed")):r(new Error("invalid input"))},R.prototype._processChunk=function(e,t,r){var i=e&&e.length,s=this._chunkSize-this._offset,o=0,c=this,u="function"==typeof r;if(!u){var d,f=[],p=0;this.on("error",(function(e){d=e})),a(this._handle,"zlib binding closed");do{var g=this._handle.writeSync(t,e,o,i,this._buffer,this._offset,s)}while(!this._hadError&&_(g[0],g[1]));if(this._hadError)throw d;if(p>=l)throw A(this),new RangeError(h);var m=n.concat(f,p);return A(this),m}a(this._handle,"zlib binding closed");var y=this._handle.write(t,e,o,i,this._buffer,this._offset,s);function _(l,h){if(this&&(this.buffer=null,this.callback=null),!c._hadError){var d=s-h;if(a(d>=0,"have should not go down"),d>0){var g=c._buffer.slice(c._offset,c._offset+d);c._offset+=d,u?c.push(g):(f.push(g),p+=g.length)}if((0===h||c._offset>=c._chunkSize)&&(s=c._chunkSize,c._offset=0,c._buffer=n.allocUnsafe(c._chunkSize)),0===h){if(o+=i-l,i=l,!u)return!0;var m=c._handle.write(t,e,o,i,c._buffer,c._offset,c._chunkSize);return m.callback=_,void(m.buffer=e)}if(!u)return!1;r()}}y.buffer=e,y.callback=_},o.inherits(b,R),o.inherits(w,R),o.inherits(v,R),o.inherits(E,R),o.inherits(S,R),o.inherits(T,R),o.inherits(k,R)}).call(this)}).call(this,e("_process"))},{"./binding":54,_process:152,assert:50,buffer:"buffer",stream:175,util:182}],56:[function(e,t,r){
/**
 * @license bytebuffer.js (c) 2015 Daniel Wirtz <dcode@dcode.io>
 * Backing buffer: ArrayBuffer, Accessor: Uint8Array
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bytebuffer.js for details
 */
!function(r,n){"function"==typeof define&&define.amd?define(["long"],n):"function"==typeof e&&"object"==typeof t&&t&&t.exports?t.exports=function(){var t;try{t=e("long")}catch(e){}return n(t)}():(r.dcodeIO=r.dcodeIO||{}).ByteBuffer=n(r.dcodeIO.Long)}(this,(function(e){"use strict";var t=function(e,r,i){if(void 0===e&&(e=t.DEFAULT_CAPACITY),void 0===r&&(r=t.DEFAULT_ENDIAN),void 0===i&&(i=t.DEFAULT_NOASSERT),!i){if((e|=0)<0)throw RangeError("Illegal capacity");r=!!r,i=!!i}this.buffer=0===e?n:new ArrayBuffer(e),this.view=0===e?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=e,this.littleEndian=r,this.noAssert=i};t.VERSION="5.0.1",t.LITTLE_ENDIAN=!0,t.BIG_ENDIAN=!1,t.DEFAULT_CAPACITY=16,t.DEFAULT_ENDIAN=t.BIG_ENDIAN,t.DEFAULT_NOASSERT=!1,t.Long=e||null;var r=t.prototype;r.__isByteBuffer__,Object.defineProperty(r,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var n=new ArrayBuffer(0),i=String.fromCharCode;function s(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function o(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+i.apply(String,e);e.length+arguments.length>1024&&(t.push(i.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}}function a(e,t,r,n,i){var s,o,a=8*i-n-1,l=(1<<a)-1,h=l>>1,c=-7,u=r?i-1:0,d=r?-1:1,f=e[t+u];for(u+=d,s=f&(1<<-c)-1,f>>=-c,c+=a;c>0;s=256*s+e[t+u],u+=d,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=256*o+e[t+u],u+=d,c-=8);if(0===s)s=1-h;else{if(s===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=h}return(f?-1:1)*o*Math.pow(2,s-n)}function l(e,t,r,n,i,s){var o,a,l,h=8*s-i-1,c=(1<<h)-1,u=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+u>=1?d/l:d*Math.pow(2,1-u))*l>=2&&(o++,l/=2),o+u>=c?(a=0,o=c):o+u>=1?(a=(t*l-1)*Math.pow(2,i),o+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,h+=i;h>0;e[r+f]=255&o,f+=p,o/=256,h-=8);e[r+f-p]|=128*g}t.accessor=function(){return Uint8Array},t.allocate=function(e,r,n){return new t(e,r,n)},t.concat=function(e,r,n,i){"boolean"!=typeof r&&"string"==typeof r||(i=n,n=r,r=void 0);for(var s,o=0,a=0,l=e.length;a<l;++a)t.isByteBuffer(e[a])||(e[a]=t.wrap(e[a],r)),(s=e[a].limit-e[a].offset)>0&&(o+=s);if(0===o)return new t(0,n,i);var h,c=new t(o,n,i);for(a=0;a<l;)(s=(h=e[a++]).limit-h.offset)<=0||(c.view.set(h.view.subarray(h.offset,h.limit),c.offset),c.offset+=s);return c.limit=c.offset,c.offset=0,c},t.isByteBuffer=function(e){return!0===(e&&e.__isByteBuffer__)},t.type=function(){return ArrayBuffer},t.wrap=function(e,n,i,s){if("string"!=typeof n&&(s=i,i=n,n=void 0),"string"==typeof e)switch(void 0===n&&(n="utf8"),n){case"base64":return t.fromBase64(e,i);case"hex":return t.fromHex(e,i);case"binary":return t.fromBinary(e,i);case"utf8":return t.fromUTF8(e,i);case"debug":return t.fromDebug(e,i);default:throw Error("Unsupported encoding: "+n)}if(null===e||"object"!=typeof e)throw TypeError("Illegal buffer");var o;if(t.isByteBuffer(e))return(o=r.clone.call(e)).markedOffset=-1,o;if(e instanceof Uint8Array)o=new t(0,i,s),e.length>0&&(o.buffer=e.buffer,o.offset=e.byteOffset,o.limit=e.byteOffset+e.byteLength,o.view=new Uint8Array(e.buffer));else if(e instanceof ArrayBuffer)o=new t(0,i,s),e.byteLength>0&&(o.buffer=e,o.offset=0,o.limit=e.byteLength,o.view=e.byteLength>0?new Uint8Array(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");(o=new t(e.length,i,s)).limit=e.length;for(var a=0;a<e.length;++a)o.view[a]=e[a]}return o},r.writeBitSet=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if(!(e instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var n,i=t,s=e.length,o=s>>3,a=0;for(t+=this.writeVarint32(s,t);o--;)n=1&!!e[a++]|(1&!!e[a++])<<1|(1&!!e[a++])<<2|(1&!!e[a++])<<3|(1&!!e[a++])<<4|(1&!!e[a++])<<5|(1&!!e[a++])<<6|(1&!!e[a++])<<7,this.writeByte(n,t++);if(a<s){var l=0;for(n=0;a<s;)n|=(1&!!e[a++])<<l++;this.writeByte(n,t++)}return r?(this.offset=t,this):t-i},r.readBitSet=function(e){var t=void 0===e;t&&(e=this.offset);var r,n=this.readVarint32(e),i=n.value,s=i>>3,o=0,a=[];for(e+=n.length;s--;)r=this.readByte(e++),a[o++]=!!(1&r),a[o++]=!!(2&r),a[o++]=!!(4&r),a[o++]=!!(8&r),a[o++]=!!(16&r),a[o++]=!!(32&r),a[o++]=!!(64&r),a[o++]=!!(128&r);if(o<i){var l=0;for(r=this.readByte(e++);o<i;)a[o++]=!!(r>>l++&1)}return t&&(this.offset=e),a},r.readBytes=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+e+") <= "+this.buffer.byteLength)}var n=this.slice(t,t+e);return r&&(this.offset+=e),n},r.writeBytes=r.append,r.writeInt8=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var n=this.buffer.byteLength;return t>n&&this.resize((n*=2)>t?n:t),t-=1,this.view[t]=e,r&&(this.offset+=1),this},r.writeByte=r.writeInt8,r.readInt8=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view[e];return 128==(128&r)&&(r=-(255-r+1)),t&&(this.offset+=1),r},r.readByte=r.readInt8,r.writeUint8=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var n=this.buffer.byteLength;return t>n&&this.resize((n*=2)>t?n:t),t-=1,this.view[t]=e,r&&(this.offset+=1),this},r.writeUInt8=r.writeUint8,r.readUint8=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view[e];return t&&(this.offset+=1),r},r.readUInt8=r.readUint8,r.writeInt16=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var n=this.buffer.byteLength;return t>n&&this.resize((n*=2)>t?n:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),r&&(this.offset+=2),this},r.writeShort=r.writeInt16,r.readInt16=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e],r|=this.view[e+1]<<8):(r=this.view[e]<<8,r|=this.view[e+1]),32768==(32768&r)&&(r=-(65535-r+1)),t&&(this.offset+=2),r},r.readShort=r.readInt16,r.writeUint16=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var n=this.buffer.byteLength;return t>n&&this.resize((n*=2)>t?n:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),r&&(this.offset+=2),this},r.writeUInt16=r.writeUint16,r.readUint16=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e],r|=this.view[e+1]<<8):(r=this.view[e]<<8,r|=this.view[e+1]),t&&(this.offset+=2),r},r.readUInt16=r.readUint16,r.writeInt32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var n=this.buffer.byteLength;return t>n&&this.resize((n*=2)>t?n:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),r&&(this.offset+=4),this},r.writeInt=r.writeInt32,r.readInt32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0):(r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0),r|=0,t&&(this.offset+=4),r},r.readInt=r.readInt32,r.writeUint32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var n=this.buffer.byteLength;return t>n&&this.resize((n*=2)>t?n:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),r&&(this.offset+=4),this},r.writeUInt32=r.writeUint32,r.readUint32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0):(r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0),t&&(this.offset+=4),r},r.readUInt32=r.readUint32,e&&(r.writeInt64=function(t,r){var n=void 0===r;if(n&&(r=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),r+=8;var i=this.buffer.byteLength;r>i&&this.resize((i*=2)>r?i:r),r-=8;var s=t.low,o=t.high;return this.littleEndian?(this.view[r+3]=s>>>24&255,this.view[r+2]=s>>>16&255,this.view[r+1]=s>>>8&255,this.view[r]=255&s,r+=4,this.view[r+3]=o>>>24&255,this.view[r+2]=o>>>16&255,this.view[r+1]=o>>>8&255,this.view[r]=255&o):(this.view[r]=o>>>24&255,this.view[r+1]=o>>>16&255,this.view[r+2]=o>>>8&255,this.view[r+3]=255&o,r+=4,this.view[r]=s>>>24&255,this.view[r+1]=s>>>16&255,this.view[r+2]=s>>>8&255,this.view[r+3]=255&s),n&&(this.offset+=8),this},r.writeLong=r.writeInt64,r.readInt64=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var n=0,i=0;this.littleEndian?(n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0,t+=4,i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0,t+=4,n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0);var s=new e(n,i,!1);return r&&(this.offset+=8),s},r.readLong=r.readInt64,r.writeUint64=function(t,r){var n=void 0===r;if(n&&(r=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),r+=8;var i=this.buffer.byteLength;r>i&&this.resize((i*=2)>r?i:r),r-=8;var s=t.low,o=t.high;return this.littleEndian?(this.view[r+3]=s>>>24&255,this.view[r+2]=s>>>16&255,this.view[r+1]=s>>>8&255,this.view[r]=255&s,r+=4,this.view[r+3]=o>>>24&255,this.view[r+2]=o>>>16&255,this.view[r+1]=o>>>8&255,this.view[r]=255&o):(this.view[r]=o>>>24&255,this.view[r+1]=o>>>16&255,this.view[r+2]=o>>>8&255,this.view[r+3]=255&o,r+=4,this.view[r]=s>>>24&255,this.view[r+1]=s>>>16&255,this.view[r+2]=s>>>8&255,this.view[r+3]=255&s),n&&(this.offset+=8),this},r.writeUInt64=r.writeUint64,r.readUint64=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var n=0,i=0;this.littleEndian?(n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0,t+=4,i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0,t+=4,n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0);var s=new e(n,i,!0);return r&&(this.offset+=8),s},r.readUInt64=r.readUint64),r.writeFloat32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var n=this.buffer.byteLength;return t>n&&this.resize((n*=2)>t?n:t),t-=4,l(this.view,e,t,this.littleEndian,23,4),r&&(this.offset+=4),this},r.writeFloat=r.writeFloat32,r.readFloat32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=a(this.view,e,this.littleEndian,23,4);return t&&(this.offset+=4),r},r.readFloat=r.readFloat32,r.writeFloat64=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var n=this.buffer.byteLength;return t>n&&this.resize((n*=2)>t?n:t),t-=8,l(this.view,e,t,this.littleEndian,52,8),r&&(this.offset+=8),this},r.writeDouble=r.writeFloat64,r.readFloat64=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=a(this.view,e,this.littleEndian,52,8);return t&&(this.offset+=8),r},r.readDouble=r.readFloat64,t.MAX_VARINT32_BYTES=5,t.calculateVarint32=function(e){return(e>>>=0)<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},t.zigZagEncode32=function(e){return((e|=0)<<1^e>>31)>>>0},t.zigZagDecode32=function(e){return e>>>1^-(1&e)|0},r.writeVarint32=function(e,r){var n=void 0===r;if(n&&(r=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var i,s=t.calculateVarint32(e);r+=s;var o=this.buffer.byteLength;for(r>o&&this.resize((o*=2)>r?o:r),r-=s,e>>>=0;e>=128;)i=127&e|128,this.view[r++]=i,e>>>=7;return this.view[r++]=e,n?(this.offset=r,this):s},r.writeVarint32ZigZag=function(e,r){return this.writeVarint32(t.zigZagEncode32(e),r)},r.readVarint32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r,n=0,i=0;do{if(!this.noAssert&&e>this.limit){var s=Error("Truncated");throw s.truncated=!0,s}r=this.view[e++],n<5&&(i|=(127&r)<<7*n),++n}while(0!=(128&r));return i|=0,t?(this.offset=e,i):{value:i,length:n}},r.readVarint32ZigZag=function(e){var r=this.readVarint32(e);return"object"==typeof r?r.value=t.zigZagDecode32(r.value):r=t.zigZagDecode32(r),r},e&&(t.MAX_VARINT64_BYTES=10,t.calculateVarint64=function(t){"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t));var r=t.toInt()>>>0,n=t.shiftRightUnsigned(28).toInt()>>>0,i=t.shiftRightUnsigned(56).toInt()>>>0;return 0==i?0==n?r<16384?r<128?1:2:r<1<<21?3:4:n<16384?n<128?5:6:n<1<<21?7:8:i<128?9:10},t.zigZagEncode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},t.zigZagDecode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()},r.writeVarint64=function(r,n){var i=void 0===n;if(i&&(n=this.offset),!this.noAssert){if("number"==typeof r)r=e.fromNumber(r);else if("string"==typeof r)r=e.fromString(r);else if(!(r&&r instanceof e))throw TypeError("Illegal value: "+r+" (not an integer or Long)");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"==typeof r?r=e.fromNumber(r,!1):"string"==typeof r?r=e.fromString(r,!1):!1!==r.unsigned&&(r=r.toSigned());var s=t.calculateVarint64(r),o=r.toInt()>>>0,a=r.shiftRightUnsigned(28).toInt()>>>0,l=r.shiftRightUnsigned(56).toInt()>>>0;n+=s;var h=this.buffer.byteLength;switch(n>h&&this.resize((h*=2)>n?h:n),n-=s,s){case 10:this.view[n+9]=l>>>7&1;case 9:this.view[n+8]=9!==s?128|l:127&l;case 8:this.view[n+7]=8!==s?a>>>21|128:a>>>21&127;case 7:this.view[n+6]=7!==s?a>>>14|128:a>>>14&127;case 6:this.view[n+5]=6!==s?a>>>7|128:a>>>7&127;case 5:this.view[n+4]=5!==s?128|a:127&a;case 4:this.view[n+3]=4!==s?o>>>21|128:o>>>21&127;case 3:this.view[n+2]=3!==s?o>>>14|128:o>>>14&127;case 2:this.view[n+1]=2!==s?o>>>7|128:o>>>7&127;case 1:this.view[n]=1!==s?128|o:127&o}return i?(this.offset+=s,this):s},r.writeVarint64ZigZag=function(e,r){return this.writeVarint64(t.zigZagEncode64(e),r)},r.readVarint64=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var n=t,i=0,s=0,o=0,a=0;if(i=127&(a=this.view[t++]),128&a&&(i|=(127&(a=this.view[t++]))<<7,(128&a||this.noAssert&&void 0===a)&&(i|=(127&(a=this.view[t++]))<<14,(128&a||this.noAssert&&void 0===a)&&(i|=(127&(a=this.view[t++]))<<21,(128&a||this.noAssert&&void 0===a)&&(s=127&(a=this.view[t++]),(128&a||this.noAssert&&void 0===a)&&(s|=(127&(a=this.view[t++]))<<7,(128&a||this.noAssert&&void 0===a)&&(s|=(127&(a=this.view[t++]))<<14,(128&a||this.noAssert&&void 0===a)&&(s|=(127&(a=this.view[t++]))<<21,(128&a||this.noAssert&&void 0===a)&&(o=127&(a=this.view[t++]),(128&a||this.noAssert&&void 0===a)&&(o|=(127&(a=this.view[t++]))<<7,128&a||this.noAssert&&void 0===a))))))))))throw Error("Buffer overrun");var l=e.fromBits(i|s<<28,s>>>4|o<<24,!1);return r?(this.offset=t,l):{value:l,length:t-n}},r.readVarint64ZigZag=function(r){var n=this.readVarint64(r);return n&&n.value instanceof e?n.value=t.zigZagDecode64(n.value):n=t.zigZagDecode64(n),n}),r.writeCString=function(e,t){var r=void 0===t;r&&(t=this.offset);var n,i=e.length;if(!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(n=0;n<i;++n)if(0===e.charCodeAt(n))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}i=c.calculateUTF16asUTF8(s(e))[1],t+=i+1;var o=this.buffer.byteLength;return t>o&&this.resize((o*=2)>t?o:t),t-=i+1,c.encodeUTF16toUTF8(s(e),function(e){this.view[t++]=e}.bind(this)),this.view[t++]=0,r?(this.offset=t,this):i},r.readCString=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r,n=e,i=-1;return c.decodeUTF8toUTF16(function(){if(0===i)return null;if(e>=this.limit)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.limit);return 0===(i=this.view[e++])?null:i}.bind(this),r=o(),!0),t?(this.offset=e,r()):{string:r(),length:e-n}},r.writeIString=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var n,i=t;n=c.calculateUTF16asUTF8(s(e),this.noAssert)[1],t+=4+n;var o=this.buffer.byteLength;if(t>o&&this.resize((o*=2)>t?o:t),t-=4+n,this.littleEndian?(this.view[t+3]=n>>>24&255,this.view[t+2]=n>>>16&255,this.view[t+1]=n>>>8&255,this.view[t]=255&n):(this.view[t]=n>>>24&255,this.view[t+1]=n>>>16&255,this.view[t+2]=n>>>8&255,this.view[t+3]=255&n),t+=4,c.encodeUTF16toUTF8(s(e),function(e){this.view[t++]=e}.bind(this)),t!==i+4+n)throw RangeError("Illegal range: Truncated data, "+t+" == "+(t+4+n));return r?(this.offset=t,this):t-i},r.readIString=function(e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=e,i=this.readUint32(e),s=this.readUTF8String(i,t.METRICS_BYTES,e+=4);return e+=s.length,r?(this.offset=e,s.string):{string:s.string,length:e-n}},t.METRICS_CHARS="c",t.METRICS_BYTES="b",r.writeUTF8String=function(e,t){var r,n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i=t;r=c.calculateUTF16asUTF8(s(e))[1],t+=r;var o=this.buffer.byteLength;return t>o&&this.resize((o*=2)>t?o:t),t-=r,c.encodeUTF16toUTF8(s(e),function(e){this.view[t++]=e}.bind(this)),n?(this.offset=t,this):t-i},r.writeString=r.writeUTF8String,t.calculateUTF8Chars=function(e){return c.calculateUTF16asUTF8(s(e))[0]},t.calculateUTF8Bytes=function(e){return c.calculateUTF16asUTF8(s(e))[1]},t.calculateString=t.calculateUTF8Bytes,r.readUTF8String=function(e,r,n){"number"==typeof r&&(n=r,r=void 0);var i=void 0===n;if(i&&(n=this.offset),void 0===r&&(r=t.METRICS_CHARS),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var s,a=0,l=n;if(r===t.METRICS_CHARS){if(s=o(),c.decodeUTF8(function(){return a<e&&n<this.limit?this.view[n++]:null}.bind(this),(function(e){++a,c.UTF8toUTF16(e,s)})),a!==e)throw RangeError("Illegal range: Truncated data, "+a+" == "+e);return i?(this.offset=n,s()):{string:s(),length:n-l}}if(r===t.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+"+e+") <= "+this.buffer.byteLength)}var h=n+e;if(c.decodeUTF8toUTF16(function(){return n<h?this.view[n++]:null}.bind(this),s=o(),this.noAssert),n!==h)throw RangeError("Illegal range: Truncated data, "+n+" == "+h);return i?(this.offset=n,s()):{string:s(),length:n-l}}throw TypeError("Unsupported metrics: "+r)},r.readString=r.readUTF8String,r.writeVString=function(e,r){var n=void 0===r;if(n&&(r=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var i,o,a=r;i=c.calculateUTF16asUTF8(s(e),this.noAssert)[1],o=t.calculateVarint32(i),r+=o+i;var l=this.buffer.byteLength;if(r>l&&this.resize((l*=2)>r?l:r),r-=o+i,r+=this.writeVarint32(i,r),c.encodeUTF16toUTF8(s(e),function(e){this.view[r++]=e}.bind(this)),r!==a+i+o)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+i+o));return n?(this.offset=r,this):r-a},r.readVString=function(e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=e,i=this.readVarint32(e),s=this.readUTF8String(i.value,t.METRICS_BYTES,e+=i.length);return e+=s.length,r?(this.offset=e,s.string):{string:s.string,length:e-n}},r.append=function(e,r,n){"number"!=typeof r&&"string"==typeof r||(n=r,r=void 0);var i=void 0===n;if(i&&(n=this.offset),!this.noAssert){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,r));var s=e.limit-e.offset;if(s<=0)return this;n+=s;var o=this.buffer.byteLength;return n>o&&this.resize((o*=2)>n?o:n),n-=s,this.view.set(e.view.subarray(e.offset,e.limit),n),e.offset+=s,i&&(this.offset+=s),this},r.appendTo=function(e,t){return e.append(this,t),this},r.assert=function(e){return this.noAssert=!e,this},r.capacity=function(){return this.buffer.byteLength},r.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},r.clone=function(e){var r=new t(0,this.littleEndian,this.noAssert);return e?(r.buffer=new ArrayBuffer(this.buffer.byteLength),r.view=new Uint8Array(r.buffer)):(r.buffer=this.buffer,r.view=this.view),r.offset=this.offset,r.markedOffset=this.markedOffset,r.limit=this.limit,r},r.compact=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var r=t-e;if(0===r)return this.buffer=n,this.view=null,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=0,this;var i=new ArrayBuffer(r),s=new Uint8Array(i);return s.set(this.view.subarray(e,t)),this.buffer=i,this.view=s,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=r,this},r.copy=function(e,r){if(void 0===e&&(e=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,e<0||e>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(e===r)return new t(0,this.littleEndian,this.noAssert);var n=r-e,i=new t(n,this.littleEndian,this.noAssert);return i.offset=0,i.limit=n,i.markedOffset>=0&&(i.markedOffset-=e),this.copyTo(i,0,e,r),i},r.copyTo=function(e,r,n,i){var s,o;if(!this.noAssert&&!t.isByteBuffer(e))throw TypeError("Illegal target: Not a ByteBuffer");if(r=(o=void 0===r)?e.offset:0|r,n=(s=void 0===n)?this.offset:0|n,i=void 0===i?this.limit:0|i,r<0||r>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+r+" <= "+e.buffer.byteLength);if(n<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+n+" <= "+this.buffer.byteLength);var a=i-n;return 0===a?e:(e.ensureCapacity(r+a),e.view.set(this.view.subarray(n,i),r),s&&(this.offset+=a),o&&(e.offset+=a),this)},r.ensureCapacity=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},r.fill=function(e,t,r){var n=void 0===t;if(n&&(t=this.offset),"string"==typeof e&&e.length>0&&(e=e.charCodeAt(0)),void 0===t&&(t=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(t>=r)return this;for(;t<r;)this.view[t++]=e;return n&&(this.offset=t),this},r.flip=function(){return this.limit=this.offset,this.offset=0,this},r.mark=function(e){if(e=void 0===e?this.offset:e,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=e,this},r.order=function(e){if(!this.noAssert&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!e,this},r.LE=function(e){return this.littleEndian=void 0===e||!!e,this},r.BE=function(e){return this.littleEndian=void 0!==e&&!e,this},r.prepend=function(e,r,n){"number"!=typeof r&&"string"==typeof r||(n=r,r=void 0);var i=void 0===n;if(i&&(n=this.offset),!this.noAssert){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,r));var s=e.limit-e.offset;if(s<=0)return this;var o=s-n;if(o>0){var a=new ArrayBuffer(this.buffer.byteLength+o),l=new Uint8Array(a);l.set(this.view.subarray(n,this.buffer.byteLength),s),this.buffer=a,this.view=l,this.offset+=o,this.markedOffset>=0&&(this.markedOffset+=o),this.limit+=o,n+=o}else new Uint8Array(this.buffer);return this.view.set(e.view.subarray(e.offset,e.limit),n-s),e.offset=e.limit,i&&(this.offset-=s),this},r.prependTo=function(e,t){return e.prepend(this,t),this},r.printDebug=function(e){"function"!=typeof e&&(e=void 0),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},r.remaining=function(){return this.limit-this.offset},r.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},r.resize=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e),r=new Uint8Array(t);r.set(this.view),this.buffer=t,this.view=r}return this},r.reverse=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t||Array.prototype.reverse.call(this.view.subarray(e,t)),this},r.skip=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.noAssert&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},r.slice=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=e,r.limit=t,r},r.toBuffer=function(e){var t=this.offset,r=this.limit;if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(!e&&0===t&&r===this.buffer.byteLength)return this.buffer;if(t===r)return n;var i=new ArrayBuffer(r-t);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(t,r),0),i},r.toArrayBuffer=r.toBuffer,r.toString=function(e,t,r){if(void 0===e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof e&&(r=t=e="utf8"),e){case"utf8":return this.toUTF8(t,r);case"base64":return this.toBase64(t,r);case"hex":return this.toHex(t,r);case"binary":return this.toBinary(t,r);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+e)}};var h=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],r=[],n=0,i=t.length;n<i;++n)r[t[n]]=n;return e.encode=function(e,r){for(var n,i;null!==(n=e());)r(t[n>>2&63]),i=(3&n)<<4,null!==(n=e())?(r(t[63&((i|=n>>4&15)|n>>4&15)]),i=(15&n)<<2,null!==(n=e())?(r(t[63&(i|n>>6&3)]),r(t[63&n])):(r(t[63&i]),r(61))):(r(t[63&i]),r(61),r(61))},e.decode=function(e,t){var n,i,s;function o(e){throw Error("Illegal character code: "+e)}for(;null!==(n=e());)if(void 0===(i=r[n])&&o(n),null!==(n=e())&&(void 0===(s=r[n])&&o(n),t(i<<2>>>0|(48&s)>>4),null!==(n=e()))){if(void 0===(i=r[n])){if(61===n)break;o(n)}if(t((15&s)<<4>>>0|(60&i)>>2),null!==(n=e())){if(void 0===(s=r[n])){if(61===n)break;o(n)}t((3&i)<<6>>>0|s)}}},e.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},e}();r.toBase64=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity||e>t)throw RangeError("begin, end");var r;return h.encode(function(){return e<t?this.view[e++]:null}.bind(this),r=o()),r()},t.fromBase64=function(e,r){if("string"!=typeof e)throw TypeError("str");var n=new t(e.length/4*3,r),i=0;return h.decode(s(e),(function(e){n.view[i++]=e})),n.limit=i,n},t.btoa=function(e){return t.fromBinary(e).toBase64()},t.atob=function(e){return t.fromBase64(e).toBinary()},r.toBinary=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity()||e>t)throw RangeError("begin, end");if(e===t)return"";for(var r=[],n=[];e<t;)r.push(this.view[e++]),r.length>=1024&&(n.push(String.fromCharCode.apply(String,r)),r=[]);return n.join("")+String.fromCharCode.apply(String,r)},t.fromBinary=function(e,r){if("string"!=typeof e)throw TypeError("str");for(var n,i=0,s=e.length,o=new t(s,r);i<s;){if((n=e.charCodeAt(i))>255)throw RangeError("illegal char code: "+n);o.view[i++]=n}return o.limit=s,o},r.toDebug=function(e){for(var t,r=-1,n=this.buffer.byteLength,i="",s="",o="";r<n;){if(-1!==r&&(i+=(t=this.view[r])<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(s+=t>32&&t<127?String.fromCharCode(t):".")),++r,e&&r>0&&r%16==0&&r!==n){for(;i.length<51;)i+=" ";o+=i+s+"\n",i=s=""}r===this.offset&&r===this.limit?i+=r===this.markedOffset?"!":"|":r===this.offset?i+=r===this.markedOffset?"[":"<":r===this.limit?i+=r===this.markedOffset?"]":">":i+=r===this.markedOffset?"'":e||0!==r&&r!==n?" ":""}if(e&&" "!==i){for(;i.length<51;)i+=" ";o+=i+s+"\n"}return e?o:i},t.fromDebug=function(e,r,n){for(var i,s,o=e.length,a=new t((o+1)/3|0,r,n),l=0,h=0,c=!1,u=!1,d=!1,f=!1,p=!1;l<o;){switch(i=e.charAt(l++)){case"!":if(!n){if(u||d||f){p=!0;break}u=d=f=!0}a.offset=a.markedOffset=a.limit=h,c=!1;break;case"|":if(!n){if(u||f){p=!0;break}u=f=!0}a.offset=a.limit=h,c=!1;break;case"[":if(!n){if(u||d){p=!0;break}u=d=!0}a.offset=a.markedOffset=h,c=!1;break;case"<":if(!n){if(u){p=!0;break}u=!0}a.offset=h,c=!1;break;case"]":if(!n){if(f||d){p=!0;break}f=d=!0}a.limit=a.markedOffset=h,c=!1;break;case">":if(!n){if(f){p=!0;break}f=!0}a.limit=h,c=!1;break;case"'":if(!n){if(d){p=!0;break}d=!0}a.markedOffset=h,c=!1;break;case" ":c=!1;break;default:if(!n&&c){p=!0;break}if(s=parseInt(i+e.charAt(l++),16),!n&&(isNaN(s)||s<0||s>255))throw TypeError("Illegal str: Not a debug encoded string");a.view[h++]=s,c=!0}if(p)throw TypeError("Illegal str: Invalid symbol at "+l)}if(!n){if(!u||!f)throw TypeError("Illegal str: Missing offset or limit");if(h<a.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+h+" < "+o)}return a},r.toHex=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.limit:t,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var r,n=new Array(t-e);e<t;)(r=this.view[e++])<16?n.push("0",r.toString(16)):n.push(r.toString(16));return n.join("")},t.fromHex=function(e,r,n){if(!n){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,s=e.length,o=new t(s/2|0,r),a=0,l=0;a<s;a+=2){if(i=parseInt(e.substring(a,a+2),16),!n&&(!isFinite(i)||i<0||i>255))throw TypeError("Illegal str: Contains non-hex characters");o.view[l++]=i}return o.limit=l,o};var c=function(){var e={MAX_CODEPOINT:1114111,encodeUTF8:function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<128?t(127&r):r<2048?(t(r>>6&31|192),t(63&r|128)):r<65536?(t(r>>12&15|224),t(r>>6&63|128),t(63&r|128)):(t(r>>18&7|240),t(r>>12&63|128),t(r>>6&63|128),t(63&r|128)),r=null},decodeUTF8:function(e,t){for(var r,n,i,s,o=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(r=e());)if(0==(128&r))t(r);else if(192==(224&r))null===(n=e())&&o([r,n]),t((31&r)<<6|63&n);else if(224==(240&r))(null===(n=e())||null===(i=e()))&&o([r,n,i]),t((15&r)<<12|(63&n)<<6|63&i);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);(null===(n=e())||null===(i=e())||null===(s=e()))&&o([r,n,i,s]),t((7&r)<<18|(63&n)<<12|(63&i)<<6|63&s)}},UTF16toUTF8:function(e,t){for(var r,n=null;null!==(r=null!==n?n:e());)r>=55296&&r<=57343&&null!==(n=e())&&n>=56320&&n<=57343?(t(1024*(r-55296)+n-56320+65536),n=null):t(r);null!==n&&t(n)},UTF8toUTF16:function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<=65535?t(r):(t(55296+((r-=65536)>>10)),t(r%1024+56320)),r=null},encodeUTF16toUTF8:function(t,r){e.UTF16toUTF8(t,(function(t){e.encodeUTF8(t,r)}))},decodeUTF8toUTF16:function(t,r){e.decodeUTF8(t,(function(t){e.UTF8toUTF16(t,r)}))},calculateCodePoint:function(e){return e<128?1:e<2048?2:e<65536?3:4},calculateUTF8:function(e){for(var t,r=0;null!==(t=e());)r+=t<128?1:t<2048?2:t<65536?3:4;return r},calculateUTF16asUTF8:function(t){var r=0,n=0;return e.UTF16toUTF8(t,(function(e){++r,n+=e<128?1:e<2048?2:e<65536?3:4})),[r,n]}};return e}();return r.toUTF8=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var r;try{c.decodeUTF8toUTF16(function(){return e<t?this.view[e++]:null}.bind(this),r=o())}catch(r){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return r()},t.fromUTF8=function(e,r,n){if(!n&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var i=new t(c.calculateUTF16asUTF8(s(e),!0)[1],r,n),o=0;return c.encodeUTF16toUTF8(s(e),(function(e){i.view[o++]=e})),i.limit=o,i},t}))},{long:118}],57:[function(e,t,r){"use strict";var n=e("get-intrinsic"),i=e("./"),s=i(n("String.prototype.indexOf"));t.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&s(e,".prototype.")>-1?i(r):r}},{"./":58,"get-intrinsic":102}],58:[function(e,t,r){"use strict";var n=e("function-bind"),i=e("get-intrinsic"),s=i("%Function.prototype.apply%"),o=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||n.call(o,s),l=i("%Object.getOwnPropertyDescriptor%",!0),h=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(h)try{h({},"a",{value:1})}catch(e){h=null}t.exports=function(e){var t=a(n,o,arguments);if(l&&h){var r=l(t,"length");r.configurable&&h(t,"length",{value:1+c(0,e.length-(arguments.length-1))})}return t};var u=function(){return a(n,s,arguments)};h?h(t.exports,"apply",{value:u}):t.exports.apply=u},{"function-bind":100,"get-intrinsic":102}],59:[function(e,t,r){(function(r){(function(){var n=e("util"),i=e("assert");function s(){return(new Date).getTime()}var o,a=Array.prototype.slice,l={};o=void 0!==r&&r.console?r.console:"undefined"!=typeof window&&window.console?window.console:{};for(var h=[[function(){},"log"],[function(){o.log.apply(o,arguments)},"info"],[function(){o.log.apply(o,arguments)},"warn"],[function(){o.warn.apply(o,arguments)},"error"],[function(e){l[e]=s()},"time"],[function(e){var t=l[e];if(!t)throw new Error("No such label: "+e);delete l[e];var r=s()-t;o.log(e+": "+r+"ms")},"timeEnd"],[function(){var e=new Error;e.name="Trace",e.message=n.format.apply(null,arguments),o.error(e.stack)},"trace"],[function(e){o.log(n.inspect(e)+"\n")},"dir"],[function(e){if(!e){var t=a.call(arguments,1);i.ok(!1,n.format.apply(null,t))}},"assert"]],c=0;c<h.length;c++){var u=h[c],d=u[0],f=u[1];o[f]||(o[f]=d)}t.exports=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{assert:50,util:182}],60:[function(e,t,r){var n,i;n=this,i=function(e){return function(){var t=e,r=t.lib.BlockCipher,n=t.algo,i=[],s=[],o=[],a=[],l=[],h=[],c=[],u=[],d=[],f=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var p=n^n<<1^n<<2^n<<3^n<<4;p=p>>>8^255&p^99,i[r]=p,s[p]=r;var g=e[r],m=e[g],y=e[m],_=257*e[p]^16843008*p;o[r]=_<<24|_>>>8,a[r]=_<<16|_>>>16,l[r]=_<<8|_>>>24,h[r]=_,_=16843009*y^65537*m^257*g^16843008*r,c[p]=_<<24|_>>>8,u[p]=_<<16|_>>>16,d[p]=_<<8|_>>>24,f[p]=_,r?(r=g^e[e[e[y^g]]],n^=e[e[n]]):r=n=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],g=n.AES=r.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),s=this._keySchedule=[],o=0;o<n;o++)o<r?s[o]=t[o]:(h=s[o-1],o%r?r>6&&o%r==4&&(h=i[h>>>24]<<24|i[h>>>16&255]<<16|i[h>>>8&255]<<8|i[255&h]):(h=i[(h=h<<8|h>>>24)>>>24]<<24|i[h>>>16&255]<<16|i[h>>>8&255]<<8|i[255&h],h^=p[o/r|0]<<24),s[o]=s[o-r]^h);for(var a=this._invKeySchedule=[],l=0;l<n;l++){if(o=n-l,l%4)var h=s[o];else h=s[o-4];a[l]=l<4||o<=4?h:c[i[h>>>24]]^u[i[h>>>16&255]]^d[i[h>>>8&255]]^f[i[255&h]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,a,l,h,i)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,c,u,d,f,s),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,s,o,a){for(var l=this._nRounds,h=e[t]^r[0],c=e[t+1]^r[1],u=e[t+2]^r[2],d=e[t+3]^r[3],f=4,p=1;p<l;p++){var g=n[h>>>24]^i[c>>>16&255]^s[u>>>8&255]^o[255&d]^r[f++],m=n[c>>>24]^i[u>>>16&255]^s[d>>>8&255]^o[255&h]^r[f++],y=n[u>>>24]^i[d>>>16&255]^s[h>>>8&255]^o[255&c]^r[f++],_=n[d>>>24]^i[h>>>16&255]^s[c>>>8&255]^o[255&u]^r[f++];h=g,c=m,u=y,d=_}g=(a[h>>>24]<<24|a[c>>>16&255]<<16|a[u>>>8&255]<<8|a[255&d])^r[f++],m=(a[c>>>24]<<24|a[u>>>16&255]<<16|a[d>>>8&255]<<8|a[255&h])^r[f++],y=(a[u>>>24]<<24|a[d>>>16&255]<<16|a[h>>>8&255]<<8|a[255&c])^r[f++],_=(a[d>>>24]<<24|a[h>>>16&255]<<16|a[c>>>8&255]<<8|a[255&u])^r[f++],e[t]=g,e[t+1]=m,e[t+2]=y,e[t+3]=_},keySize:8});t.AES=r._createHelper(g)}(),e.AES},"object"==typeof r?t.exports=r=i(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":61,"./core":62,"./enc-base64":63,"./evpkdf":66,"./md5":71}],61:[function(e,t,r){var n,i;n=this,i=function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,o=n.BufferedBlockAlgorithm,a=r.enc,l=(a.Utf8,a.Base64),h=r.algo.EvpKDF,c=n.Cipher=o.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?b:y}return function(t){return{encrypt:function(r,n,i){return e(n).encrypt(t,r,n,i)},decrypt:function(r,n,i){return e(n).decrypt(t,r,n,i)}}}}()}),u=(n.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),r.mode={}),d=n.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),f=u.CBC=function(){var e=d.extend();function t(e,t,r){var n,i=this._iv;i?(n=i,this._iv=void 0):n=this._prevBlock;for(var s=0;s<r;s++)e[t+s]^=n[s]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize;t.call(this,e,r,i),n.encryptBlock(e,r),this._prevBlock=e.slice(r,r+i)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize,s=e.slice(r,r+i);n.decryptBlock(e,r),t.call(this,e,r,i),this._prevBlock=s}}),e}(),p=(r.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,i=n<<24|n<<16|n<<8|n,o=[],a=0;a<n;a+=4)o.push(i);var l=s.create(o,n);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},g=(n.BlockCipher=c.extend({cfg:c.cfg.extend({mode:f,padding:p}),reset:function(){var e;c.reset.call(this);var t=this.cfg,r=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,r&&r.words):(this._mode=e.call(n,this,r&&r.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),n.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),m=(r.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;return(r?s.create([1398893684,1701076831]).concat(r).concat(t):t).toString(l)},parse:function(e){var t,r=l.parse(e),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=s.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),g.create({ciphertext:r,salt:t})}},y=n.SerializableCipher=i.extend({cfg:i.extend({format:m}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n),s=i.finalize(t),o=i.cfg;return g.create({ciphertext:s,key:r,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),_=(r.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=s.random(8));var i=h.create({keySize:t+r}).compute(e,n),o=s.create(i.words.slice(t),4*r);return i.sigBytes=4*t,g.create({key:i,iv:o,salt:n})}},b=n.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:_}),encrypt:function(e,t,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=i.iv;var s=y.encrypt.call(this,e,t,i.key,n);return s.mixIn(i),s},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=i.iv,y.decrypt.call(this,e,t,i.key,n)}})}()},"object"==typeof r?t.exports=r=i(e("./core"),e("./evpkdf")):"function"==typeof define&&define.amd?define(["./core","./evpkdf"],i):i(n.CryptoJS)},{"./core":62,"./evpkdf":66}],62:[function(e,t,r){(function(n){(function(){var i,s;i=this,s=function(){var t=t||function(t,r){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),"undefined"!=typeof self&&self.crypto&&(i=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&void 0!==n&&n.crypto&&(i=n.crypto),!i&&"function"==typeof e)try{i=e("crypto")}catch(e){}var s=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),a={},l=a.lib={},h=l.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=l.WordArray=h.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var s=0;s<i;s++){var o=r[s>>>2]>>>24-s%4*8&255;t[n+s>>>2]|=o<<24-(n+s)%4*8}else for(var a=0;a<i;a+=4)t[n+a>>>2]=r[a>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var e=h.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(s());return new c.init(t,e)}}),u=a.enc={},d=u.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var s=t[i>>>2]>>>24-i%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new c.init(r,t/2)}},f=u.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var s=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new c.init(r,t)}},p=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},g=l.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var r,n=this._data,i=n.words,s=n.sigBytes,o=this.blockSize,a=s/(4*o),l=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*o,h=t.min(4*l,s);if(l){for(var u=0;u<l;u+=o)this._doProcessBlock(i,u);r=i.splice(0,l),n.sigBytes-=h}return new c.init(r,h)},clone:function(){var e=h.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(l.Hasher=g.extend({cfg:h.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new m.HMAC.init(e,r).finalize(t)}}}),a.algo={});return a}(Math);return t},"object"==typeof r?t.exports=r=s():"function"==typeof define&&define.amd?define([],s):i.CryptoJS=s()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{crypto:53}],63:[function(e,t,r){var n,i;n=this,i=function(e){var t,r;return r=(t=e).lib.WordArray,t.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],s=0;s<r;s+=3)for(var o=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,a=0;a<4&&s+.75*a<r;a++)i.push(n.charAt(o>>>6*(3-a)&63));var l=n.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var s=0;s<n.length;s++)i[n.charCodeAt(s)]=s}var o=n.charAt(64);if(o){var a=e.indexOf(o);-1!==a&&(t=a)}return function(e,t,n){for(var i=[],s=0,o=0;o<t;o++)if(o%4){var a=n[e.charCodeAt(o-1)]<<o%4*2|n[e.charCodeAt(o)]>>>6-o%4*2;i[s>>>2]|=a<<24-s%4*8,s++}return r.create(i,s)}(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},"object"==typeof r?t.exports=r=i(e("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":62}],64:[function(e,t,r){var n,i;n=this,i=function(e){var t,r;return r=(t=e).lib.WordArray,t.enc.Base64url={stringify:function(e,t=!0){var r=e.words,n=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var s=[],o=0;o<n;o+=3)for(var a=(r[o>>>2]>>>24-o%4*8&255)<<16|(r[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|r[o+2>>>2]>>>24-(o+2)%4*8&255,l=0;l<4&&o+.75*l<n;l++)s.push(i.charAt(a>>>6*(3-l)&63));var h=i.charAt(64);if(h)for(;s.length%4;)s.push(h);return s.join("")},parse:function(e,t=!0){var n=e.length,i=t?this._safe_map:this._map,s=this._reverseMap;if(!s){s=this._reverseMap=[];for(var o=0;o<i.length;o++)s[i.charCodeAt(o)]=o}var a=i.charAt(64);if(a){var l=e.indexOf(a);-1!==l&&(n=l)}return function(e,t,n){for(var i=[],s=0,o=0;o<t;o++)if(o%4){var a=n[e.charCodeAt(o-1)]<<o%4*2|n[e.charCodeAt(o)]>>>6-o%4*2;i[s>>>2]|=a<<24-s%4*8,s++}return r.create(i,s)}(e,n,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},e.enc.Base64url},"object"==typeof r?t.exports=r=i(e("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":62}],65:[function(e,t,r){var n,i;n=this,i=function(e){return function(){var t=e,r=t.lib.WordArray,n=t.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var s=t[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return r.create(n,2*t)}},n.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],s=0;s<r;s+=2){var o=i(t[s>>>2]>>>16-s%4*8&65535);n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,n=[],s=0;s<t;s++)n[s>>>1]|=i(e.charCodeAt(s)<<16-s%2*16);return r.create(n,2*t)}}}(),e.enc.Utf16},"object"==typeof r?t.exports=r=i(e("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":62}],66:[function(e,t,r){var n,i;n=this,i=function(e){var t,r,n,i,s,o,a;return r=(t=e).lib,n=r.Base,i=r.WordArray,s=t.algo,o=s.MD5,a=s.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r,n=this.cfg,s=n.hasher.create(),o=i.create(),a=o.words,l=n.keySize,h=n.iterations;a.length<l;){r&&s.update(r),r=s.update(e).finalize(t),s.reset();for(var c=1;c<h;c++)r=s.finalize(r),s.reset();o.concat(r)}return o.sigBytes=4*l,o}}),t.EvpKDF=function(e,t,r){return a.create(r).compute(e,t)},e.EvpKDF},"object"==typeof r?t.exports=r=i(e("./core"),e("./sha1"),e("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],i):i(n.CryptoJS)},{"./core":62,"./hmac":68,"./sha1":87}],67:[function(e,t,r){var n,i;n=this,i=function(e){var t,r,n;return r=(t=e).lib.CipherParams,n=t.enc.Hex,t.format.Hex={stringify:function(e){return e.ciphertext.toString(n)},parse:function(e){var t=n.parse(e);return r.create({ciphertext:t})}},e.format.Hex},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":61,"./core":62}],68:[function(e,t,r){var n,i;n=this,i=function(e){var t,r,n;r=(t=e).lib.Base,n=t.enc.Utf8,t.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,i=4*r;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var s=this._oKey=t.clone(),o=this._iKey=t.clone(),a=s.words,l=o.words,h=0;h<r;h++)a[h]^=1549556828,l[h]^=909522486;s.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})},"object"==typeof r?t.exports=r=i(e("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":62}],69:[function(e,t,r){var n,i;n=this,i=function(e){return e},"object"==typeof r?t.exports=r=i(e("./core"),e("./x64-core"),e("./lib-typedarrays"),e("./enc-utf16"),e("./enc-base64"),e("./enc-base64url"),e("./md5"),e("./sha1"),e("./sha256"),e("./sha224"),e("./sha512"),e("./sha384"),e("./sha3"),e("./ripemd160"),e("./hmac"),e("./pbkdf2"),e("./evpkdf"),e("./cipher-core"),e("./mode-cfb"),e("./mode-ctr"),e("./mode-ctr-gladman"),e("./mode-ofb"),e("./mode-ecb"),e("./pad-ansix923"),e("./pad-iso10126"),e("./pad-iso97971"),e("./pad-zeropadding"),e("./pad-nopadding"),e("./format-hex"),e("./aes"),e("./tripledes"),e("./rc4"),e("./rabbit"),e("./rabbit-legacy")):"function"==typeof define&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy"],i):n.CryptoJS=n.CryptoJS},{"./aes":60,"./cipher-core":61,"./core":62,"./enc-base64":63,"./enc-base64url":64,"./enc-utf16":65,"./evpkdf":66,"./format-hex":67,"./hmac":68,"./lib-typedarrays":70,"./md5":71,"./mode-cfb":72,"./mode-ctr":74,"./mode-ctr-gladman":73,"./mode-ecb":75,"./mode-ofb":76,"./pad-ansix923":77,"./pad-iso10126":78,"./pad-iso97971":79,"./pad-nopadding":80,"./pad-zeropadding":81,"./pbkdf2":82,"./rabbit":84,"./rabbit-legacy":83,"./rc4":85,"./ripemd160":86,"./sha1":87,"./sha224":88,"./sha256":89,"./sha3":90,"./sha384":91,"./sha512":92,"./tripledes":93,"./x64-core":94}],70:[function(e,t,r){var n,i;n=this,i=function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,r=t.init;(t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],i=0;i<t;i++)n[i>>>2]|=e[i]<<24-i%4*8;r.call(this,n,t)}else r.apply(this,arguments)}).prototype=t}}(),e.lib.WordArray},"object"==typeof r?t.exports=r=i(e("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":62}],71:[function(e,t,r){var n,i;n=this,i=function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,o=r.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var l=o.MD5=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var s=this._hash.words,o=e[t+0],l=e[t+1],f=e[t+2],p=e[t+3],g=e[t+4],m=e[t+5],y=e[t+6],_=e[t+7],b=e[t+8],w=e[t+9],v=e[t+10],E=e[t+11],S=e[t+12],T=e[t+13],k=e[t+14],I=e[t+15],R=s[0],A=s[1],x=s[2],C=s[3];R=h(R,A,x,C,o,7,a[0]),C=h(C,R,A,x,l,12,a[1]),x=h(x,C,R,A,f,17,a[2]),A=h(A,x,C,R,p,22,a[3]),R=h(R,A,x,C,g,7,a[4]),C=h(C,R,A,x,m,12,a[5]),x=h(x,C,R,A,y,17,a[6]),A=h(A,x,C,R,_,22,a[7]),R=h(R,A,x,C,b,7,a[8]),C=h(C,R,A,x,w,12,a[9]),x=h(x,C,R,A,v,17,a[10]),A=h(A,x,C,R,E,22,a[11]),R=h(R,A,x,C,S,7,a[12]),C=h(C,R,A,x,T,12,a[13]),x=h(x,C,R,A,k,17,a[14]),R=c(R,A=h(A,x,C,R,I,22,a[15]),x,C,l,5,a[16]),C=c(C,R,A,x,y,9,a[17]),x=c(x,C,R,A,E,14,a[18]),A=c(A,x,C,R,o,20,a[19]),R=c(R,A,x,C,m,5,a[20]),C=c(C,R,A,x,v,9,a[21]),x=c(x,C,R,A,I,14,a[22]),A=c(A,x,C,R,g,20,a[23]),R=c(R,A,x,C,w,5,a[24]),C=c(C,R,A,x,k,9,a[25]),x=c(x,C,R,A,p,14,a[26]),A=c(A,x,C,R,b,20,a[27]),R=c(R,A,x,C,T,5,a[28]),C=c(C,R,A,x,f,9,a[29]),x=c(x,C,R,A,_,14,a[30]),R=u(R,A=c(A,x,C,R,S,20,a[31]),x,C,m,4,a[32]),C=u(C,R,A,x,b,11,a[33]),x=u(x,C,R,A,E,16,a[34]),A=u(A,x,C,R,k,23,a[35]),R=u(R,A,x,C,l,4,a[36]),C=u(C,R,A,x,g,11,a[37]),x=u(x,C,R,A,_,16,a[38]),A=u(A,x,C,R,v,23,a[39]),R=u(R,A,x,C,T,4,a[40]),C=u(C,R,A,x,o,11,a[41]),x=u(x,C,R,A,p,16,a[42]),A=u(A,x,C,R,y,23,a[43]),R=u(R,A,x,C,w,4,a[44]),C=u(C,R,A,x,S,11,a[45]),x=u(x,C,R,A,I,16,a[46]),R=d(R,A=u(A,x,C,R,f,23,a[47]),x,C,o,6,a[48]),C=d(C,R,A,x,_,10,a[49]),x=d(x,C,R,A,k,15,a[50]),A=d(A,x,C,R,m,21,a[51]),R=d(R,A,x,C,S,6,a[52]),C=d(C,R,A,x,p,10,a[53]),x=d(x,C,R,A,v,15,a[54]),A=d(A,x,C,R,l,21,a[55]),R=d(R,A,x,C,b,6,a[56]),C=d(C,R,A,x,I,10,a[57]),x=d(x,C,R,A,y,15,a[58]),A=d(A,x,C,R,T,21,a[59]),R=d(R,A,x,C,g,6,a[60]),C=d(C,R,A,x,E,10,a[61]),x=d(x,C,R,A,f,15,a[62]),A=d(A,x,C,R,w,21,a[63]),s[0]=s[0]+R|0,s[1]=s[1]+A|0,s[2]=s[2]+x|0,s[3]=s[3]+C|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var s=t.floor(n/4294967296),o=n;r[15+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),r[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,l=a.words,h=0;h<4;h++){var c=l[h];l[h]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return a},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});function h(e,t,r,n,i,s,o){var a=e+(t&r|~t&n)+i+o;return(a<<s|a>>>32-s)+t}function c(e,t,r,n,i,s,o){var a=e+(t&n|r&~n)+i+o;return(a<<s|a>>>32-s)+t}function u(e,t,r,n,i,s,o){var a=e+(t^r^n)+i+o;return(a<<s|a>>>32-s)+t}function d(e,t,r,n,i,s,o){var a=e+(r^(t|~n))+i+o;return(a<<s|a>>>32-s)+t}r.MD5=s._createHelper(l),r.HmacMD5=s._createHmacHelper(l)}(Math),e.MD5},"object"==typeof r?t.exports=r=i(e("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":62}],72:[function(e,t,r){var n,i;n=this,i=function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function r(e,t,r,n){var i,s=this._iv;s?(i=s.slice(0),this._iv=void 0):i=this._prevBlock,n.encryptBlock(i,0);for(var o=0;o<r;o++)e[t+o]^=i[o]}return t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;r.call(this,e,t,i,n),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,s=e.slice(t,t+i);r.call(this,e,t,i,n),this._prevBlock=s}}),t}(),e.mode.CFB},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":61,"./core":62}],73:[function(e,t,r){var n,i;n=this,i=function(e){
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(e){if(255==(e>>24&255)){var t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}else e+=1<<24;return e}var n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,s=this._iv,o=this._counter;s&&(o=this._counter=s.slice(0),this._iv=void 0),function(e){0===(e[0]=r(e[0]))&&(e[1]=r(e[1]))}(o);var a=o.slice(0);n.encryptBlock(a,0);for(var l=0;l<i;l++)e[t+l]^=a[l]}});return t.Decryptor=n,t}(),e.mode.CTRGladman},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":61,"./core":62}],74:[function(e,t,r){var n,i;n=this,i=function(e){var t,r;return e.mode.CTR=(t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,s=this._counter;i&&(s=this._counter=i.slice(0),this._iv=void 0);var o=s.slice(0);r.encryptBlock(o,0),s[n-1]=s[n-1]+1|0;for(var a=0;a<n;a++)e[t+a]^=o[a]}}),t.Decryptor=r,t),e.mode.CTR},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":61,"./core":62}],75:[function(e,t,r){var n,i;n=this,i=function(e){var t;return e.mode.ECB=((t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t),e.mode.ECB},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":61,"./core":62}],76:[function(e,t,r){var n,i;n=this,i=function(e){var t,r;return e.mode.OFB=(t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,s=this._keystream;i&&(s=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(s,0);for(var o=0;o<n;o++)e[t+o]^=s[o]}}),t.Decryptor=r,t),e.mode.OFB},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":61,"./core":62}],77:[function(e,t,r){var n,i;n=this,i=function(e){return e.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,n=4*t,i=n-r%n,s=r+i-1;e.clamp(),e.words[s>>>2]|=i<<24-s%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":61,"./core":62}],78:[function(e,t,r){var n,i;n=this,i=function(e){return e.pad.Iso10126={pad:function(t,r){var n=4*r,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":61,"./core":62}],79:[function(e,t,r){var n,i;n=this,i=function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":61,"./core":62}],80:[function(e,t,r){var n,i;n=this,i=function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":61,"./core":62}],81:[function(e,t,r){var n,i;n=this,i=function(e){return e.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){var t=e.words,r=e.sigBytes-1;for(r=e.sigBytes-1;r>=0;r--)if(t[r>>>2]>>>24-r%4*8&255){e.sigBytes=r+1;break}}},e.pad.ZeroPadding},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":61,"./core":62}],82:[function(e,t,r){var n,i;n=this,i=function(e){var t,r,n,i,s,o,a,l;return r=(t=e).lib,n=r.Base,i=r.WordArray,s=t.algo,o=s.SHA1,a=s.HMAC,l=s.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=a.create(r.hasher,e),s=i.create(),o=i.create([1]),l=s.words,h=o.words,c=r.keySize,u=r.iterations;l.length<c;){var d=n.update(t).finalize(o);n.reset();for(var f=d.words,p=f.length,g=d,m=1;m<u;m++){g=n.finalize(g),n.reset();for(var y=g.words,_=0;_<p;_++)f[_]^=y[_]}s.concat(d),h[0]++}return s.sigBytes=4*c,s}}),t.PBKDF2=function(e,t,r){return l.create(r).compute(e,t)},e.PBKDF2},"object"==typeof r?t.exports=r=i(e("./core"),e("./sha1"),e("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],i):i(n.CryptoJS)},{"./core":62,"./hmac":68,"./sha1":87}],83:[function(e,t,r){var n,i;n=this,i=function(e){return function(){var t=e,r=t.lib.StreamCipher,n=t.algo,i=[],s=[],o=[],a=n.RabbitLegacy=r.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)l.call(this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(t){var s=t.words,o=s[0],a=s[1],h=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=h>>>16|4294901760&c,d=c<<16|65535&h;for(n[0]^=h,n[1]^=u,n[2]^=c,n[3]^=d,n[4]^=h,n[5]^=u,n[6]^=c,n[7]^=d,i=0;i<4;i++)l.call(this)}},_doProcessBlock:function(e,t){var r=this._X;l.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),e[t+n]^=i[n]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,r=0;r<8;r++)s[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<s[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<s[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<s[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<s[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<s[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<s[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<s[6]>>>0?1:0)|0,this._b=t[7]>>>0<s[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],i=65535&n,a=n>>>16,l=((i*i>>>17)+i*a>>>15)+a*a,h=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=l^h}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.RabbitLegacy=r._createHelper(a)}(),e.RabbitLegacy},"object"==typeof r?t.exports=r=i(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":61,"./core":62,"./enc-base64":63,"./evpkdf":66,"./md5":71}],84:[function(e,t,r){var n,i;n=this,i=function(e){return function(){var t=e,r=t.lib.StreamCipher,n=t.algo,i=[],s=[],o=[],a=n.Rabbit=r.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,r=0;r<4;r++)e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,r=0;r<4;r++)l.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(t){var s=t.words,o=s[0],a=s[1],h=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=h>>>16|4294901760&c,d=c<<16|65535&h;for(i[0]^=h,i[1]^=u,i[2]^=c,i[3]^=d,i[4]^=h,i[5]^=u,i[6]^=c,i[7]^=d,r=0;r<4;r++)l.call(this)}},_doProcessBlock:function(e,t){var r=this._X;l.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),e[t+n]^=i[n]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,r=0;r<8;r++)s[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<s[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<s[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<s[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<s[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<s[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<s[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<s[6]>>>0?1:0)|0,this._b=t[7]>>>0<s[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],i=65535&n,a=n>>>16,l=((i*i>>>17)+i*a>>>15)+a*a,h=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=l^h}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.Rabbit=r._createHelper(a)}(),e.Rabbit},"object"==typeof r?t.exports=r=i(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":61,"./core":62,"./enc-base64":63,"./evpkdf":66,"./md5":71}],85:[function(e,t,r){var n,i;n=this,i=function(e){return function(){var t=e,r=t.lib.StreamCipher,n=t.algo,i=n.RC4=r.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,n=this._S=[],i=0;i<256;i++)n[i]=i;i=0;for(var s=0;i<256;i++){var o=i%r,a=t[o>>>2]>>>24-o%4*8&255;s=(s+n[i]+a)%256;var l=n[i];n[i]=n[s],n[s]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=s.call(this)},keySize:8,ivSize:0});function s(){for(var e=this._S,t=this._i,r=this._j,n=0,i=0;i<4;i++){r=(r+e[t=(t+1)%256])%256;var s=e[t];e[t]=e[r],e[r]=s,n|=e[(e[t]+e[r])%256]<<24-8*i}return this._i=t,this._j=r,n}t.RC4=r._createHelper(i);var o=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)s.call(this)}});t.RC4Drop=r._createHelper(o)}(),e.RC4},"object"==typeof r?t.exports=r=i(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":61,"./core":62,"./enc-base64":63,"./evpkdf":66,"./md5":71}],86:[function(e,t,r){var n,i;n=this,i=function(e){
/** @preserve
	(c) 2012 by Cdric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,o=r.algo,a=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=i.create([0,1518500249,1859775393,2400959708,2840853838]),d=i.create([1352829926,1548603684,1836072691,2053994217,0]),f=o.RIPEMD160=s.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var s,o,f,w,v,E,S,T,k,I,R,A=this._hash.words,x=u.words,C=d.words,O=a.words,D=l.words,M=h.words,N=c.words;for(E=s=A[0],S=o=A[1],T=f=A[2],k=w=A[3],I=v=A[4],r=0;r<80;r+=1)R=s+e[t+O[r]]|0,R+=r<16?p(o,f,w)+x[0]:r<32?g(o,f,w)+x[1]:r<48?m(o,f,w)+x[2]:r<64?y(o,f,w)+x[3]:_(o,f,w)+x[4],R=(R=b(R|=0,M[r]))+v|0,s=v,v=w,w=b(f,10),f=o,o=R,R=E+e[t+D[r]]|0,R+=r<16?_(S,T,k)+C[0]:r<32?y(S,T,k)+C[1]:r<48?m(S,T,k)+C[2]:r<64?g(S,T,k)+C[3]:p(S,T,k)+C[4],R=(R=b(R|=0,N[r]))+I|0,E=I,I=k,k=b(T,10),T=S,S=R;R=A[1]+f+k|0,A[1]=A[2]+w+I|0,A[2]=A[3]+v+E|0,A[3]=A[4]+s+S|0,A[4]=A[0]+o+T|0,A[0]=R},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,s=i.words,o=0;o<5;o++){var a=s[o];s[o]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return i},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,r){return e^t^r}function g(e,t,r){return e&t|~e&r}function m(e,t,r){return(e|~t)^r}function y(e,t,r){return e&r|t&~r}function _(e,t,r){return e^(t|~r)}function b(e,t){return e<<t|e>>>32-t}r.RIPEMD160=s._createHelper(f),r.HmacRIPEMD160=s._createHmacHelper(f)}(Math),e.RIPEMD160},"object"==typeof r?t.exports=r=i(e("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":62}],87:[function(e,t,r){var n,i;n=this,i=function(e){var t,r,n,i,s,o,a;return r=(t=e).lib,n=r.WordArray,i=r.Hasher,s=t.algo,o=[],a=s.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],a=r[3],l=r[4],h=0;h<80;h++){if(h<16)o[h]=0|e[t+h];else{var c=o[h-3]^o[h-8]^o[h-14]^o[h-16];o[h]=c<<1|c>>>31}var u=(n<<5|n>>>27)+l+o[h];u+=h<20?1518500249+(i&s|~i&a):h<40?1859775393+(i^s^a):h<60?(i&s|i&a|s&a)-1894007588:(i^s^a)-899497514,l=a,a=s,s=i<<30|i>>>2,i=n,n=u}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+s|0,r[3]=r[3]+a|0,r[4]=r[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=i._createHelper(a),t.HmacSHA1=i._createHmacHelper(a),e.SHA1},"object"==typeof r?t.exports=r=i(e("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":62}],88:[function(e,t,r){var n,i;n=this,i=function(e){var t,r,n,i,s;return r=(t=e).lib.WordArray,n=t.algo,i=n.SHA256,s=n.SHA224=i.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}}),t.SHA224=i._createHelper(s),t.HmacSHA224=i._createHmacHelper(s),e.SHA224},"object"==typeof r?t.exports=r=i(e("./core"),e("./sha256")):"function"==typeof define&&define.amd?define(["./core","./sha256"],i):i(n.CryptoJS)},{"./core":62,"./sha256":89}],89:[function(e,t,r){var n,i;n=this,i=function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,o=r.algo,a=[],l=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)e(n)&&(i<8&&(a[i]=r(t.pow(n,.5))),l[i]=r(t.pow(n,1/3)),i++),n++}();var h=[],c=o.SHA256=s.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],o=r[3],a=r[4],c=r[5],u=r[6],d=r[7],f=0;f<64;f++){if(f<16)h[f]=0|e[t+f];else{var p=h[f-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,m=h[f-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;h[f]=g+h[f-7]+y+h[f-16]}var _=n&i^n&s^i&s,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),w=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&c^~a&u)+l[f]+h[f];d=u,u=c,c=a,a=o+w|0,o=s,s=i,i=n,n=w+(b+_)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+s|0,r[3]=r[3]+o|0,r[4]=r[4]+a|0,r[5]=r[5]+c|0,r[6]=r[6]+u|0,r[7]=r[7]+d|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=t.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});r.SHA256=s._createHelper(c),r.HmacSHA256=s._createHmacHelper(c)}(Math),e.SHA256},"object"==typeof r?t.exports=r=i(e("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":62}],90:[function(e,t,r){var n,i;n=this,i=function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,o=r.x64.Word,a=r.algo,l=[],h=[],c=[];!function(){for(var e=1,t=0,r=0;r<24;r++){l[e+5*t]=(r+1)*(r+2)/2%64;var n=(2*e+3*t)%5;e=t%5,t=n}for(e=0;e<5;e++)for(t=0;t<5;t++)h[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,s=0;s<24;s++){for(var a=0,u=0,d=0;d<7;d++){if(1&i){var f=(1<<d)-1;f<32?u^=1<<f:a^=1<<f-32}128&i?i=i<<1^113:i<<=1}c[s]=o.create(a,u)}}();var u=[];!function(){for(var e=0;e<25;e++)u[e]=o.create()}();var d=a.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var s=e[t+2*i],o=e[t+2*i+1];s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),(A=r[i]).high^=o,A.low^=s}for(var a=0;a<24;a++){for(var d=0;d<5;d++){for(var f=0,p=0,g=0;g<5;g++)f^=(A=r[d+5*g]).high,p^=A.low;var m=u[d];m.high=f,m.low=p}for(d=0;d<5;d++){var y=u[(d+4)%5],_=u[(d+1)%5],b=_.high,w=_.low;for(f=y.high^(b<<1|w>>>31),p=y.low^(w<<1|b>>>31),g=0;g<5;g++)(A=r[d+5*g]).high^=f,A.low^=p}for(var v=1;v<25;v++){var E=(A=r[v]).high,S=A.low,T=l[v];T<32?(f=E<<T|S>>>32-T,p=S<<T|E>>>32-T):(f=S<<T-32|E>>>64-T,p=E<<T-32|S>>>64-T);var k=u[h[v]];k.high=f,k.low=p}var I=u[0],R=r[0];for(I.high=R.high,I.low=R.low,d=0;d<5;d++)for(g=0;g<5;g++){var A=r[v=d+5*g],x=u[v],C=u[(d+1)%5+5*g],O=u[(d+2)%5+5*g];A.high=x.high^~C.high&O.high,A.low=x.low^~C.low&O.low}A=r[0];var D=c[a];A.high^=D.high,A.low^=D.low}},_doFinalize:function(){var e=this._data,r=e.words,n=(this._nDataBytes,8*e.sigBytes),s=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(t.ceil((n+1)/s)*s>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var o=this._state,a=this.cfg.outputLength/8,l=a/8,h=[],c=0;c<l;c++){var u=o[c],d=u.high,f=u.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),h.push(f),h.push(d)}return new i.init(h,a)},clone:function(){for(var e=s.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});r.SHA3=s._createHelper(d),r.HmacSHA3=s._createHmacHelper(d)}(Math),e.SHA3},"object"==typeof r?t.exports=r=i(e("./core"),e("./x64-core")):"function"==typeof define&&define.amd?define(["./core","./x64-core"],i):i(n.CryptoJS)},{"./core":62,"./x64-core":94}],91:[function(e,t,r){var n,i;n=this,i=function(e){var t,r,n,i,s,o,a;return r=(t=e).x64,n=r.Word,i=r.WordArray,s=t.algo,o=s.SHA512,a=s.SHA384=o.extend({_doReset:function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=16,e}}),t.SHA384=o._createHelper(a),t.HmacSHA384=o._createHmacHelper(a),e.SHA384},"object"==typeof r?t.exports=r=i(e("./core"),e("./x64-core"),e("./sha512")):"function"==typeof define&&define.amd?define(["./core","./x64-core","./sha512"],i):i(n.CryptoJS)},{"./core":62,"./sha512":92,"./x64-core":94}],92:[function(e,t,r){var n,i;n=this,i=function(e){return function(){var t=e,r=t.lib.Hasher,n=t.x64,i=n.Word,s=n.WordArray,o=t.algo;function a(){return i.create.apply(i,arguments)}var l=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],h=[];!function(){for(var e=0;e<80;e++)h[e]=a()}();var c=o.SHA512=r.extend({_doReset:function(){this._hash=new s.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],o=r[3],a=r[4],c=r[5],u=r[6],d=r[7],f=n.high,p=n.low,g=i.high,m=i.low,y=s.high,_=s.low,b=o.high,w=o.low,v=a.high,E=a.low,S=c.high,T=c.low,k=u.high,I=u.low,R=d.high,A=d.low,x=f,C=p,O=g,D=m,M=y,N=_,U=b,L=w,B=v,P=E,F=S,j=T,z=k,H=I,q=R,Z=A,W=0;W<80;W++){var V,$,G=h[W];if(W<16)$=G.high=0|e[t+2*W],V=G.low=0|e[t+2*W+1];else{var Y=h[W-15],X=Y.high,K=Y.low,J=(X>>>1|K<<31)^(X>>>8|K<<24)^X>>>7,Q=(K>>>1|X<<31)^(K>>>8|X<<24)^(K>>>7|X<<25),ee=h[W-2],te=ee.high,re=ee.low,ne=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,ie=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),se=h[W-7],oe=se.high,ae=se.low,le=h[W-16],he=le.high,ce=le.low;$=($=($=J+oe+((V=Q+ae)>>>0<Q>>>0?1:0))+ne+((V+=ie)>>>0<ie>>>0?1:0))+he+((V+=ce)>>>0<ce>>>0?1:0),G.high=$,G.low=V}var ue,de=B&F^~B&z,fe=P&j^~P&H,pe=x&O^x&M^O&M,ge=C&D^C&N^D&N,me=(x>>>28|C<<4)^(x<<30|C>>>2)^(x<<25|C>>>7),ye=(C>>>28|x<<4)^(C<<30|x>>>2)^(C<<25|x>>>7),_e=(B>>>14|P<<18)^(B>>>18|P<<14)^(B<<23|P>>>9),be=(P>>>14|B<<18)^(P>>>18|B<<14)^(P<<23|B>>>9),we=l[W],ve=we.high,Ee=we.low,Se=q+_e+((ue=Z+be)>>>0<Z>>>0?1:0),Te=ye+ge;q=z,Z=H,z=F,H=j,F=B,j=P,B=U+(Se=(Se=(Se=Se+de+((ue+=fe)>>>0<fe>>>0?1:0))+ve+((ue+=Ee)>>>0<Ee>>>0?1:0))+$+((ue+=V)>>>0<V>>>0?1:0))+((P=L+ue|0)>>>0<L>>>0?1:0)|0,U=M,L=N,M=O,N=D,O=x,D=C,x=Se+(me+pe+(Te>>>0<ye>>>0?1:0))+((C=ue+Te|0)>>>0<ue>>>0?1:0)|0}p=n.low=p+C,n.high=f+x+(p>>>0<C>>>0?1:0),m=i.low=m+D,i.high=g+O+(m>>>0<D>>>0?1:0),_=s.low=_+N,s.high=y+M+(_>>>0<N>>>0?1:0),w=o.low=w+L,o.high=b+U+(w>>>0<L>>>0?1:0),E=a.low=E+P,a.high=v+B+(E>>>0<P>>>0?1:0),T=c.low=T+j,c.high=S+F+(T>>>0<j>>>0?1:0),I=u.low=I+H,u.high=k+z+(I>>>0<H>>>0?1:0),A=d.low=A+Z,d.high=R+q+(A>>>0<Z>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=r._createHelper(c),t.HmacSHA512=r._createHmacHelper(c)}(),e.SHA512},"object"==typeof r?t.exports=r=i(e("./core"),e("./x64-core")):"function"==typeof define&&define.amd?define(["./core","./x64-core"],i):i(n.CryptoJS)},{"./core":62,"./x64-core":94}],93:[function(e,t,r){var n,i;n=this,i=function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.BlockCipher,s=t.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=s.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var n=o[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],s=0;s<16;s++){var h=i[s]=[],c=l[s];for(r=0;r<24;r++)h[r/6|0]|=t[(a[r]-1+c)%28]<<31-r%6,h[4+(r/6|0)]|=t[28+(a[r+24]-1+c)%28]<<31-r%6;for(h[0]=h[0]<<1|h[0]>>>31,r=1;r<7;r++)h[r]=h[r]>>>4*(r-1)+3;h[7]=h[7]<<5|h[7]>>>27}var u=this._invSubKeys=[];for(r=0;r<16;r++)u[r]=i[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),d.call(this,1,1431655765);for(var n=0;n<16;n++){for(var i=r[n],s=this._lBlock,o=this._rBlock,a=0,l=0;l<8;l++)a|=h[l][((o^i[l])&c[l])>>>0];this._lBlock=o,this._rBlock=s^a}var u=this._lBlock;this._lBlock=this._rBlock,this._rBlock=u,d.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function f(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}t.DES=i._createHelper(u);var p=s.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=u.createEncryptor(n.create(t)),this._des2=u.createEncryptor(n.create(r)),this._des3=u.createEncryptor(n.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(p)}(),e.TripleDES},"object"==typeof r?t.exports=r=i(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":61,"./core":62,"./enc-base64":63,"./evpkdf":66,"./md5":71}],94:[function(e,t,r){var n,i;n=this,i=function(e){var t,r,n,i,s;return r=(t=e).lib,n=r.Base,i=r.WordArray,(s=t.x64={}).Word=n.extend({init:function(e,t){this.high=e,this.low=t}}),s.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var s=e[n];r.push(s.high),r.push(s.low)}return i.create(r,this.sigBytes)},clone:function(){for(var e=n.clone.call(this),t=e.words=this.words.slice(0),r=t.length,i=0;i<r;i++)t[i]=t[i].clone();return e}}),e},"object"==typeof r?t.exports=r=i(e("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":62}],95:[function(e,t,r){arguments[4][5][0].apply(r,arguments)},{dup:5}],96:[function(e,t,r){t.exports=function(t){function r(e){let t,i=null;function s(...e){if(!s.enabled)return;const n=s,i=Number(new Date),o=i-(t||i);n.diff=o,n.prev=t,n.curr=i,t=i,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((t,i)=>{if("%%"===t)return"%";a++;const s=r.formatters[i];if("function"==typeof s){const r=e[a];t=s.call(n,r),e.splice(a,1),a--}return t})),r.formatArgs.call(n,e);(n.log||r.log).apply(n,e)}return s.namespace=e,s.useColors=r.useColors(),s.color=r.selectColor(e),s.extend=n,s.destroy=r.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null===i?r.enabled(e):i,set:e=>{i=e}}),"function"==typeof r.init&&r.init(s),s}function n(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){const e=[...r.names.map(i),...r.skips.map(i).map((e=>"-"+e))].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=e("ms"),r.destroy=function(){},Object.keys(t).forEach((e=>{r[e]=t[e]})),r.names=[],r.skips=[],r.formatters={},r.selectColor=function(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return r.colors[Math.abs(t)%r.colors.length]},r.enable(r.load()),r}},{ms:119}],97:[function(e,t,r){"use strict";function n(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}t.exports=function(e,t,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r||(r={}),"object"==typeof t&&(r=t,t=void 0),null!=t&&(r.code=t);try{return n(e,r)}catch(t){r.message=e.message,r.stack=e.stack;const i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(e)),n(new i,r)}}},{}],98:[function(e,t,r){"use strict";var n=e("is-callable"),i=Object.prototype.toString,s=Object.prototype.hasOwnProperty,o=function(e,t,r){for(var n=0,i=e.length;n<i;n++)s.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))},a=function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)},l=function(e,t,r){for(var n in e)s.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))};t.exports=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=r),"[object Array]"===i.call(e)?o(e,t,s):"string"==typeof e?a(e,t,s):l(e,t,s)}},{"is-callable":113}],99:[function(e,t,r){"use strict";var n="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,s=Object.prototype.toString,o="[object Function]";t.exports=function(e){var t=this;if("function"!=typeof t||s.call(t)!==o)throw new TypeError(n+t);for(var r,a=i.call(arguments,1),l=function(){if(this instanceof r){var n=t.apply(this,a.concat(i.call(arguments)));return Object(n)===n?n:this}return t.apply(e,a.concat(i.call(arguments)))},h=Math.max(0,t.length-a.length),c=[],u=0;u<h;u++)c.push("$"+u);if(r=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(l),t.prototype){var d=function(){};d.prototype=t.prototype,r.prototype=new d,d.prototype=null}return r}},{}],100:[function(e,t,r){"use strict";var n=e("./implementation");t.exports=Function.prototype.bind||n},{"./implementation":99}],101:[function(e,t,r){arguments[4][7][0].apply(r,arguments)},{dup:7}],102:[function(e,t,r){"use strict";var n,i=SyntaxError,s=Function,o=TypeError,a=function(e){try{return s('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var h=function(){throw new o},c=l?function(){try{return h}catch(e){try{return l(arguments,"callee").get}catch(e){return h}}}():h,u=e("has-symbols")(),d=e("has-proto")(),f=Object.getPrototypeOf||(d?function(e){return e.__proto__}:null),p={},g="undefined"!=typeof Uint8Array&&f?f(Uint8Array):n,m={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":u&&f?f([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u&&f?f(f([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u&&f?f((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u&&f?f((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u&&f?f(""[Symbol.iterator]()):n,"%Symbol%":u?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":c,"%TypedArray%":g,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(f)try{null.error}catch(e){var y=f(f(e));m["%Error.prototype%"]=y}var _=function e(t){var r;if("%AsyncFunction%"===t)r=a("async function () {}");else if("%GeneratorFunction%"===t)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=a("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&f&&(r=f(i.prototype))}return m[t]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=e("function-bind"),v=e("has"),E=w.call(Function.call,Array.prototype.concat),S=w.call(Function.apply,Array.prototype.splice),T=w.call(Function.call,String.prototype.replace),k=w.call(Function.call,String.prototype.slice),I=w.call(Function.call,RegExp.prototype.exec),R=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,x=function(e){var t=k(e,0,1),r=k(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return T(e,R,(function(e,t,r,i){n[n.length]=r?T(i,A,"$1"):t||e})),n},C=function(e,t){var r,n=e;if(v(b,n)&&(n="%"+(r=b[n])[0]+"%"),v(m,n)){var s=m[n];if(s===p&&(s=_(n)),void 0===s&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:s}}throw new i("intrinsic "+e+" does not exist!")};t.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new o('"allowMissing" argument must be a boolean');if(null===I(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=x(e),n=r.length>0?r[0]:"",s=C("%"+n+"%",t),a=s.name,h=s.value,c=!1,u=s.alias;u&&(n=u[0],S(r,E([0,1],u)));for(var d=1,f=!0;d<r.length;d+=1){var p=r[d],g=k(p,0,1),y=k(p,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&f||(c=!0),v(m,a="%"+(n+="."+p)+"%"))h=m[a];else if(null!=h){if(!(p in h)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&d+1>=r.length){var _=l(h,p);h=(f=!!_)&&"get"in _&&!("originalValue"in _.get)?_.get:h[p]}else f=v(h,p),h=h[p];f&&!c&&(m[a]=h)}}return h}},{"function-bind":100,has:108,"has-proto":104,"has-symbols":105}],103:[function(e,t,r){"use strict";var n=e("get-intrinsic")("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}t.exports=n},{"get-intrinsic":102}],104:[function(e,t,r){"use strict";var n={foo:{}},i=Object;t.exports=function(){return{__proto__:n}.foo===n.foo&&!({__proto__:null}instanceof i)}},{}],105:[function(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=e("./shams");t.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},{"./shams":106}],106:[function(e,t,r){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},{}],107:[function(e,t,r){"use strict";var n=e("has-symbols/shams");t.exports=function(){return n()&&!!Symbol.toStringTag}},{"has-symbols/shams":106}],108:[function(e,t,r){"use strict";var n=e("function-bind");t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":100}],109:[function(e,t,r){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
r.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,l=(1<<a)-1,h=l>>1,c=-7,u=r?i-1:0,d=r?-1:1,f=e[t+u];for(u+=d,s=f&(1<<-c)-1,f>>=-c,c+=a;c>0;s=256*s+e[t+u],u+=d,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=256*o+e[t+u],u+=d,c-=8);if(0===s)s=1-h;else{if(s===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=h}return(f?-1:1)*o*Math.pow(2,s-n)},r.write=function(e,t,r,n,i,s){var o,a,l,h=8*s-i-1,c=(1<<h)-1,u=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+u>=1?d/l:d*Math.pow(2,1-u))*l>=2&&(o++,l/=2),o+u>=c?(a=0,o=c):o+u>=1?(a=(t*l-1)*Math.pow(2,i),o+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,h+=i;h>0;e[r+f]=255&o,f+=p,o/=256,h-=8);e[r+f-p]|=128*g}},{}],110:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],111:[function(e,t,r){arguments[4][8][0].apply(r,arguments)},{dup:8}],112:[function(e,t,r){"use strict";var n=e("has-tostringtag/shams")(),i=e("call-bind/callBound")("Object.prototype.toString"),s=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},o=function(e){return!!s(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},a=function(){return s(arguments)}();s.isLegacyArguments=o,t.exports=a?s:o},{"call-bind/callBound":57,"has-tostringtag/shams":107}],113:[function(e,t,r){"use strict";var n,i,s=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{n=Object.defineProperty({},"length",{get:function(){throw i}}),i={},o((function(){throw 42}),null,n)}catch(e){e!==i&&(o=null)}else o=null;var a=/^\s*class\b/,l=function(e){try{var t=s.call(e);return a.test(t)}catch(e){return!1}},h=function(e){try{return!l(e)&&(s.call(e),!0)}catch(e){return!1}},c=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,d=!(0 in[,]),f=function(){return!1};if("object"==typeof document){var p=document.all;c.call(p)===c.call(document.all)&&(f=function(e){if((d||!e)&&(void 0===e||"object"==typeof e))try{var t=c.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}t.exports=o?function(e){if(f(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{o(e,null,n)}catch(e){if(e!==i)return!1}return!l(e)&&h(e)}:function(e){if(f(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(u)return h(e);if(l(e))return!1;var t=c.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&h(e)}},{}],114:[function(e,t,r){"use strict";var n,i=Object.prototype.toString,s=Function.prototype.toString,o=/^\s*(?:function)?\*/,a=e("has-tostringtag/shams")(),l=Object.getPrototypeOf;t.exports=function(e){if("function"!=typeof e)return!1;if(o.test(s.call(e)))return!0;if(!a)return"[object GeneratorFunction]"===i.call(e);if(!l)return!1;if(void 0===n){var t=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&l(t)}return l(e)===n}},{"has-tostringtag/shams":107}],115:[function(e,t,r){"use strict";var n=e("which-typed-array");t.exports=function(e){return!!n(e)}},{"which-typed-array":183}],116:[function(e,t,r){(function(e,n){(function(){!function(e,n){var i,s;"object"==typeof r&&void 0!==t?t.exports=n():"function"==typeof define&&define.amd?define(n):(i=e.Base64,(s=n()).noConflict=function(){return e.Base64=i,s},e.Meteor&&(Base64=s),e.Base64=s)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:this,(function(){"use strict";var e,t="3.7.5",r="function"==typeof atob,i="function"==typeof btoa,s="function"==typeof n,o="function"==typeof TextDecoder?new TextDecoder:void 0,a="function"==typeof TextEncoder?new TextEncoder:void 0,l=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),h=(e={},l.forEach((function(t,r){return e[t]=r})),e),c=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,u=String.fromCharCode.bind(String),d="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(e){return new Uint8Array(Array.prototype.slice.call(e,0))},f=function(e){return e.replace(/=/g,"").replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"}))},p=function(e){return e.replace(/[^A-Za-z0-9\+\/]/g,"")},g=function(e){for(var t,r,n,i,s="",o=e.length%3,a=0;a<e.length;){if((r=e.charCodeAt(a++))>255||(n=e.charCodeAt(a++))>255||(i=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");s+=l[(t=r<<16|n<<8|i)>>18&63]+l[t>>12&63]+l[t>>6&63]+l[63&t]}return o?s.slice(0,o-3)+"===".substring(o):s},m=i?function(e){return btoa(e)}:s?function(e){return n.from(e,"binary").toString("base64")}:g,y=s?function(e){return n.from(e).toString("base64")}:function(e){for(var t=[],r=0,n=e.length;r<n;r+=4096)t.push(u.apply(null,e.subarray(r,r+4096)));return m(t.join(""))},_=function(e,t){return void 0===t&&(t=!1),t?f(y(e)):y(e)},b=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?u(192|t>>>6)+u(128|63&t):u(224|t>>>12&15)+u(128|t>>>6&63)+u(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return u(240|t>>>18&7)+u(128|t>>>12&63)+u(128|t>>>6&63)+u(128|63&t)},w=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,v=function(e){return e.replace(w,b)},E=s?function(e){return n.from(e,"utf8").toString("base64")}:a?function(e){return y(a.encode(e))}:function(e){return m(v(e))},S=function(e,t){return void 0===t&&(t=!1),t?f(E(e)):E(e)},T=function(e){return S(e,!0)},k=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,I=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return u(55296+(t>>>10))+u(56320+(1023&t));case 3:return u((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return u((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},R=function(e){return e.replace(k,I)},A=function(e){if(e=e.replace(/\s+/g,""),!c.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));for(var t,r,n,i="",s=0;s<e.length;)t=h[e.charAt(s++)]<<18|h[e.charAt(s++)]<<12|(r=h[e.charAt(s++)])<<6|(n=h[e.charAt(s++)]),i+=64===r?u(t>>16&255):64===n?u(t>>16&255,t>>8&255):u(t>>16&255,t>>8&255,255&t);return i},x=r?function(e){return atob(p(e))}:s?function(e){return n.from(e,"base64").toString("binary")}:A,C=s?function(e){return d(n.from(e,"base64"))}:function(e){return d(x(e).split("").map((function(e){return e.charCodeAt(0)})))},O=function(e){return C(M(e))},D=s?function(e){return n.from(e,"base64").toString("utf8")}:o?function(e){return o.decode(C(e))}:function(e){return R(x(e))},M=function(e){return p(e.replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})))},N=function(e){return D(M(e))},U=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}},L=function(){var e=function(e,t){return Object.defineProperty(String.prototype,e,U(t))};e("fromBase64",(function(){return N(this)})),e("toBase64",(function(e){return S(this,e)})),e("toBase64URI",(function(){return S(this,!0)})),e("toBase64URL",(function(){return S(this,!0)})),e("toUint8Array",(function(){return O(this)}))},B=function(){var e=function(e,t){return Object.defineProperty(Uint8Array.prototype,e,U(t))};e("toBase64",(function(e){return _(this,e)})),e("toBase64URI",(function(){return _(this,!0)})),e("toBase64URL",(function(){return _(this,!0)}))},P={version:t,VERSION:"3.7.5",atob:x,atobPolyfill:A,btoa:m,btoaPolyfill:g,fromBase64:N,toBase64:S,encode:S,encodeURI:T,encodeURL:T,utob:v,btou:R,decode:N,isValid:function(e){if("string"!=typeof e)return!1;var t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},fromUint8Array:_,toUint8Array:O,extendString:L,extendUint8Array:B,extendBuiltins:function(){L(),B()},Base64:{}};return Object.keys(P).forEach((function(e){return P.Base64[e]=P[e]})),P}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{buffer:"buffer"}],117:[function(e,t,r){(function(e){(function(){var n="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Function]",a="[object Object]",l=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[s]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c[o]=c["[object Map]"]=c["[object Number]"]=c[a]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1;var u="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,f=u||d||Function("return this")(),p="object"==typeof r&&r&&!r.nodeType&&r,g=p&&"object"==typeof t&&t&&!t.nodeType&&t,m=g&&g.exports===p,y=m&&u.process,_=function(){try{var e=g&&g.require&&g.require("util").types;return e||y&&y.binding&&y.binding("util")}catch(e){}}(),b=_&&_.isTypedArray;function w(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var v,E,S,T=Array.prototype,k=Function.prototype,I=Object.prototype,R=f["__core-js_shared__"],A=k.toString,x=I.hasOwnProperty,C=(v=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",O=I.toString,D=A.call(Object),M=RegExp("^"+A.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=m?f.Buffer:void 0,U=f.Symbol,L=f.Uint8Array,B=N?N.allocUnsafe:void 0,P=(E=Object.getPrototypeOf,S=Object,function(e){return E(S(e))}),F=Object.create,j=I.propertyIsEnumerable,z=T.splice,H=U?U.toStringTag:void 0,q=function(){try{var e=pe(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Z=N?N.isBuffer:void 0,W=Math.max,V=Date.now,$=pe(f,"Map"),G=pe(Object,"create"),Y=function(){function e(){}return function(t){if(!Ie(t))return{};if(F)return F(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function X(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function K(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function J(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Q(e){var t=this.__data__=new K(e);this.size=t.size}function ee(e,t){var r=ve(e),n=!r&&we(e),i=!r&&!n&&Se(e),s=!r&&!n&&!i&&Ae(e),o=r||n||i||s,a=o?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=a.length;for(var h in e)!t&&!x.call(e,h)||o&&("length"==h||i&&("offset"==h||"parent"==h)||s&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||ge(h,l))||a.push(h);return a}function te(e,t,r){(void 0!==r&&!be(e[t],r)||void 0===r&&!(t in e))&&ie(e,t,r)}function re(e,t,r){var n=e[t];x.call(e,t)&&be(n,r)&&(void 0!==r||t in e)||ie(e,t,r)}function ne(e,t){for(var r=e.length;r--;)if(be(e[r][0],t))return r;return-1}function ie(e,t,r){"__proto__"==t&&q?q(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}X.prototype.clear=function(){this.__data__=G?G(null):{},this.size=0},X.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},X.prototype.get=function(e){var t=this.__data__;if(G){var r=t[e];return r===n?void 0:r}return x.call(t,e)?t[e]:void 0},X.prototype.has=function(e){var t=this.__data__;return G?void 0!==t[e]:x.call(t,e)},X.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=G&&void 0===t?n:t,this},K.prototype.clear=function(){this.__data__=[],this.size=0},K.prototype.delete=function(e){var t=this.__data__,r=ne(t,e);return!(r<0)&&(r==t.length-1?t.pop():z.call(t,r,1),--this.size,!0)},K.prototype.get=function(e){var t=this.__data__,r=ne(t,e);return r<0?void 0:t[r][1]},K.prototype.has=function(e){return ne(this.__data__,e)>-1},K.prototype.set=function(e,t){var r=this.__data__,n=ne(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},J.prototype.clear=function(){this.size=0,this.__data__={hash:new X,map:new($||K),string:new X}},J.prototype.delete=function(e){var t=fe(this,e).delete(e);return this.size-=t?1:0,t},J.prototype.get=function(e){return fe(this,e).get(e)},J.prototype.has=function(e){return fe(this,e).has(e)},J.prototype.set=function(e,t){var r=fe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Q.prototype.clear=function(){this.__data__=new K,this.size=0},Q.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Q.prototype.get=function(e){return this.__data__.get(e)},Q.prototype.has=function(e){return this.__data__.has(e)},Q.prototype.set=function(e,t){var r=this.__data__;if(r instanceof K){var n=r.__data__;if(!$||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new J(n)}return r.set(e,t),this.size=r.size,this};var se,oe=function(e,t,r){for(var n=-1,i=Object(e),s=r(e),o=s.length;o--;){var a=s[se?o:++n];if(!1===t(i[a],a,i))break}return e};function ae(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":H&&H in Object(e)?function(e){var t=x.call(e,H),r=e[H];try{e[H]=void 0;var n=!0}catch(e){}var i=O.call(e);n&&(t?e[H]=r:delete e[H]);return i}(e):function(e){return O.call(e)}(e)}function le(e){return Re(e)&&ae(e)==s}function he(e){return!(!Ie(e)||function(e){return!!C&&C in e}(e))&&(Te(e)?M:l).test(function(e){if(null!=e){try{return A.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function ce(e){if(!Ie(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=me(e),r=[];for(var n in e)("constructor"!=n||!t&&x.call(e,n))&&r.push(n);return r}function ue(e,t,r,n,i){e!==t&&oe(t,(function(s,o){if(i||(i=new Q),Ie(s))!function(e,t,r,n,i,s,o){var l=ye(e,r),h=ye(t,r),c=o.get(h);if(c)return void te(e,r,c);var u=s?s(l,h,r+"",e,t,o):void 0,d=void 0===u;if(d){var f=ve(h),p=!f&&Se(h),g=!f&&!p&&Ae(h);u=h,f||p||g?ve(l)?u=l:Re(w=l)&&Ee(w)?u=function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(l):p?(d=!1,u=function(e,t){if(t)return e.slice();var r=e.length,n=B?B(r):new e.constructor(r);return e.copy(n),n}(h,!0)):g?(d=!1,m=h,y=!0?(_=m.buffer,b=new _.constructor(_.byteLength),new L(b).set(new L(_)),b):m.buffer,u=new m.constructor(y,m.byteOffset,m.length)):u=[]:function(e){if(!Re(e)||ae(e)!=a)return!1;var t=P(e);if(null===t)return!0;var r=x.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&A.call(r)==D}(h)||we(h)?(u=l,we(l)?u=function(e){return function(e,t,r,n){var i=!r;r||(r={});var s=-1,o=t.length;for(;++s<o;){var a=t[s],l=n?n(r[a],e[a],a,r,e):void 0;void 0===l&&(l=e[a]),i?ie(r,a,l):re(r,a,l)}return r}(e,xe(e))}(l):Ie(l)&&!Te(l)||(u=function(e){return"function"!=typeof e.constructor||me(e)?{}:Y(P(e))}(h))):d=!1}var m,y,_,b;var w;d&&(o.set(h,u),i(u,h,n,s,o),o.delete(h));te(e,r,u)}(e,t,o,r,ue,n,i);else{var l=n?n(ye(e,o),s,o+"",e,t,i):void 0;void 0===l&&(l=s),te(e,o,l)}}),xe)}function de(e,t){return _e(function(e,t,r){return t=W(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=W(n.length-t,0),o=Array(s);++i<s;)o[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(o),w(e,this,a)}}(e,t,De),e+"")}function fe(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function pe(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return he(r)?r:void 0}function ge(e,t){var r=typeof e;return!!(t=null==t?i:t)&&("number"==r||"symbol"!=r&&h.test(e))&&e>-1&&e%1==0&&e<t}function me(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||I)}function ye(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var _e=function(e){var t=0,r=0;return function(){var n=V(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(q?function(e,t){return q(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:De);function be(e,t){return e===t||e!=e&&t!=t}var we=le(function(){return arguments}())?le:function(e){return Re(e)&&x.call(e,"callee")&&!j.call(e,"callee")},ve=Array.isArray;function Ee(e){return null!=e&&ke(e.length)&&!Te(e)}var Se=Z||function(){return!1};function Te(e){if(!Ie(e))return!1;var t=ae(e);return t==o||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ke(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Ie(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Re(e){return null!=e&&"object"==typeof e}var Ae=b?function(e){return function(t){return e(t)}}(b):function(e){return Re(e)&&ke(e.length)&&!!c[ae(e)]};function xe(e){return Ee(e)?ee(e,!0):ce(e)}var Ce,Oe=(Ce=function(e,t,r){ue(e,t,r)},de((function(e,t){var r=-1,n=t.length,i=n>1?t[n-1]:void 0,s=n>2?t[2]:void 0;for(i=Ce.length>3&&"function"==typeof i?(n--,i):void 0,s&&function(e,t,r){if(!Ie(r))return!1;var n=typeof t;return!!("number"==n?Ee(r)&&ge(t,r.length):"string"==n&&t in r)&&be(r[t],e)}(t[0],t[1],s)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var o=t[r];o&&Ce(e,o,r,i)}return e})));function De(e){return e}t.exports=Oe}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],118:[function(e,t,r){
/**
 * @license long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/long.js for details
 */
!function(r,n){"function"==typeof define&&define.amd?define([],n):"function"==typeof e&&"object"==typeof t&&t&&t.exports?t.exports=n():(r.dcodeIO=r.dcodeIO||{}).Long=n()}(this,(function(){"use strict";function e(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function t(e){return!0===(e&&e.__isLong__)}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=t;var r={},n={};function i(e,t){var i,s,a;return t?(a=0<=(e>>>=0)&&e<256)&&(s=n[e])?s:(i=o(e,(0|e)<0?-1:0,!0),a&&(n[e]=i),i):(a=-128<=(e|=0)&&e<128)&&(s=r[e])?s:(i=o(e,e<0?-1:0,!1),a&&(r[e]=i),i)}function s(e,t){if(isNaN(e)||!isFinite(e))return t?g:p;if(t){if(e<0)return g;if(e>=u)return w}else{if(e<=-d)return v;if(e+1>=d)return b}return e<0?s(-e,t).neg():o(e%c|0,e/c|0,t)}function o(t,r,n){return new e(t,r,n)}e.fromInt=i,e.fromNumber=s,e.fromBits=o;var a=Math.pow;function l(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return p;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return l(e.substring(1),t,r).neg();for(var i=s(a(r,8)),o=p,h=0;h<e.length;h+=8){var c=Math.min(8,e.length-h),u=parseInt(e.substring(h,h+c),r);if(c<8){var d=s(a(r,c));o=o.mul(d).add(s(u))}else o=(o=o.mul(i)).add(s(u))}return o.unsigned=t,o}function h(t){return t instanceof e?t:"number"==typeof t?s(t):"string"==typeof t?l(t):o(t.low,t.high,t.unsigned)}e.fromString=l,e.fromValue=h;var c=4294967296,u=c*c,d=u/2,f=i(1<<24),p=i(0);e.ZERO=p;var g=i(0,!0);e.UZERO=g;var m=i(1);e.ONE=m;var y=i(1,!0);e.UONE=y;var _=i(-1);e.NEG_ONE=_;var b=o(-1,2147483647,!1);e.MAX_VALUE=b;var w=o(-1,-1,!0);e.MAX_UNSIGNED_VALUE=w;var v=o(0,-2147483648,!1);e.MIN_VALUE=v;var E=e.prototype;return E.toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*c+(this.low>>>0):this.high*c+(this.low>>>0)},E.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(v)){var t=s(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=s(a(e,6),this.unsigned),o=this,l="";;){var h=o.div(i),c=(o.sub(h.mul(i)).toInt()>>>0).toString(e);if((o=h).isZero())return c+l;for(;c.length<6;)c="0"+c;l=""+c+l}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){if(this.isNegative())return this.eq(v)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},E.isZero=function(){return 0===this.high&&0===this.low},E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return 1==(1&this.low)},E.isEven=function(){return 0==(1&this.low)},E.equals=function(e){return t(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},E.eq=E.equals,E.notEquals=function(e){return!this.eq(e)},E.neq=E.notEquals,E.lessThan=function(e){return this.comp(e)<0},E.lt=E.lessThan,E.lessThanOrEqual=function(e){return this.comp(e)<=0},E.lte=E.lessThanOrEqual,E.greaterThan=function(e){return this.comp(e)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(e){return this.comp(e)>=0},E.gte=E.greaterThanOrEqual,E.compare=function(e){if(t(e)||(e=h(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(v)?v:this.not().add(m)},E.neg=E.negate,E.add=function(e){t(e)||(e=h(e));var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,s=65535&this.low,a=e.high>>>16,l=65535&e.high,c=e.low>>>16,u=0,d=0,f=0,p=0;return f+=(p+=s+(65535&e.low))>>>16,d+=(f+=i+c)>>>16,u+=(d+=n+l)>>>16,u+=r+a,o((f&=65535)<<16|(p&=65535),(u&=65535)<<16|(d&=65535),this.unsigned)},E.subtract=function(e){return t(e)||(e=h(e)),this.add(e.neg())},E.sub=E.subtract,E.multiply=function(e){if(this.isZero())return p;if(t(e)||(e=h(e)),e.isZero())return p;if(this.eq(v))return e.isOdd()?v:p;if(e.eq(v))return this.isOdd()?v:p;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(f)&&e.lt(f))return s(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,a=65535&this.low,l=e.high>>>16,c=65535&e.high,u=e.low>>>16,d=65535&e.low,g=0,m=0,y=0,_=0;return y+=(_+=a*d)>>>16,m+=(y+=i*d)>>>16,y&=65535,m+=(y+=a*u)>>>16,g+=(m+=n*d)>>>16,m&=65535,g+=(m+=i*u)>>>16,m&=65535,g+=(m+=a*c)>>>16,g+=r*d+n*u+i*c+a*l,o((y&=65535)<<16|(_&=65535),(g&=65535)<<16|(m&=65535),this.unsigned)},E.mul=E.multiply,E.divide=function(e){if(t(e)||(e=h(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?g:p;var r,n,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return y;i=g}else{if(this.eq(v))return e.eq(m)||e.eq(_)?v:e.eq(v)?m:(r=this.shr(1).div(e).shl(1)).eq(p)?e.isNegative()?m:_:(n=this.sub(e.mul(r)),i=r.add(n.div(e)));if(e.eq(v))return this.unsigned?g:p;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=p}for(n=this;n.gte(e);){r=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(r)/Math.LN2),l=o<=48?1:a(2,o-48),c=s(r),u=c.mul(e);u.isNegative()||u.gt(n);)u=(c=s(r-=l,this.unsigned)).mul(e);c.isZero()&&(c=m),i=i.add(c),n=n.sub(u)}return i},E.div=E.divide,E.modulo=function(e){return t(e)||(e=h(e)),this.sub(this.div(e).mul(e))},E.mod=E.modulo,E.not=function(){return o(~this.low,~this.high,this.unsigned)},E.and=function(e){return t(e)||(e=h(e)),o(this.low&e.low,this.high&e.high,this.unsigned)},E.or=function(e){return t(e)||(e=h(e)),o(this.low|e.low,this.high|e.high,this.unsigned)},E.xor=function(e){return t(e)||(e=h(e)),o(this.low^e.low,this.high^e.high,this.unsigned)},E.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?o(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):o(0,this.low<<e-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?o(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):o(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),0===(e&=63))return this;var r=this.high;return e<32?o(this.low>>>e|r<<32-e,r>>>e,this.unsigned):o(32===e?r:r>>>e-32,0,this.unsigned)},E.shru=E.shiftRightUnsigned,E.toSigned=function(){return this.unsigned?o(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:o(this.low,this.high,!0)},E.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255]},E.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t]},e}))},{}],119:[function(e,t,r){var n=1e3,i=60*n,s=60*i,o=24*s,a=7*o,l=365.25*o;function h(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}t.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*l;case"weeks":case"week":case"w":return r*a;case"days":case"day":case"d":return r*o;case"hours":case"hour":case"hrs":case"hr":case"h":return r*s;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(e);if("number"===r&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return h(e,t,o,"day");if(t>=s)return h(e,t,s,"hour");if(t>=i)return h(e,t,i,"minute");if(t>=n)return h(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=s)return Math.round(e/s)+"h";if(t>=i)return Math.round(e/i)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],120:[function(e,t,r){"use strict";var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=e("./isArguments"),a=Object.prototype.propertyIsEnumerable,l=!a.call({toString:null},"toString"),h=a.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{u(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===s.call(e),n=o(e),a=t&&"[object String]"===s.call(e),d=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var p=h&&r;if(a&&e.length>0&&!i.call(e,0))for(var g=0;g<e.length;++g)d.push(String(g));if(n&&e.length>0)for(var m=0;m<e.length;++m)d.push(String(m));else for(var y in e)p&&"prototype"===y||!i.call(e,y)||d.push(String(y));if(l)for(var _=function(e){if("undefined"==typeof window||!f)return u(e);try{return u(e)}catch(e){return!1}}(e),b=0;b<c.length;++b)_&&"constructor"===c[b]||!i.call(e,c[b])||d.push(c[b]);return d}}t.exports=n},{"./isArguments":122}],121:[function(e,t,r){"use strict";var n=Array.prototype.slice,i=e("./isArguments"),s=Object.keys,o=s?function(e){return s(e)}:e("./implementation"),a=Object.keys;o.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return i(e)?a(n.call(e)):a(e)}):Object.keys=o;return Object.keys||o},t.exports=o},{"./implementation":120,"./isArguments":122}],122:[function(e,t,r){"use strict";var n=Object.prototype.toString;t.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},{}],123:[function(e,t,r){"use strict";var n=e("object-keys"),i=e("has-symbols/shams")(),s=e("call-bind/callBound"),o=Object,a=s("Array.prototype.push"),l=s("Object.prototype.propertyIsEnumerable"),h=i?Object.getOwnPropertySymbols:null;t.exports=function(e,t){if(null==e)throw new TypeError("target must be an object");var r=o(e);if(1===arguments.length)return r;for(var s=1;s<arguments.length;++s){var c=o(arguments[s]),u=n(c),d=i&&(Object.getOwnPropertySymbols||h);if(d)for(var f=d(c),p=0;p<f.length;++p){var g=f[p];l(c,g)&&a(u,g)}for(var m=0;m<u.length;++m){var y=u[m];if(l(c,y)){var _=c[y];r[y]=_}}}return r}},{"call-bind/callBound":57,"has-symbols/shams":106,"object-keys":121}],124:[function(e,t,r){"use strict";var n=e("./implementation");t.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var i=Object.assign({},r),s="";for(var o in i)s+=o;return e!==s}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?n:Object.assign:n}},{"./implementation":123}],125:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var s={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){var t,r,n,i,s,o;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(o=new Uint8Array(n),i=0,t=0,r=e.length;t<r;t++)s=e[t],o.set(s,i),i+=s.length;return o}},o={arraySet:function(e,t,r,n,i){for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,s)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(n)},{}],126:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){for(var i=65535&e|0,s=e>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{s=s+(i=i+t[n++]|0)|0}while(--o);i%=65521,s%=65521}return i|s<<16|0}},{}],127:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],128:[function(e,t,r){"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,i){var s=n,o=i+r;e^=-1;for(var a=i;a<o;a++)e=e>>>8^s[255&(e^t[a])];return-1^e}},{}],129:[function(e,t,r){"use strict";var n,i=e("../utils/common"),s=e("./trees"),o=e("./adler32"),a=e("./crc32"),l=e("./messages"),h=-2,c=258,u=262,d=103,f=113,p=666;function g(e,t){return e.msg=l[t],t}function m(e){return(e<<1)-(e>4?9:0)}function y(e){for(var t=e.length;--t>=0;)e[t]=0}function _(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function b(e,t){s._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,_(e.strm)}function w(e,t){e.pending_buf[e.pending++]=t}function v(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function E(e,t){var r,n,i=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-u?e.strstart-(e.w_size-u):0,h=e.window,d=e.w_mask,f=e.prev,p=e.strstart+c,g=h[s+o-1],m=h[s+o];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(h[(r=t)+o]===m&&h[r+o-1]===g&&h[r]===h[s]&&h[++r]===h[s+1]){s+=2,r++;do{}while(h[++s]===h[++r]&&h[++s]===h[++r]&&h[++s]===h[++r]&&h[++s]===h[++r]&&h[++s]===h[++r]&&h[++s]===h[++r]&&h[++s]===h[++r]&&h[++s]===h[++r]&&s<p);if(n=c-(p-s),s=p-c,n>o){if(e.match_start=t,o=n,n>=a)break;g=h[s+o-1],m=h[s+o]}}}while((t=f[t&d])>l&&0!=--i);return o<=e.lookahead?o:e.lookahead}function S(e){var t,r,n,s,l,h,c,d,f,p,g=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-u)){i.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=g?n-g:0}while(--r);t=r=g;do{n=e.prev[--t],e.prev[t]=n>=g?n-g:0}while(--r);s+=g}if(0===e.strm.avail_in)break;if(h=e.strm,c=e.window,d=e.strstart+e.lookahead,f=s,p=void 0,(p=h.avail_in)>f&&(p=f),r=0===p?0:(h.avail_in-=p,i.arraySet(c,h.input,h.next_in,p,d),1===h.state.wrap?h.adler=o(h.adler,c,p,d):2===h.state.wrap&&(h.adler=a(h.adler,c,p,d)),h.next_in+=p,h.total_in+=p,p),e.lookahead+=r,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<u&&0!==e.strm.avail_in)}function T(e,t){for(var r,n;;){if(e.lookahead<u){if(S(e),e.lookahead<u&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-u&&(e.match_length=E(e,r)),e.match_length>=3)if(n=s._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function k(e,t){for(var r,n,i;;){if(e.lookahead<u){if(S(e),e.lookahead<u&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-u&&(e.match_length=E(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=s._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function I(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function R(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),y(this.dyn_ltree),y(this.dyn_dtree),y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function A(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:f,e.adler=2===t.wrap?0:1,t.last_flush=0,s._tr_init(t),0):g(e,h)}function x(e){var t,r=A(e);return 0===r&&((t=e.state).window_size=2*t.w_size,y(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r}function C(e,t,r,n,s,o){if(!e)return h;var a=1;if(-1===t&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),s<1||s>9||8!==r||n<8||n>15||t<0||t>9||o<0||o>4)return g(e,h);8===n&&(n=9);var l=new R;return e.state=l,l.strm=e,l.wrap=a,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=r,x(e)}n=[new I(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(S(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-u&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new I(4,4,8,4,T),new I(4,5,16,8,T),new I(4,6,32,32,T),new I(4,4,16,16,k),new I(8,16,32,32,k),new I(8,16,128,128,k),new I(8,32,128,256,k),new I(32,128,258,1024,k),new I(32,258,258,4096,k)],r.deflateInit=function(e,t){return C(e,t,8,15,8,0)},r.deflateInit2=C,r.deflateReset=x,r.deflateResetKeep=A,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?h:(e.state.gzhead=t,0):h},r.deflate=function(e,t){var r,i,o,l;if(!e||!e.state||t>5||t<0)return e?g(e,h):h;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===p&&4!==t)return g(e,0===e.avail_out?-5:h);if(i.strm=e,r=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,w(i,31),w(i,139),w(i,8),i.gzhead?(w(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),w(i,255&i.gzhead.time),w(i,i.gzhead.time>>8&255),w(i,i.gzhead.time>>16&255),w(i,i.gzhead.time>>24&255),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(w(i,255&i.gzhead.extra.length),w(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(w(i,0),w(i,0),w(i,0),w(i,0),w(i,0),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,3),i.status=f);else{var u=8+(i.w_bits-8<<4)<<8;u|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(u|=32),u+=31-u%31,i.status=f,v(i,u),0!==i.strstart&&(v(i,e.adler>>>16),v(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),_(e),o=i.pending,i.pending!==i.pending_buf_size));)w(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),_(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,w(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),_(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,w(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.status=d)}else i.status=d;if(i.status===d&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&_(e),i.pending+2<=i.pending_buf_size&&(w(i,255&e.adler),w(i,e.adler>>8&255),e.adler=0,i.status=f)):i.status=f),0!==i.pending){if(_(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&m(t)<=m(r)&&4!==t)return g(e,-5);if(i.status===p&&0!==e.avail_in)return g(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&i.status!==p){var E=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(S(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var r,n,i,o,a=e.window;;){if(e.lookahead<=c){if(S(e),e.lookahead<=c&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=a[i=e.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){o=e.strstart+c;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);e.match_length=c-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=s._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):n[i.level].func(i,t);if(3!==E&&4!==E||(i.status=p),1===E||3===E)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===E&&(1===t?s._tr_align(i):5!==t&&(s._tr_stored_block(i,0,0,!1),3===t&&(y(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),_(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(w(i,255&e.adler),w(i,e.adler>>8&255),w(i,e.adler>>16&255),w(i,e.adler>>24&255),w(i,255&e.total_in),w(i,e.total_in>>8&255),w(i,e.total_in>>16&255),w(i,e.total_in>>24&255)):(v(i,e.adler>>>16),v(i,65535&e.adler)),_(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},r.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==d&&t!==f&&t!==p?g(e,h):(e.state=null,t===f?g(e,-3):0):h},r.deflateSetDictionary=function(e,t){var r,n,s,a,l,c,u,d,f=t.length;if(!e||!e.state)return h;if(2===(a=(r=e.state).wrap)||1===a&&42!==r.status||r.lookahead)return h;for(1===a&&(e.adler=o(e.adler,t,f,0)),r.wrap=0,f>=r.w_size&&(0===a&&(y(r.head),r.strstart=0,r.block_start=0,r.insert=0),d=new i.Buf8(r.w_size),i.arraySet(d,t,f-r.w_size,r.w_size,0),t=d,f=r.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=f,e.next_in=0,e.input=t,S(r);r.lookahead>=3;){n=r.strstart,s=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--s);r.strstart=n,r.lookahead=2,S(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,r.wrap=a,0},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":125,"./adler32":126,"./crc32":128,"./messages":133,"./trees":134}],130:[function(e,t,r){"use strict";t.exports=function(e,t){var r,n,i,s,o,a,l,h,c,u,d,f,p,g,m,y,_,b,w,v,E,S,T,k,I;r=e.state,n=e.next_in,k=e.input,i=n+(e.avail_in-5),s=e.next_out,I=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),l=r.dmax,h=r.wsize,c=r.whave,u=r.wnext,d=r.window,f=r.hold,p=r.bits,g=r.lencode,m=r.distcode,y=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;e:do{p<15&&(f+=k[n++]<<p,p+=8,f+=k[n++]<<p,p+=8),b=g[f&y];t:for(;;){if(f>>>=w=b>>>24,p-=w,0===(w=b>>>16&255))I[s++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=g[(65535&b)+(f&(1<<w)-1)];continue t}if(32&w){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}v=65535&b,(w&=15)&&(p<w&&(f+=k[n++]<<p,p+=8),v+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=k[n++]<<p,p+=8,f+=k[n++]<<p,p+=8),b=m[f&_];r:for(;;){if(f>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=m[(65535&b)+(f&(1<<w)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(E=65535&b,p<(w&=15)&&(f+=k[n++]<<p,(p+=8)<w&&(f+=k[n++]<<p,p+=8)),(E+=f&(1<<w)-1)>l){e.msg="invalid distance too far back",r.mode=30;break e}if(f>>>=w,p-=w,E>(w=s-o)){if((w=E-w)>c&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(S=0,T=d,0===u){if(S+=h-w,w<v){v-=w;do{I[s++]=d[S++]}while(--w);S=s-E,T=I}}else if(u<w){if(S+=h+u-w,(w-=u)<v){v-=w;do{I[s++]=d[S++]}while(--w);if(S=0,u<v){v-=w=u;do{I[s++]=d[S++]}while(--w);S=s-E,T=I}}}else if(S+=u-w,w<v){v-=w;do{I[s++]=d[S++]}while(--w);S=s-E,T=I}for(;v>2;)I[s++]=T[S++],I[s++]=T[S++],I[s++]=T[S++],v-=3;v&&(I[s++]=T[S++],v>1&&(I[s++]=T[S++]))}else{S=s-E;do{I[s++]=I[S++],I[s++]=I[S++],I[s++]=I[S++],v-=3}while(v>2);v&&(I[s++]=I[S++],v>1&&(I[s++]=I[S++]))}break}}break}}while(n<i&&s<a);n-=v=p>>3,f&=(1<<(p-=v<<3))-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=s<a?a-s+257:257-(s-a),r.hold=f,r.bits=p}},{}],131:[function(e,t,r){"use strict";var n=e("../utils/common"),i=e("./adler32"),s=e("./crc32"),o=e("./inffast"),a=e("./inftrees"),l=-2,h=12,c=30;function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(852),t.distcode=t.distdyn=new n.Buf32(592),t.sane=1,t.back=-1,0):l}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,f(e)):l}function g(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?l:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,p(e))):l}function m(e,t){var r,n;return e?(n=new d,e.state=n,n.window=null,0!==(r=g(e,t))&&(e.state=null),r):l}var y,_,b=!0;function w(e){if(b){var t;for(y=new n.Buf32(512),_=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,y,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,_,0,e.work,{bits:5}),b=!1}e.lencode=y,e.lenbits=9,e.distcode=_,e.distbits=5}function v(e,t,r,i){var s,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),i>=o.wsize?(n.arraySet(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((s=o.wsize-o.wnext)>i&&(s=i),n.arraySet(o.window,t,r-i,s,o.wnext),(i-=s)?(n.arraySet(o.window,t,r-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}r.inflateReset=p,r.inflateReset2=g,r.inflateResetKeep=f,r.inflateInit=function(e){return m(e,15)},r.inflateInit2=m,r.inflate=function(e,t){var r,d,f,p,g,m,y,_,b,E,S,T,k,I,R,A,x,C,O,D,M,N,U,L,B=0,P=new n.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;(r=e.state).mode===h&&(r.mode=13),g=e.next_out,f=e.output,y=e.avail_out,p=e.next_in,d=e.input,m=e.avail_in,_=r.hold,b=r.bits,E=m,S=y,N=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;b<16;){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}if(2&r.wrap&&35615===_){r.check=0,P[0]=255&_,P[1]=_>>>8&255,r.check=s(r.check,P,2,0),_=0,b=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&_)<<8)+(_>>8))%31){e.msg="incorrect header check",r.mode=c;break}if(8!=(15&_)){e.msg="unknown compression method",r.mode=c;break}if(b-=4,M=8+(15&(_>>>=4)),0===r.wbits)r.wbits=M;else if(M>r.wbits){e.msg="invalid window size",r.mode=c;break}r.dmax=1<<M,e.adler=r.check=1,r.mode=512&_?10:h,_=0,b=0;break;case 2:for(;b<16;){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}if(r.flags=_,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=c;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=c;break}r.head&&(r.head.text=_>>8&1),512&r.flags&&(P[0]=255&_,P[1]=_>>>8&255,r.check=s(r.check,P,2,0)),_=0,b=0,r.mode=3;case 3:for(;b<32;){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}r.head&&(r.head.time=_),512&r.flags&&(P[0]=255&_,P[1]=_>>>8&255,P[2]=_>>>16&255,P[3]=_>>>24&255,r.check=s(r.check,P,4,0)),_=0,b=0,r.mode=4;case 4:for(;b<16;){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}r.head&&(r.head.xflags=255&_,r.head.os=_>>8),512&r.flags&&(P[0]=255&_,P[1]=_>>>8&255,r.check=s(r.check,P,2,0)),_=0,b=0,r.mode=5;case 5:if(1024&r.flags){for(;b<16;){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}r.length=_,r.head&&(r.head.extra_len=_),512&r.flags&&(P[0]=255&_,P[1]=_>>>8&255,r.check=s(r.check,P,2,0)),_=0,b=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((T=r.length)>m&&(T=m),T&&(r.head&&(M=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,d,p,T,M)),512&r.flags&&(r.check=s(r.check,d,T,p)),m-=T,p+=T,r.length-=T),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===m)break e;T=0;do{M=d[p+T++],r.head&&M&&r.length<65536&&(r.head.name+=String.fromCharCode(M))}while(M&&T<m);if(512&r.flags&&(r.check=s(r.check,d,T,p)),m-=T,p+=T,M)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===m)break e;T=0;do{M=d[p+T++],r.head&&M&&r.length<65536&&(r.head.comment+=String.fromCharCode(M))}while(M&&T<m);if(512&r.flags&&(r.check=s(r.check,d,T,p)),m-=T,p+=T,M)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;b<16;){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}if(_!==(65535&r.check)){e.msg="header crc mismatch",r.mode=c;break}_=0,b=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=h;break;case 10:for(;b<32;){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}e.adler=r.check=u(_),_=0,b=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=g,e.avail_out=y,e.next_in=p,e.avail_in=m,r.hold=_,r.bits=b,2;e.adler=r.check=1,r.mode=h;case h:if(5===t||6===t)break e;case 13:if(r.last){_>>>=7&b,b-=7&b,r.mode=27;break}for(;b<3;){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}switch(r.last=1&_,b-=1,3&(_>>>=1)){case 0:r.mode=14;break;case 1:if(w(r),r.mode=20,6===t){_>>>=2,b-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=c}_>>>=2,b-=2;break;case 14:for(_>>>=7&b,b-=7&b;b<32;){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}if((65535&_)!=(_>>>16^65535)){e.msg="invalid stored block lengths",r.mode=c;break}if(r.length=65535&_,_=0,b=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(T=r.length){if(T>m&&(T=m),T>y&&(T=y),0===T)break e;n.arraySet(f,d,p,T,g),m-=T,p+=T,y-=T,g+=T,r.length-=T;break}r.mode=h;break;case 17:for(;b<14;){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}if(r.nlen=257+(31&_),_>>>=5,b-=5,r.ndist=1+(31&_),_>>>=5,b-=5,r.ncode=4+(15&_),_>>>=4,b-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=c;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;b<3;){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}r.lens[F[r.have++]]=7&_,_>>>=3,b-=3}for(;r.have<19;)r.lens[F[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,U={bits:r.lenbits},N=a(0,r.lens,0,19,r.lencode,0,r.work,U),r.lenbits=U.bits,N){e.msg="invalid code lengths set",r.mode=c;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;A=(B=r.lencode[_&(1<<r.lenbits)-1])>>>16&255,x=65535&B,!((R=B>>>24)<=b);){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}if(x<16)_>>>=R,b-=R,r.lens[r.have++]=x;else{if(16===x){for(L=R+2;b<L;){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}if(_>>>=R,b-=R,0===r.have){e.msg="invalid bit length repeat",r.mode=c;break}M=r.lens[r.have-1],T=3+(3&_),_>>>=2,b-=2}else if(17===x){for(L=R+3;b<L;){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}b-=R,M=0,T=3+(7&(_>>>=R)),_>>>=3,b-=3}else{for(L=R+7;b<L;){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}b-=R,M=0,T=11+(127&(_>>>=R)),_>>>=7,b-=7}if(r.have+T>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=c;break}for(;T--;)r.lens[r.have++]=M}}if(r.mode===c)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=c;break}if(r.lenbits=9,U={bits:r.lenbits},N=a(1,r.lens,0,r.nlen,r.lencode,0,r.work,U),r.lenbits=U.bits,N){e.msg="invalid literal/lengths set",r.mode=c;break}if(r.distbits=6,r.distcode=r.distdyn,U={bits:r.distbits},N=a(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,U),r.distbits=U.bits,N){e.msg="invalid distances set",r.mode=c;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(m>=6&&y>=258){e.next_out=g,e.avail_out=y,e.next_in=p,e.avail_in=m,r.hold=_,r.bits=b,o(e,S),g=e.next_out,f=e.output,y=e.avail_out,p=e.next_in,d=e.input,m=e.avail_in,_=r.hold,b=r.bits,r.mode===h&&(r.back=-1);break}for(r.back=0;A=(B=r.lencode[_&(1<<r.lenbits)-1])>>>16&255,x=65535&B,!((R=B>>>24)<=b);){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}if(A&&0==(240&A)){for(C=R,O=A,D=x;A=(B=r.lencode[D+((_&(1<<C+O)-1)>>C)])>>>16&255,x=65535&B,!(C+(R=B>>>24)<=b);){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}_>>>=C,b-=C,r.back+=C}if(_>>>=R,b-=R,r.back+=R,r.length=x,0===A){r.mode=26;break}if(32&A){r.back=-1,r.mode=h;break}if(64&A){e.msg="invalid literal/length code",r.mode=c;break}r.extra=15&A,r.mode=22;case 22:if(r.extra){for(L=r.extra;b<L;){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}r.length+=_&(1<<r.extra)-1,_>>>=r.extra,b-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;A=(B=r.distcode[_&(1<<r.distbits)-1])>>>16&255,x=65535&B,!((R=B>>>24)<=b);){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}if(0==(240&A)){for(C=R,O=A,D=x;A=(B=r.distcode[D+((_&(1<<C+O)-1)>>C)])>>>16&255,x=65535&B,!(C+(R=B>>>24)<=b);){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}_>>>=C,b-=C,r.back+=C}if(_>>>=R,b-=R,r.back+=R,64&A){e.msg="invalid distance code",r.mode=c;break}r.offset=x,r.extra=15&A,r.mode=24;case 24:if(r.extra){for(L=r.extra;b<L;){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}r.offset+=_&(1<<r.extra)-1,_>>>=r.extra,b-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=c;break}r.mode=25;case 25:if(0===y)break e;if(T=S-y,r.offset>T){if((T=r.offset-T)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=c;break}T>r.wnext?(T-=r.wnext,k=r.wsize-T):k=r.wnext-T,T>r.length&&(T=r.length),I=r.window}else I=f,k=g-r.offset,T=r.length;T>y&&(T=y),y-=T,r.length-=T;do{f[g++]=I[k++]}while(--T);0===r.length&&(r.mode=21);break;case 26:if(0===y)break e;f[g++]=r.length,y--,r.mode=21;break;case 27:if(r.wrap){for(;b<32;){if(0===m)break e;m--,_|=d[p++]<<b,b+=8}if(S-=y,e.total_out+=S,r.total+=S,S&&(e.adler=r.check=r.flags?s(r.check,f,S,g-S):i(r.check,f,S,g-S)),S=y,(r.flags?_:u(_))!==r.check){e.msg="incorrect data check",r.mode=c;break}_=0,b=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;b<32;){if(0===m)break e;m--,_+=d[p++]<<b,b+=8}if(_!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=c;break}_=0,b=0}r.mode=29;case 29:N=1;break e;case c:N=-3;break e;case 31:return-4;case 32:default:return l}return e.next_out=g,e.avail_out=y,e.next_in=p,e.avail_in=m,r.hold=_,r.bits=b,(r.wsize||S!==e.avail_out&&r.mode<c&&(r.mode<27||4!==t))&&v(e,e.output,e.next_out,S-e.avail_out)?(r.mode=31,-4):(E-=e.avail_in,S-=e.avail_out,e.total_in+=E,e.total_out+=S,r.total+=S,r.wrap&&S&&(e.adler=r.check=r.flags?s(r.check,f,S,e.next_out-S):i(r.check,f,S,e.next_out-S)),e.data_type=r.bits+(r.last?64:0)+(r.mode===h?128:0)+(20===r.mode||15===r.mode?256:0),(0===E&&0===S||4===t)&&0===N&&(N=-5),N)},r.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},r.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?l:(r.head=t,t.done=!1,0):l},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?l:11===r.mode&&i(1,t,n,0)!==r.check?-3:v(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,0):l},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":125,"./adler32":126,"./crc32":128,"./inffast":130,"./inftrees":132}],132:[function(e,t,r){"use strict";var n=e("../utils/common"),i=15,s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,h,c,u,d,f){var p,g,m,y,_,b,w,v,E,S=f.bits,T=0,k=0,I=0,R=0,A=0,x=0,C=0,O=0,D=0,M=0,N=null,U=0,L=new n.Buf16(16),B=new n.Buf16(16),P=null,F=0;for(T=0;T<=i;T++)L[T]=0;for(k=0;k<h;k++)L[t[r+k]]++;for(A=S,R=i;R>=1&&0===L[R];R--);if(A>R&&(A=R),0===R)return c[u++]=20971520,c[u++]=20971520,f.bits=1,0;for(I=1;I<R&&0===L[I];I++);for(A<I&&(A=I),O=1,T=1;T<=i;T++)if(O<<=1,(O-=L[T])<0)return-1;if(O>0&&(0===e||1!==R))return-1;for(B[1]=0,T=1;T<i;T++)B[T+1]=B[T]+L[T];for(k=0;k<h;k++)0!==t[r+k]&&(d[B[t[r+k]]++]=k);if(0===e?(N=P=d,b=19):1===e?(N=s,U-=257,P=o,F-=257,b=256):(N=a,P=l,b=-1),M=0,k=0,T=I,_=u,x=A,C=0,m=-1,y=(D=1<<A)-1,1===e&&D>852||2===e&&D>592)return 1;for(;;){w=T-C,d[k]<b?(v=0,E=d[k]):d[k]>b?(v=P[F+d[k]],E=N[U+d[k]]):(v=96,E=0),p=1<<T-C,I=g=1<<x;do{c[_+(M>>C)+(g-=p)]=w<<24|v<<16|E|0}while(0!==g);for(p=1<<T-1;M&p;)p>>=1;if(0!==p?(M&=p-1,M+=p):M=0,k++,0==--L[T]){if(T===R)break;T=t[r+d[k]]}if(T>A&&(M&y)!==m){for(0===C&&(C=A),_+=I,O=1<<(x=T-C);x+C<R&&!((O-=L[x+C])<=0);)x++,O<<=1;if(D+=1<<x,1===e&&D>852||2===e&&D>592)return 1;c[m=M&y]=A<<24|x<<16|_-u|0}}return 0!==M&&(c[_+M]=T-C<<24|64<<16|0),f.bits=A,0}},{"../utils/common":125}],133:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],134:[function(e,t,r){"use strict";var n=e("../utils/common");function i(e){for(var t=e.length;--t>=0;)e[t]=0}var s=256,o=286,a=30,l=15,h=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=new Array(576);i(f);var p=new Array(60);i(p);var g=new Array(512);i(g);var m=new Array(256);i(m);var y=new Array(29);i(y);var _,b,w,v=new Array(a);function E(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function S(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function T(e){return e<256?g[e]:g[256+(e>>>7)]}function k(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function I(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,k(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function R(e,t,r){I(e,r[2*t],r[2*t+1])}function A(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function x(e,t,r){var n,i,s=new Array(16),o=0;for(n=1;n<=l;n++)s[n]=o=o+r[n-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=A(s[a]++,a))}}function C(e){var t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<a;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function O(e){e.bi_valid>8?k(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function D(e,t,r,n){var i=2*t,s=2*r;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function M(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&D(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!D(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function N(e,t,r){var n,i,o,a,l=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===n?R(e,i,t):(R(e,(o=m[i])+s+1,t),0!==(a=h[o])&&I(e,i-=y[o],a),R(e,o=T(--n),r),0!==(a=c[o])&&I(e,n-=v[o],a))}while(l<e.last_lit);R(e,256,t)}function U(e,t){var r,n,i,s=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,h=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<h;r++)0!==s[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=o[2*i+1]);for(t.max_code=c,r=e.heap_len>>1;r>=1;r--)M(e,s,r);i=h;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],M(e,s,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,s[2*i]=s[2*r]+s[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,s[2*r+1]=s[2*n+1]=i,e.heap[1]=i++,M(e,s,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,s,o,a,h=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,g=t.stat_desc.max_length,m=0;for(s=0;s<=l;s++)e.bl_count[s]=0;for(h[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(s=h[2*h[2*(n=e.heap[r])+1]+1]+1)>g&&(s=g,m++),h[2*n+1]=s,n>c||(e.bl_count[s]++,o=0,n>=p&&(o=f[n-p]),a=h[2*n],e.opt_len+=a*(s+o),d&&(e.static_len+=a*(u[2*n+1]+o)));if(0!==m){do{for(s=g-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[g]--,m-=2}while(m>0);for(s=g;0!==s;s--)for(n=e.bl_count[s];0!==n;)(i=e.heap[--r])>c||(h[2*i+1]!==s&&(e.opt_len+=(s-h[2*i+1])*h[2*i],h[2*i+1]=s),n--)}}(e,t),x(s,c,e.bl_count)}function L(e,t,r){var n,i,s=-1,o=t[1],a=0,l=7,h=4;for(0===o&&(l=138,h=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=t[2*(n+1)+1],++a<l&&i===o||(a<h?e.bl_tree[2*i]+=a:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,s=i,0===o?(l=138,h=3):i===o?(l=6,h=3):(l=7,h=4))}function B(e,t,r){var n,i,s=-1,o=t[1],a=0,l=7,h=4;for(0===o&&(l=138,h=3),n=0;n<=r;n++)if(i=o,o=t[2*(n+1)+1],!(++a<l&&i===o)){if(a<h)do{R(e,i,e.bl_tree)}while(0!=--a);else 0!==i?(i!==s&&(R(e,i,e.bl_tree),a--),R(e,16,e.bl_tree),I(e,a-3,2)):a<=10?(R(e,17,e.bl_tree),I(e,a-3,3)):(R(e,18,e.bl_tree),I(e,a-11,7));a=0,s=i,0===o?(l=138,h=3):i===o?(l=6,h=3):(l=7,h=4)}}i(v);var P=!1;function F(e,t,r,i){I(e,0+(i?1:0),3),function(e,t,r,i){O(e),i&&(k(e,r),k(e,~r)),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}r._tr_init=function(e){P||(!function(){var e,t,r,n,i,s=new Array(16);for(r=0,n=0;n<28;n++)for(y[n]=r,e=0;e<1<<h[n];e++)m[r++]=n;for(m[r-1]=n,i=0,n=0;n<16;n++)for(v[n]=i,e=0;e<1<<c[n];e++)g[i++]=n;for(i>>=7;n<a;n++)for(v[n]=i<<7,e=0;e<1<<c[n]-7;e++)g[256+i++]=n;for(t=0;t<=l;t++)s[t]=0;for(e=0;e<=143;)f[2*e+1]=8,e++,s[8]++;for(;e<=255;)f[2*e+1]=9,e++,s[9]++;for(;e<=279;)f[2*e+1]=7,e++,s[7]++;for(;e<=287;)f[2*e+1]=8,e++,s[8]++;for(x(f,287,s),e=0;e<a;e++)p[2*e+1]=5,p[2*e]=A(e,5);_=new E(f,h,257,o,l),b=new E(p,c,0,a,l),w=new E(new Array(0),u,0,19,7)}(),P=!0),e.l_desc=new S(e.dyn_ltree,_),e.d_desc=new S(e.dyn_dtree,b),e.bl_desc=new S(e.bl_tree,w),e.bi_buf=0,e.bi_valid=0,C(e)},r._tr_stored_block=F,r._tr_flush_block=function(e,t,r,n){var i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<s;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),U(e,e.l_desc),U(e,e.d_desc),a=function(e){var t;for(L(e,e.dyn_ltree,e.l_desc.max_code),L(e,e.dyn_dtree,e.d_desc.max_code),U(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==t?F(e,t,r,n):4===e.strategy||o===i?(I(e,2+(n?1:0),3),N(e,f,p)):(I(e,4+(n?1:0),3),function(e,t,r,n){var i;for(I(e,t-257,5),I(e,r-1,5),I(e,n-4,4),i=0;i<n;i++)I(e,e.bl_tree[2*d[i]+1],3);B(e,e.dyn_ltree,t-1),B(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),N(e,e.dyn_ltree,e.dyn_dtree)),C(e),n&&O(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(m[r]+s+1)]++,e.dyn_dtree[2*T(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){I(e,2,3),R(e,256,f),function(e){16===e.bi_valid?(k(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":125}],135:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],136:[function(e,t,r){"use strict";const{Deflate:n,deflate:i,deflateRaw:s,gzip:o}=e("./lib/deflate"),{Inflate:a,inflate:l,inflateRaw:h,ungzip:c}=e("./lib/inflate"),u=e("./lib/zlib/constants");t.exports.Deflate=n,t.exports.deflate=i,t.exports.deflateRaw=s,t.exports.gzip=o,t.exports.Inflate=a,t.exports.inflate=l,t.exports.inflateRaw=h,t.exports.ungzip=c,t.exports.constants=u},{"./lib/deflate":137,"./lib/inflate":138,"./lib/zlib/constants":142}],137:[function(e,t,r){"use strict";const n=e("./zlib/deflate"),i=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/messages"),a=e("./zlib/zstream"),l=Object.prototype.toString,{Z_NO_FLUSH:h,Z_SYNC_FLUSH:c,Z_FULL_FLUSH:u,Z_FINISH:d,Z_OK:f,Z_STREAM_END:p,Z_DEFAULT_COMPRESSION:g,Z_DEFAULT_STRATEGY:m,Z_DEFLATED:y}=e("./zlib/constants");function _(e){this.options=i.assign({level:g,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:m},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;let r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==f)throw new Error(o[r]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,r=n.deflateSetDictionary(this.strm,e),r!==f)throw new Error(o[r]);this._dict_set=!0}}function b(e,t){const r=new _(t);if(r.push(e,!0),r.err)throw r.msg||o[r.err];return r.result}_.prototype.push=function(e,t){const r=this.strm,i=this.options.chunkSize;let o,a;if(this.ended)return!1;for(a=t===~~t?t:!0===t?d:h,"string"==typeof e?r.input=s.string2buf(e):"[object ArrayBuffer]"===l.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(a===c||a===u)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(o=n.deflate(r,a),o===p)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),o=n.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===f;if(0!==r.avail_out){if(a>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},_.prototype.onData=function(e){this.chunks.push(e)},_.prototype.onEnd=function(e){e===f&&(this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.exports.Deflate=_,t.exports.deflate=b,t.exports.deflateRaw=function(e,t){return(t=t||{}).raw=!0,b(e,t)},t.exports.gzip=function(e,t){return(t=t||{}).gzip=!0,b(e,t)},t.exports.constants=e("./zlib/constants")},{"./utils/common":139,"./utils/strings":140,"./zlib/constants":142,"./zlib/deflate":144,"./zlib/messages":149,"./zlib/zstream":151}],138:[function(e,t,r){"use strict";const n=e("./zlib/inflate"),i=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/messages"),a=e("./zlib/zstream"),l=e("./zlib/gzheader"),h=Object.prototype.toString,{Z_NO_FLUSH:c,Z_FINISH:u,Z_OK:d,Z_STREAM_END:f,Z_NEED_DICT:p,Z_STREAM_ERROR:g,Z_DATA_ERROR:m,Z_MEM_ERROR:y}=e("./zlib/constants");function _(e){this.options=i.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;let r=n.inflateInit2(this.strm,t.windowBits);if(r!==d)throw new Error(o[r]);if(this.header=new l,n.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=s.string2buf(t.dictionary):"[object ArrayBuffer]"===h.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=n.inflateSetDictionary(this.strm,t.dictionary),r!==d)))throw new Error(o[r])}function b(e,t){const r=new _(t);if(r.push(e),r.err)throw r.msg||o[r.err];return r.result}_.prototype.push=function(e,t){const r=this.strm,i=this.options.chunkSize,o=this.options.dictionary;let a,l,_;if(this.ended)return!1;for(l=t===~~t?t:!0===t?u:c,"[object ArrayBuffer]"===h.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),a=n.inflate(r,l),a===p&&o&&(a=n.inflateSetDictionary(r,o),a===d?a=n.inflate(r,l):a===m&&(a=p));r.avail_in>0&&a===f&&r.state.wrap>0&&0!==e[r.next_in];)n.inflateReset(r),a=n.inflate(r,l);switch(a){case g:case m:case p:case y:return this.onEnd(a),this.ended=!0,!1}if(_=r.avail_out,r.next_out&&(0===r.avail_out||a===f))if("string"===this.options.to){let e=s.utf8border(r.output,r.next_out),t=r.next_out-e,n=s.buf2string(r.output,e);r.next_out=t,r.avail_out=i-t,t&&r.output.set(r.output.subarray(e,e+t),0),this.onData(n)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(a!==d||0!==_){if(a===f)return a=n.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},_.prototype.onData=function(e){this.chunks.push(e)},_.prototype.onEnd=function(e){e===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.exports.Inflate=_,t.exports.inflate=b,t.exports.inflateRaw=function(e,t){return(t=t||{}).raw=!0,b(e,t)},t.exports.ungzip=b,t.exports.constants=e("./zlib/constants")},{"./utils/common":139,"./utils/strings":140,"./zlib/constants":142,"./zlib/gzheader":145,"./zlib/inflate":147,"./zlib/messages":149,"./zlib/zstream":151}],139:[function(e,t,r){"use strict";const n=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);t.exports.assign=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const t in r)n(r,t)&&(e[t]=r[t])}}return e},t.exports.flattenChunks=e=>{let t=0;for(let r=0,n=e.length;r<n;r++)t+=e[r].length;const r=new Uint8Array(t);for(let t=0,n=0,i=e.length;t<i;t++){let i=e[t];r.set(i,n),n+=i.length}return r}},{}],140:[function(e,t,r){"use strict";let n=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){n=!1}const i=new Uint8Array(256);for(let e=0;e<256;e++)i[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;i[254]=i[254]=1,t.exports.string2buf=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,r,n,i,s,o=e.length,a=0;for(i=0;i<o;i++)r=e.charCodeAt(i),55296==(64512&r)&&i+1<o&&(n=e.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(a),s=0,i=0;s<a;i++)r=e.charCodeAt(i),55296==(64512&r)&&i+1<o&&(n=e.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|63&r):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|63&r):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|63&r);return t};t.exports.buf2string=(e,t)=>{const r=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let s,o;const a=new Array(2*r);for(o=0,s=0;s<r;){let t=e[s++];if(t<128){a[o++]=t;continue}let n=i[t];if(n>4)a[o++]=65533,s+=n-1;else{for(t&=2===n?31:3===n?15:7;n>1&&s<r;)t=t<<6|63&e[s++],n--;n>1?a[o++]=65533:t<65536?a[o++]=t:(t-=65536,a[o++]=55296|t>>10&1023,a[o++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&n)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r})(a,o)},t.exports.utf8border=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let r=t-1;for(;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+i[e[r]]>t?r:t}},{}],141:[function(e,t,r){"use strict";t.exports=(e,t,r,n)=>{let i=65535&e|0,s=e>>>16&65535|0,o=0;for(;0!==r;){o=r>2e3?2e3:r,r-=o;do{i=i+t[n++]|0,s=s+i|0}while(--o);i%=65521,s%=65521}return i|s<<16|0}},{}],142:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],143:[function(e,t,r){"use strict";const n=new Uint32Array((()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t})());t.exports=(e,t,r,i)=>{const s=n,o=i+r;e^=-1;for(let r=i;r<o;r++)e=e>>>8^s[255&(e^t[r])];return-1^e}},{}],144:[function(e,t,r){"use strict";const{_tr_init:n,_tr_stored_block:i,_tr_flush_block:s,_tr_tally:o,_tr_align:a}=e("./trees"),l=e("./adler32"),h=e("./crc32"),c=e("./messages"),{Z_NO_FLUSH:u,Z_PARTIAL_FLUSH:d,Z_FULL_FLUSH:f,Z_FINISH:p,Z_BLOCK:g,Z_OK:m,Z_STREAM_END:y,Z_STREAM_ERROR:_,Z_DATA_ERROR:b,Z_BUF_ERROR:w,Z_DEFAULT_COMPRESSION:v,Z_FILTERED:E,Z_HUFFMAN_ONLY:S,Z_RLE:T,Z_FIXED:k,Z_DEFAULT_STRATEGY:I,Z_UNKNOWN:R,Z_DEFLATED:A}=e("./constants"),x=258,C=262,O=42,D=113,M=666,N=(e,t)=>(e.msg=c[t],t),U=e=>2*e-(e>4?9:0),L=e=>{let t=e.length;for(;--t>=0;)e[t]=0},B=e=>{let t,r,n,i=e.w_size;t=e.hash_size,n=t;do{r=e.head[--n],e.head[n]=r>=i?r-i:0}while(--t);t=i,n=t;do{r=e.prev[--n],e.prev[n]=r>=i?r-i:0}while(--t)};let P=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask;const F=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},j=(e,t)=>{s(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,F(e.strm)},z=(e,t)=>{e.pending_buf[e.pending++]=t},H=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},q=(e,t,r,n)=>{let i=e.avail_in;return i>n&&(i=n),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),1===e.state.wrap?e.adler=l(e.adler,t,i,r):2===e.state.wrap&&(e.adler=h(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},Z=(e,t)=>{let r,n,i=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match;const l=e.strstart>e.w_size-C?e.strstart-(e.w_size-C):0,h=e.window,c=e.w_mask,u=e.prev,d=e.strstart+x;let f=h[s+o-1],p=h[s+o];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(r=t,h[r+o]===p&&h[r+o-1]===f&&h[r]===h[s]&&h[++r]===h[s+1]){s+=2,r++;do{}while(h[++s]===h[++r]&&h[++s]===h[++r]&&h[++s]===h[++r]&&h[++s]===h[++r]&&h[++s]===h[++r]&&h[++s]===h[++r]&&h[++s]===h[++r]&&h[++s]===h[++r]&&s<d);if(n=x-(d-s),s=d-x,n>o){if(e.match_start=t,o=n,n>=a)break;f=h[s+o-1],p=h[s+o]}}}while((t=u[t&c])>l&&0!=--i);return o<=e.lookahead?o:e.lookahead},W=e=>{const t=e.w_size;let r,n,i;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-C)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),B(e),n+=t),0===e.strm.avail_in)break;if(r=q(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=P(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=P(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<C&&0!==e.strm.avail_in)},V=(e,t)=>{let r,n,s,o=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,l=e.strm.avail_in;do{if(r=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s)break;if(s=e.strm.avail_out-s,n=e.strstart-e.block_start,r>n+e.strm.avail_in&&(r=n+e.strm.avail_in),r>s&&(r=s),r<o&&(0===r&&t!==p||t===u||r!==n+e.strm.avail_in))break;a=t===p&&r===n+e.strm.avail_in?1:0,i(e,0,0,a),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,F(e.strm),n&&(n>r&&(n=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+n),e.strm.next_out),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n,e.block_start+=n,r-=n),r&&(q(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(0===a);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==u&&t!==p&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(q(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,o=s>e.w_size?e.w_size:s,n=e.strstart-e.block_start,(n>=o||(n||t===p)&&t!==u&&0===e.strm.avail_in&&n<=s)&&(r=n>s?s:n,a=t===p&&0===e.strm.avail_in&&r===n?1:0,i(e,e.block_start,r,a),e.block_start+=r,F(e.strm)),a?3:1)},$=(e,t)=>{let r,n;for(;;){if(e.lookahead<C){if(W(e),e.lookahead<C&&t===u)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=P(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-C&&(e.match_length=Z(e,r)),e.match_length>=3)if(n=o(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=P(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=P(e,e.ins_h,e.window[e.strstart+1]);else n=o(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(j(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===p?(j(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(j(e,!1),0===e.strm.avail_out)?1:2},G=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<C){if(W(e),e.lookahead<C&&t===u)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=P(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-C&&(e.match_length=Z(e,r),e.match_length<=5&&(e.strategy===E||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=o(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=P(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(j(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=o(e,0,e.window[e.strstart-1]),n&&j(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=o(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===p?(j(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(j(e,!1),0===e.strm.avail_out)?1:2};function Y(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}const X=[new Y(0,0,0,0,V),new Y(4,4,8,4,$),new Y(4,5,16,8,$),new Y(4,6,32,32,$),new Y(4,4,16,16,G),new Y(8,16,32,32,G),new Y(8,16,128,128,G),new Y(8,32,128,256,G),new Y(32,128,258,1024,G),new Y(32,258,258,4096,G)];function K(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),L(this.dyn_ltree),L(this.dyn_dtree),L(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),L(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),L(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const J=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==O&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==D&&t.status!==M?1:0},Q=e=>{if(J(e))return N(e,_);e.total_in=e.total_out=0,e.data_type=R;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?O:D,e.adler=2===t.wrap?0:1,t.last_flush=-2,n(t),m},ee=e=>{const t=Q(e);var r;return t===m&&((r=e.state).window_size=2*r.w_size,L(r.head),r.max_lazy_match=X[r.level].max_lazy,r.good_match=X[r.level].good_length,r.nice_match=X[r.level].nice_length,r.max_chain_length=X[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),t},te=(e,t,r,n,i,s)=>{if(!e)return _;let o=1;if(t===v&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>9||r!==A||n<8||n>15||t<0||t>9||s<0||s>k||8===n&&1!==o)return N(e,_);8===n&&(n=9);const a=new K;return e.state=a,a.strm=e,a.status=O,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=t,a.strategy=s,a.method=r,ee(e)};t.exports.deflateInit=(e,t)=>te(e,t,A,15,8,I),t.exports.deflateInit2=te,t.exports.deflateReset=ee,t.exports.deflateResetKeep=Q,t.exports.deflateSetHeader=(e,t)=>J(e)||2!==e.state.wrap?_:(e.state.gzhead=t,m),t.exports.deflate=(e,t)=>{if(J(e)||t>g||t<0)return e?N(e,_):_;const r=e.state;if(!e.output||0!==e.avail_in&&!e.input||r.status===M&&t!==p)return N(e,0===e.avail_out?w:_);const n=r.last_flush;if(r.last_flush=t,0!==r.pending){if(F(e),0===e.avail_out)return r.last_flush=-1,m}else if(0===e.avail_in&&U(t)<=U(n)&&t!==p)return N(e,w);if(r.status===M&&0!==e.avail_in)return N(e,w);if(r.status===O&&0===r.wrap&&(r.status=D),r.status===O){let t=A+(r.w_bits-8<<4)<<8,n=-1;if(n=r.strategy>=S||r.level<2?0:r.level<6?1:6===r.level?2:3,t|=n<<6,0!==r.strstart&&(t|=32),t+=31-t%31,H(r,t),0!==r.strstart&&(H(r,e.adler>>>16),H(r,65535&e.adler)),e.adler=1,r.status=D,F(e),0!==r.pending)return r.last_flush=-1,m}if(57===r.status)if(e.adler=0,z(r,31),z(r,139),z(r,8),r.gzhead)z(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),z(r,255&r.gzhead.time),z(r,r.gzhead.time>>8&255),z(r,r.gzhead.time>>16&255),z(r,r.gzhead.time>>24&255),z(r,9===r.level?2:r.strategy>=S||r.level<2?4:0),z(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(z(r,255&r.gzhead.extra.length),z(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=h(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(z(r,0),z(r,0),z(r,0),z(r,0),z(r,0),z(r,9===r.level?2:r.strategy>=S||r.level<2?4:0),z(r,3),r.status=D,F(e),0!==r.pending)return r.last_flush=-1,m;if(69===r.status){if(r.gzhead.extra){let t=r.pending,n=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+n>r.pending_buf_size;){let i=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>t&&(e.adler=h(e.adler,r.pending_buf,r.pending-t,t)),r.gzindex+=i,F(e),0!==r.pending)return r.last_flush=-1,m;t=0,n-=i}let i=new Uint8Array(r.gzhead.extra);r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>t&&(e.adler=h(e.adler,r.pending_buf,r.pending-t,t)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let t,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(e.adler=h(e.adler,r.pending_buf,r.pending-n,n)),F(e),0!==r.pending)return r.last_flush=-1,m;n=0}t=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,z(r,t)}while(0!==t);r.gzhead.hcrc&&r.pending>n&&(e.adler=h(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let t,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(e.adler=h(e.adler,r.pending_buf,r.pending-n,n)),F(e),0!==r.pending)return r.last_flush=-1,m;n=0}t=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,z(r,t)}while(0!==t);r.gzhead.hcrc&&r.pending>n&&(e.adler=h(e.adler,r.pending_buf,r.pending-n,n))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(F(e),0!==r.pending))return r.last_flush=-1,m;z(r,255&e.adler),z(r,e.adler>>8&255),e.adler=0}if(r.status=D,F(e),0!==r.pending)return r.last_flush=-1,m}if(0!==e.avail_in||0!==r.lookahead||t!==u&&r.status!==M){let n=0===r.level?V(r,t):r.strategy===S?((e,t)=>{let r;for(;;){if(0===e.lookahead&&(W(e),0===e.lookahead)){if(t===u)return 1;break}if(e.match_length=0,r=o(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(j(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===p?(j(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(j(e,!1),0===e.strm.avail_out)?1:2})(r,t):r.strategy===T?((e,t)=>{let r,n,i,s;const a=e.window;for(;;){if(e.lookahead<=x){if(W(e),e.lookahead<=x&&t===u)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){s=e.strstart+x;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s);e.match_length=x-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=o(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=o(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(j(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===p?(j(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(j(e,!1),0===e.strm.avail_out)?1:2})(r,t):X[r.level].func(r,t);if(3!==n&&4!==n||(r.status=M),1===n||3===n)return 0===e.avail_out&&(r.last_flush=-1),m;if(2===n&&(t===d?a(r):t!==g&&(i(r,0,0,!1),t===f&&(L(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),F(e),0===e.avail_out))return r.last_flush=-1,m}return t!==p?m:r.wrap<=0?y:(2===r.wrap?(z(r,255&e.adler),z(r,e.adler>>8&255),z(r,e.adler>>16&255),z(r,e.adler>>24&255),z(r,255&e.total_in),z(r,e.total_in>>8&255),z(r,e.total_in>>16&255),z(r,e.total_in>>24&255)):(H(r,e.adler>>>16),H(r,65535&e.adler)),F(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?m:y)},t.exports.deflateEnd=e=>{if(J(e))return _;const t=e.state.status;return e.state=null,t===D?N(e,b):m},t.exports.deflateSetDictionary=(e,t)=>{let r=t.length;if(J(e))return _;const n=e.state,i=n.wrap;if(2===i||1===i&&n.status!==O||n.lookahead)return _;if(1===i&&(e.adler=l(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){0===i&&(L(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(r-n.w_size,r),0),t=e,r=n.w_size}const s=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,W(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do{n.ins_h=P(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++}while(--t);n.strstart=e,n.lookahead=2,W(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=o,e.input=a,e.avail_in=s,n.wrap=i,m},t.exports.deflateInfo="pako deflate (from Nodeca project)"},{"./adler32":141,"./constants":142,"./crc32":143,"./messages":149,"./trees":150}],145:[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],146:[function(e,t,r){"use strict";const n=16209;t.exports=function(e,t){let r,i,s,o,a,l,h,c,u,d,f,p,g,m,y,_,b,w,v,E,S,T,k,I;const R=e.state;r=e.next_in,k=e.input,i=r+(e.avail_in-5),s=e.next_out,I=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),l=R.dmax,h=R.wsize,c=R.whave,u=R.wnext,d=R.window,f=R.hold,p=R.bits,g=R.lencode,m=R.distcode,y=(1<<R.lenbits)-1,_=(1<<R.distbits)-1;e:do{p<15&&(f+=k[r++]<<p,p+=8,f+=k[r++]<<p,p+=8),b=g[f&y];t:for(;;){if(w=b>>>24,f>>>=w,p-=w,w=b>>>16&255,0===w)I[s++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=g[(65535&b)+(f&(1<<w)-1)];continue t}if(32&w){R.mode=16191;break e}e.msg="invalid literal/length code",R.mode=n;break e}v=65535&b,w&=15,w&&(p<w&&(f+=k[r++]<<p,p+=8),v+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=k[r++]<<p,p+=8,f+=k[r++]<<p,p+=8),b=m[f&_];r:for(;;){if(w=b>>>24,f>>>=w,p-=w,w=b>>>16&255,!(16&w)){if(0==(64&w)){b=m[(65535&b)+(f&(1<<w)-1)];continue r}e.msg="invalid distance code",R.mode=n;break e}if(E=65535&b,w&=15,p<w&&(f+=k[r++]<<p,p+=8,p<w&&(f+=k[r++]<<p,p+=8)),E+=f&(1<<w)-1,E>l){e.msg="invalid distance too far back",R.mode=n;break e}if(f>>>=w,p-=w,w=s-o,E>w){if(w=E-w,w>c&&R.sane){e.msg="invalid distance too far back",R.mode=n;break e}if(S=0,T=d,0===u){if(S+=h-w,w<v){v-=w;do{I[s++]=d[S++]}while(--w);S=s-E,T=I}}else if(u<w){if(S+=h+u-w,w-=u,w<v){v-=w;do{I[s++]=d[S++]}while(--w);if(S=0,u<v){w=u,v-=w;do{I[s++]=d[S++]}while(--w);S=s-E,T=I}}}else if(S+=u-w,w<v){v-=w;do{I[s++]=d[S++]}while(--w);S=s-E,T=I}for(;v>2;)I[s++]=T[S++],I[s++]=T[S++],I[s++]=T[S++],v-=3;v&&(I[s++]=T[S++],v>1&&(I[s++]=T[S++]))}else{S=s-E;do{I[s++]=I[S++],I[s++]=I[S++],I[s++]=I[S++],v-=3}while(v>2);v&&(I[s++]=I[S++],v>1&&(I[s++]=I[S++]))}break}}break}}while(r<i&&s<a);v=p>>3,r-=v,p-=v<<3,f&=(1<<p)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=s<a?a-s+257:257-(s-a),R.hold=f,R.bits=p}},{}],147:[function(e,t,r){"use strict";const n=e("./adler32"),i=e("./crc32"),s=e("./inffast"),o=e("./inftrees"),{Z_FINISH:a,Z_BLOCK:l,Z_TREES:h,Z_OK:c,Z_STREAM_END:u,Z_NEED_DICT:d,Z_STREAM_ERROR:f,Z_DATA_ERROR:p,Z_MEM_ERROR:g,Z_BUF_ERROR:m,Z_DEFLATED:y}=e("./constants"),_=16180,b=16190,w=16191,v=16192,E=16194,S=16199,T=16200,k=16206,I=16209,R=16210,A=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function x(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const C=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<_||t.mode>16211?1:0},O=e=>{if(C(e))return f;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=_,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,c},D=e=>{if(C(e))return f;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,O(e)},M=(e,t)=>{let r;if(C(e))return f;const n=e.state;return t<0?(r=0,t=-t):(r=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?f:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,D(e))},N=(e,t)=>{if(!e)return f;const r=new x;e.state=r,r.strm=e,r.window=null,r.mode=_;const n=M(e,t);return n!==c&&(e.state=null),n};let U,L,B=!0;const P=e=>{if(B){U=new Int32Array(512),L=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(1,e.lens,0,288,U,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(2,e.lens,0,32,L,0,e.work,{bits:5}),B=!1}e.lencode=U,e.lenbits=9,e.distcode=L,e.distbits=5},F=(e,t,r,n)=>{let i;const s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(t.subarray(r-n,r-n+i),s.wnext),(n-=i)?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0};t.exports.inflateReset=D,t.exports.inflateReset2=M,t.exports.inflateResetKeep=O,t.exports.inflateInit=e=>N(e,15),t.exports.inflateInit2=N,t.exports.inflate=(e,t)=>{let r,x,O,D,M,N,U,L,B,j,z,H,q,Z,W,V,$,G,Y,X,K,J,Q=0;const ee=new Uint8Array(4);let te,re;const ne=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(C(e)||!e.output||!e.input&&0!==e.avail_in)return f;r=e.state,r.mode===w&&(r.mode=v),M=e.next_out,O=e.output,U=e.avail_out,D=e.next_in,x=e.input,N=e.avail_in,L=r.hold,B=r.bits,j=N,z=U,J=c;e:for(;;)switch(r.mode){case _:if(0===r.wrap){r.mode=v;break}for(;B<16;){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}if(2&r.wrap&&35615===L){0===r.wbits&&(r.wbits=15),r.check=0,ee[0]=255&L,ee[1]=L>>>8&255,r.check=i(r.check,ee,2,0),L=0,B=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&L)<<8)+(L>>8))%31){e.msg="incorrect header check",r.mode=I;break}if((15&L)!==y){e.msg="unknown compression method",r.mode=I;break}if(L>>>=4,B-=4,K=8+(15&L),0===r.wbits&&(r.wbits=K),K>15||K>r.wbits){e.msg="invalid window size",r.mode=I;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=512&L?16189:w,L=0,B=0;break;case 16181:for(;B<16;){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}if(r.flags=L,(255&r.flags)!==y){e.msg="unknown compression method",r.mode=I;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=I;break}r.head&&(r.head.text=L>>8&1),512&r.flags&&4&r.wrap&&(ee[0]=255&L,ee[1]=L>>>8&255,r.check=i(r.check,ee,2,0)),L=0,B=0,r.mode=16182;case 16182:for(;B<32;){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}r.head&&(r.head.time=L),512&r.flags&&4&r.wrap&&(ee[0]=255&L,ee[1]=L>>>8&255,ee[2]=L>>>16&255,ee[3]=L>>>24&255,r.check=i(r.check,ee,4,0)),L=0,B=0,r.mode=16183;case 16183:for(;B<16;){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}r.head&&(r.head.xflags=255&L,r.head.os=L>>8),512&r.flags&&4&r.wrap&&(ee[0]=255&L,ee[1]=L>>>8&255,r.check=i(r.check,ee,2,0)),L=0,B=0,r.mode=16184;case 16184:if(1024&r.flags){for(;B<16;){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}r.length=L,r.head&&(r.head.extra_len=L),512&r.flags&&4&r.wrap&&(ee[0]=255&L,ee[1]=L>>>8&255,r.check=i(r.check,ee,2,0)),L=0,B=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&(H=r.length,H>N&&(H=N),H&&(r.head&&(K=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(x.subarray(D,D+H),K)),512&r.flags&&4&r.wrap&&(r.check=i(r.check,x,H,D)),N-=H,D+=H,r.length-=H),r.length))break e;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===N)break e;H=0;do{K=x[D+H++],r.head&&K&&r.length<65536&&(r.head.name+=String.fromCharCode(K))}while(K&&H<N);if(512&r.flags&&4&r.wrap&&(r.check=i(r.check,x,H,D)),N-=H,D+=H,K)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===N)break e;H=0;do{K=x[D+H++],r.head&&K&&r.length<65536&&(r.head.comment+=String.fromCharCode(K))}while(K&&H<N);if(512&r.flags&&4&r.wrap&&(r.check=i(r.check,x,H,D)),N-=H,D+=H,K)break e}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;B<16;){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}if(4&r.wrap&&L!==(65535&r.check)){e.msg="header crc mismatch",r.mode=I;break}L=0,B=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=w;break;case 16189:for(;B<32;){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}e.adler=r.check=A(L),L=0,B=0,r.mode=b;case b:if(0===r.havedict)return e.next_out=M,e.avail_out=U,e.next_in=D,e.avail_in=N,r.hold=L,r.bits=B,d;e.adler=r.check=1,r.mode=w;case w:if(t===l||t===h)break e;case v:if(r.last){L>>>=7&B,B-=7&B,r.mode=k;break}for(;B<3;){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}switch(r.last=1&L,L>>>=1,B-=1,3&L){case 0:r.mode=16193;break;case 1:if(P(r),r.mode=S,t===h){L>>>=2,B-=2;break e}break;case 2:r.mode=16196;break;case 3:e.msg="invalid block type",r.mode=I}L>>>=2,B-=2;break;case 16193:for(L>>>=7&B,B-=7&B;B<32;){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}if((65535&L)!=(L>>>16^65535)){e.msg="invalid stored block lengths",r.mode=I;break}if(r.length=65535&L,L=0,B=0,r.mode=E,t===h)break e;case E:r.mode=16195;case 16195:if(H=r.length,H){if(H>N&&(H=N),H>U&&(H=U),0===H)break e;O.set(x.subarray(D,D+H),M),N-=H,D+=H,U-=H,M+=H,r.length-=H;break}r.mode=w;break;case 16196:for(;B<14;){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}if(r.nlen=257+(31&L),L>>>=5,B-=5,r.ndist=1+(31&L),L>>>=5,B-=5,r.ncode=4+(15&L),L>>>=4,B-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=I;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;B<3;){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}r.lens[ne[r.have++]]=7&L,L>>>=3,B-=3}for(;r.have<19;)r.lens[ne[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,te={bits:r.lenbits},J=o(0,r.lens,0,19,r.lencode,0,r.work,te),r.lenbits=te.bits,J){e.msg="invalid code lengths set",r.mode=I;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;Q=r.lencode[L&(1<<r.lenbits)-1],W=Q>>>24,V=Q>>>16&255,$=65535&Q,!(W<=B);){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}if($<16)L>>>=W,B-=W,r.lens[r.have++]=$;else{if(16===$){for(re=W+2;B<re;){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}if(L>>>=W,B-=W,0===r.have){e.msg="invalid bit length repeat",r.mode=I;break}K=r.lens[r.have-1],H=3+(3&L),L>>>=2,B-=2}else if(17===$){for(re=W+3;B<re;){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}L>>>=W,B-=W,K=0,H=3+(7&L),L>>>=3,B-=3}else{for(re=W+7;B<re;){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}L>>>=W,B-=W,K=0,H=11+(127&L),L>>>=7,B-=7}if(r.have+H>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=I;break}for(;H--;)r.lens[r.have++]=K}}if(r.mode===I)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=I;break}if(r.lenbits=9,te={bits:r.lenbits},J=o(1,r.lens,0,r.nlen,r.lencode,0,r.work,te),r.lenbits=te.bits,J){e.msg="invalid literal/lengths set",r.mode=I;break}if(r.distbits=6,r.distcode=r.distdyn,te={bits:r.distbits},J=o(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,te),r.distbits=te.bits,J){e.msg="invalid distances set",r.mode=I;break}if(r.mode=S,t===h)break e;case S:r.mode=T;case T:if(N>=6&&U>=258){e.next_out=M,e.avail_out=U,e.next_in=D,e.avail_in=N,r.hold=L,r.bits=B,s(e,z),M=e.next_out,O=e.output,U=e.avail_out,D=e.next_in,x=e.input,N=e.avail_in,L=r.hold,B=r.bits,r.mode===w&&(r.back=-1);break}for(r.back=0;Q=r.lencode[L&(1<<r.lenbits)-1],W=Q>>>24,V=Q>>>16&255,$=65535&Q,!(W<=B);){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}if(V&&0==(240&V)){for(G=W,Y=V,X=$;Q=r.lencode[X+((L&(1<<G+Y)-1)>>G)],W=Q>>>24,V=Q>>>16&255,$=65535&Q,!(G+W<=B);){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}L>>>=G,B-=G,r.back+=G}if(L>>>=W,B-=W,r.back+=W,r.length=$,0===V){r.mode=16205;break}if(32&V){r.back=-1,r.mode=w;break}if(64&V){e.msg="invalid literal/length code",r.mode=I;break}r.extra=15&V,r.mode=16201;case 16201:if(r.extra){for(re=r.extra;B<re;){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}r.length+=L&(1<<r.extra)-1,L>>>=r.extra,B-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;Q=r.distcode[L&(1<<r.distbits)-1],W=Q>>>24,V=Q>>>16&255,$=65535&Q,!(W<=B);){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}if(0==(240&V)){for(G=W,Y=V,X=$;Q=r.distcode[X+((L&(1<<G+Y)-1)>>G)],W=Q>>>24,V=Q>>>16&255,$=65535&Q,!(G+W<=B);){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}L>>>=G,B-=G,r.back+=G}if(L>>>=W,B-=W,r.back+=W,64&V){e.msg="invalid distance code",r.mode=I;break}r.offset=$,r.extra=15&V,r.mode=16203;case 16203:if(r.extra){for(re=r.extra;B<re;){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}r.offset+=L&(1<<r.extra)-1,L>>>=r.extra,B-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=I;break}r.mode=16204;case 16204:if(0===U)break e;if(H=z-U,r.offset>H){if(H=r.offset-H,H>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=I;break}H>r.wnext?(H-=r.wnext,q=r.wsize-H):q=r.wnext-H,H>r.length&&(H=r.length),Z=r.window}else Z=O,q=M-r.offset,H=r.length;H>U&&(H=U),U-=H,r.length-=H;do{O[M++]=Z[q++]}while(--H);0===r.length&&(r.mode=T);break;case 16205:if(0===U)break e;O[M++]=r.length,U--,r.mode=T;break;case k:if(r.wrap){for(;B<32;){if(0===N)break e;N--,L|=x[D++]<<B,B+=8}if(z-=U,e.total_out+=z,r.total+=z,4&r.wrap&&z&&(e.adler=r.check=r.flags?i(r.check,O,z,M-z):n(r.check,O,z,M-z)),z=U,4&r.wrap&&(r.flags?L:A(L))!==r.check){e.msg="incorrect data check",r.mode=I;break}L=0,B=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;B<32;){if(0===N)break e;N--,L+=x[D++]<<B,B+=8}if(4&r.wrap&&L!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=I;break}L=0,B=0}r.mode=16208;case 16208:J=u;break e;case I:J=p;break e;case R:return g;case 16211:default:return f}return e.next_out=M,e.avail_out=U,e.next_in=D,e.avail_in=N,r.hold=L,r.bits=B,(r.wsize||z!==e.avail_out&&r.mode<I&&(r.mode<k||t!==a))&&F(e,e.output,e.next_out,z-e.avail_out)?(r.mode=R,g):(j-=e.avail_in,z-=e.avail_out,e.total_in+=j,e.total_out+=z,r.total+=z,4&r.wrap&&z&&(e.adler=r.check=r.flags?i(r.check,O,z,e.next_out-z):n(r.check,O,z,e.next_out-z)),e.data_type=r.bits+(r.last?64:0)+(r.mode===w?128:0)+(r.mode===S||r.mode===E?256:0),(0===j&&0===z||t===a)&&J===c&&(J=m),J)},t.exports.inflateEnd=e=>{if(C(e))return f;let t=e.state;return t.window&&(t.window=null),e.state=null,c},t.exports.inflateGetHeader=(e,t)=>{if(C(e))return f;const r=e.state;return 0==(2&r.wrap)?f:(r.head=t,t.done=!1,c)},t.exports.inflateSetDictionary=(e,t)=>{const r=t.length;let i,s,o;return C(e)?f:(i=e.state,0!==i.wrap&&i.mode!==b?f:i.mode===b&&(s=1,s=n(s,t,r,0),s!==i.check)?p:(o=F(e,t,r,r),o?(i.mode=R,g):(i.havedict=1,c)))},t.exports.inflateInfo="pako inflate (from Nodeca project)"},{"./adler32":141,"./constants":142,"./crc32":143,"./inffast":146,"./inftrees":148}],148:[function(e,t,r){"use strict";const n=15,i=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),s=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),o=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),a=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);t.exports=(e,t,r,l,h,c,u,d)=>{const f=d.bits;let p,g,m,y,_,b,w=0,v=0,E=0,S=0,T=0,k=0,I=0,R=0,A=0,x=0,C=null;const O=new Uint16Array(16),D=new Uint16Array(16);let M,N,U,L=null;for(w=0;w<=n;w++)O[w]=0;for(v=0;v<l;v++)O[t[r+v]]++;for(T=f,S=n;S>=1&&0===O[S];S--);if(T>S&&(T=S),0===S)return h[c++]=20971520,h[c++]=20971520,d.bits=1,0;for(E=1;E<S&&0===O[E];E++);for(T<E&&(T=E),R=1,w=1;w<=n;w++)if(R<<=1,R-=O[w],R<0)return-1;if(R>0&&(0===e||1!==S))return-1;for(D[1]=0,w=1;w<n;w++)D[w+1]=D[w]+O[w];for(v=0;v<l;v++)0!==t[r+v]&&(u[D[t[r+v]]++]=v);if(0===e?(C=L=u,b=20):1===e?(C=i,L=s,b=257):(C=o,L=a,b=0),x=0,v=0,w=E,_=c,k=T,I=0,m=-1,A=1<<T,y=A-1,1===e&&A>852||2===e&&A>592)return 1;for(;;){M=w-I,u[v]+1<b?(N=0,U=u[v]):u[v]>=b?(N=L[u[v]-b],U=C[u[v]-b]):(N=96,U=0),p=1<<w-I,g=1<<k,E=g;do{g-=p,h[_+(x>>I)+g]=M<<24|N<<16|U|0}while(0!==g);for(p=1<<w-1;x&p;)p>>=1;if(0!==p?(x&=p-1,x+=p):x=0,v++,0==--O[w]){if(w===S)break;w=t[r+u[v]]}if(w>T&&(x&y)!==m){for(0===I&&(I=T),_+=E,k=w-I,R=1<<k;k+I<S&&(R-=O[k+I],!(R<=0));)k++,R<<=1;if(A+=1<<k,1===e&&A>852||2===e&&A>592)return 1;m=x&y,h[m]=T<<24|k<<16|_-c|0}}return 0!==x&&(h[_+x]=w-I<<24|64<<16|0),d.bits=T,0}},{}],149:[function(e,t,r){arguments[4][133][0].apply(r,arguments)},{dup:133}],150:[function(e,t,r){"use strict";function n(e){let t=e.length;for(;--t>=0;)e[t]=0}const i=256,s=286,o=30,a=15,l=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),h=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),c=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),u=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=new Array(576);n(d);const f=new Array(60);n(f);const p=new Array(512);n(p);const g=new Array(256);n(g);const m=new Array(29);n(m);const y=new Array(o);function _(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let b,w,v;function E(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}n(y);const S=e=>e<256?p[e]:p[256+(e>>>7)],T=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},k=(e,t,r)=>{e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,T(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},I=(e,t,r)=>{k(e,r[2*t],r[2*t+1])},R=(e,t)=>{let r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1},A=(e,t,r)=>{const n=new Array(16);let i,s,o=0;for(i=1;i<=a;i++)o=o+r[i-1]<<1,n[i]=o;for(s=0;s<=t;s++){let t=e[2*s+1];0!==t&&(e[2*s]=R(n[t]++,t))}},x=e=>{let t;for(t=0;t<s;t++)e.dyn_ltree[2*t]=0;for(t=0;t<o;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},C=e=>{e.bi_valid>8?T(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},O=(e,t,r,n)=>{const i=2*t,s=2*r;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]},D=(e,t,r)=>{const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&O(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!O(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},M=(e,t,r)=>{let n,s,o,a,c=0;if(0!==e.sym_next)do{n=255&e.pending_buf[e.sym_buf+c++],n+=(255&e.pending_buf[e.sym_buf+c++])<<8,s=e.pending_buf[e.sym_buf+c++],0===n?I(e,s,t):(o=g[s],I(e,o+i+1,t),a=l[o],0!==a&&(s-=m[o],k(e,s,a)),n--,o=S(n),I(e,o,r),a=h[o],0!==a&&(n-=y[o],k(e,n,a)))}while(c<e.sym_next);I(e,256,t)},N=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let o,l,h,c=-1;for(e.heap_len=0,e.heap_max=573,o=0;o<s;o++)0!==r[2*o]?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):r[2*o+1]=0;for(;e.heap_len<2;)h=e.heap[++e.heap_len]=c<2?++c:0,r[2*h]=1,e.depth[h]=0,e.opt_len--,i&&(e.static_len-=n[2*h+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)D(e,r,o);h=s;do{o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],D(e,r,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,r[2*h]=r[2*o]+r[2*l],e.depth[h]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,r[2*o+1]=r[2*l+1]=h,e.heap[1]=h++,D(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,h=t.stat_desc.max_length;let c,u,d,f,p,g,m=0;for(f=0;f<=a;f++)e.bl_count[f]=0;for(r[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)u=e.heap[c],f=r[2*r[2*u+1]+1]+1,f>h&&(f=h,m++),r[2*u+1]=f,u>n||(e.bl_count[f]++,p=0,u>=l&&(p=o[u-l]),g=r[2*u],e.opt_len+=g*(f+p),s&&(e.static_len+=g*(i[2*u+1]+p)));if(0!==m){do{for(f=h-1;0===e.bl_count[f];)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[h]--,m-=2}while(m>0);for(f=h;0!==f;f--)for(u=e.bl_count[f];0!==u;)d=e.heap[--c],d>n||(r[2*d+1]!==f&&(e.opt_len+=(f-r[2*d+1])*r[2*d],r[2*d+1]=f),u--)}})(e,t),A(r,c,e.bl_count)},U=(e,t,r)=>{let n,i,s=-1,o=t[1],a=0,l=7,h=4;for(0===o&&(l=138,h=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=t[2*(n+1)+1],++a<l&&i===o||(a<h?e.bl_tree[2*i]+=a:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,s=i,0===o?(l=138,h=3):i===o?(l=6,h=3):(l=7,h=4))},L=(e,t,r)=>{let n,i,s=-1,o=t[1],a=0,l=7,h=4;for(0===o&&(l=138,h=3),n=0;n<=r;n++)if(i=o,o=t[2*(n+1)+1],!(++a<l&&i===o)){if(a<h)do{I(e,i,e.bl_tree)}while(0!=--a);else 0!==i?(i!==s&&(I(e,i,e.bl_tree),a--),I(e,16,e.bl_tree),k(e,a-3,2)):a<=10?(I(e,17,e.bl_tree),k(e,a-3,3)):(I(e,18,e.bl_tree),k(e,a-11,7));a=0,s=i,0===o?(l=138,h=3):i===o?(l=6,h=3):(l=7,h=4)}};let B=!1;const P=(e,t,r,n)=>{k(e,0+(n?1:0),3),C(e),T(e,r),T(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r};t.exports._tr_init=e=>{B||((()=>{let e,t,r,n,i;const u=new Array(16);for(r=0,n=0;n<28;n++)for(m[n]=r,e=0;e<1<<l[n];e++)g[r++]=n;for(g[r-1]=n,i=0,n=0;n<16;n++)for(y[n]=i,e=0;e<1<<h[n];e++)p[i++]=n;for(i>>=7;n<o;n++)for(y[n]=i<<7,e=0;e<1<<h[n]-7;e++)p[256+i++]=n;for(t=0;t<=a;t++)u[t]=0;for(e=0;e<=143;)d[2*e+1]=8,e++,u[8]++;for(;e<=255;)d[2*e+1]=9,e++,u[9]++;for(;e<=279;)d[2*e+1]=7,e++,u[7]++;for(;e<=287;)d[2*e+1]=8,e++,u[8]++;for(A(d,287,u),e=0;e<o;e++)f[2*e+1]=5,f[2*e]=R(e,5);b=new _(d,l,257,s,a),w=new _(f,h,0,o,a),v=new _(new Array(0),c,0,19,7)})(),B=!0),e.l_desc=new E(e.dyn_ltree,b),e.d_desc=new E(e.dyn_dtree,w),e.bl_desc=new E(e.bl_tree,v),e.bi_buf=0,e.bi_valid=0,x(e)},t.exports._tr_stored_block=P,t.exports._tr_flush_block=(e,t,r,n)=>{let s,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<i;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),N(e,e.l_desc),N(e,e.d_desc),a=(e=>{let t;for(U(e,e.dyn_ltree,e.l_desc.max_code),U(e,e.dyn_dtree,e.d_desc.max_code),N(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*u[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),s=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=s&&(s=o)):s=o=r+5,r+4<=s&&-1!==t?P(e,t,r,n):4===e.strategy||o===s?(k(e,2+(n?1:0),3),M(e,d,f)):(k(e,4+(n?1:0),3),((e,t,r,n)=>{let i;for(k(e,t-257,5),k(e,r-1,5),k(e,n-4,4),i=0;i<n;i++)k(e,e.bl_tree[2*u[i]+1],3);L(e,e.dyn_ltree,t-1),L(e,e.dyn_dtree,r-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),M(e,e.dyn_ltree,e.dyn_dtree)),x(e),n&&C(e)},t.exports._tr_tally=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(g[r]+i+1)]++,e.dyn_dtree[2*S(t)]++),e.sym_next===e.sym_end),t.exports._tr_align=e=>{k(e,2,3),I(e,256,d),(e=>{16===e.bi_valid?(T(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},{}],151:[function(e,t,r){arguments[4][135][0].apply(r,arguments)},{dup:135}],152:[function(e,t,r){var n,i,s=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var h,c=[],u=!1,d=-1;function f(){u&&h&&(u=!1,h.length?c=h.concat(c):d=-1,c.length&&p())}function p(){if(!u){var e=l(f);u=!0;for(var t=c.length;t;){for(h=c,c=[];++d<t;)h&&h[d].run();d=-1,t=c.length}h=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new g(e,t)),1!==c.length||u||l(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],153:[function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,s){t=t||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t);var l=1e3;s&&"number"==typeof s.maxKeys&&(l=s.maxKeys);var h=e.length;l>0&&h>l&&(h=l);for(var c=0;c<h;++c){var u,d,f,p,g=e[c].replace(a,"%20"),m=g.indexOf(r);m>=0?(u=g.substr(0,m),d=g.substr(m+1)):(u=g,d=""),f=decodeURIComponent(u),p=decodeURIComponent(d),n(o,f)?i(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],154:[function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,a){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?s(o(e),(function(o){var a=encodeURIComponent(n(o))+r;return i(e[o])?s(e[o],(function(e){return a+encodeURIComponent(n(e))})).join(t):a+encodeURIComponent(n(e[o]))})).join(t):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var o=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],155:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":153,"./encode":154}],156:[function(e,t,r){arguments[4][10][0].apply(r,arguments)},{dup:10}],157:[function(e,t,r){arguments[4][11][0].apply(r,arguments)},{_process:152,dup:11,"safe-buffer":173}],158:[function(e,t,r){arguments[4][12][0].apply(r,arguments)},{dup:12}],159:[function(e,t,r){arguments[4][13][0].apply(r,arguments)},{"./_stream_readable":161,"./_stream_writable":163,_process:152,dup:13,inherits:111}],160:[function(e,t,r){arguments[4][14][0].apply(r,arguments)},{"./_stream_transform":162,dup:14,inherits:111}],161:[function(e,t,r){arguments[4][15][0].apply(r,arguments)},{"../errors":158,"./_stream_duplex":159,"./internal/streams/async_iterator":164,"./internal/streams/buffer_list":165,"./internal/streams/destroy":166,"./internal/streams/from":168,"./internal/streams/state":170,"./internal/streams/stream":171,_process:152,buffer:"buffer",dup:15,events:"events",inherits:111,"string_decoder/":176,util:53}],162:[function(e,t,r){arguments[4][16][0].apply(r,arguments)},{"../errors":158,"./_stream_duplex":159,dup:16,inherits:111}],163:[function(e,t,r){arguments[4][17][0].apply(r,arguments)},{"../errors":158,"./_stream_duplex":159,"./internal/streams/destroy":166,"./internal/streams/state":170,"./internal/streams/stream":171,_process:152,buffer:"buffer",dup:17,inherits:111,"util-deprecate":177}],164:[function(e,t,r){arguments[4][18][0].apply(r,arguments)},{"./end-of-stream":167,_process:152,dup:18}],165:[function(e,t,r){arguments[4][19][0].apply(r,arguments)},{buffer:"buffer",dup:19,util:53}],166:[function(e,t,r){arguments[4][20][0].apply(r,arguments)},{_process:152,dup:20}],167:[function(e,t,r){arguments[4][21][0].apply(r,arguments)},{"../../../errors":158,dup:21}],168:[function(e,t,r){arguments[4][22][0].apply(r,arguments)},{dup:22}],169:[function(e,t,r){arguments[4][23][0].apply(r,arguments)},{"../../../errors":158,"./end-of-stream":167,dup:23}],170:[function(e,t,r){arguments[4][24][0].apply(r,arguments)},{"../../../errors":158,dup:24}],171:[function(e,t,r){arguments[4][25][0].apply(r,arguments)},{dup:25,events:"events"}],172:[function(e,t,r){arguments[4][26][0].apply(r,arguments)},{"./lib/_stream_duplex.js":159,"./lib/_stream_passthrough.js":160,"./lib/_stream_readable.js":161,"./lib/_stream_transform.js":162,"./lib/_stream_writable.js":163,"./lib/internal/streams/end-of-stream.js":167,"./lib/internal/streams/pipeline.js":169,dup:26}],173:[function(e,t,r){arguments[4][28][0].apply(r,arguments)},{buffer:"buffer",dup:28}],174:[function(e,t,r){
/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
const n=e("debug")("simple-peer"),i=e("get-browser-rtc"),s=e("randombytes"),o=e("readable-stream"),a=e("queue-microtask"),l=e("err-code"),{Buffer:h}=e("buffer"),c=65536;function u(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}class d extends o.Duplex{constructor(e){if(super(e=Object.assign({allowHalfOpen:!1},e)),this._id=s(4).toString("hex").slice(0,7),this._debug("new peer %o",e),this.channelName=e.initiator?e.channelName||s(20).toString("hex"):null,this.initiator=e.initiator||!1,this.channelConfig=e.channelConfig||d.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},d.config,e.config),this.offerOptions=e.offerOptions||{},this.answerOptions=e.answerOptions||{},this.sdpTransform=e.sdpTransform||(e=>e),this.streams=e.streams||(e.stream?[e.stream]:[]),this.trickle=void 0===e.trickle||e.trickle,this.allowHalfTrickle=void 0!==e.allowHalfTrickle&&e.allowHalfTrickle,this.iceCompleteTimeout=e.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=e.wrtc&&"object"==typeof e.wrtc?e.wrtc:i(),!this._wrtc)throw"undefined"==typeof window?l(new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"),"ERR_WEBRTC_SUPPORT"):l(new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(e){return void this.destroy(l(e,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc="number"==typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=e=>{this._onIceCandidate(e)},"object"==typeof this._pc.peerIdentity&&this._pc.peerIdentity.catch((e=>{this.destroy(l(e,"ERR_PC_PEER_IDENTITY"))})),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=e=>{this._setupData(e)},this.streams&&this.streams.forEach((e=>{this.addStream(e)})),this._pc.ontrack=e=>{this._onTrack(e)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(e){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e={}}this._debug("signal()"),e.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),e.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(e.candidate):this._pendingCandidates.push(e.candidate)),e.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(e)).then((()=>{this.destroyed||(this._pendingCandidates.forEach((e=>{this._addIceCandidate(e)})),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())})).catch((e=>{this.destroy(l(e,"ERR_SET_REMOTE_DESCRIPTION"))})),e.sdp||e.candidate||e.renegotiate||e.transceiverRequest||this.destroy(l(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(e){const t=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(t).catch((e=>{!t.address||t.address.endsWith(".local")||this.destroy(l(e,"ERR_ADD_ICE_CANDIDATE"))}))}send(e){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(e)}}addTransceiver(e,t){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,t),this._needsNegotiation()}catch(e){this.destroy(l(e,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:e,init:t}})}}addStream(e){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),e.getTracks().forEach((t=>{this.addTrack(t,e)}))}}addTrack(e,t){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const r=this._senderMap.get(e)||new Map;let n=r.get(t);if(n)throw n.removed?l(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):l(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");n=this._pc.addTrack(e,t),r.set(t,n),this._senderMap.set(e,r),this._needsNegotiation()}replaceTrack(e,t,r){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const n=this._senderMap.get(e),i=n?n.get(r):null;if(!i)throw l(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");t&&this._senderMap.set(t,n),null!=i.replaceTrack?i.replaceTrack(t):this.destroy(l(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(e,t){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const r=this._senderMap.get(e),n=r?r.get(t):null;if(!n)throw l(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{n.removed=!0,this._pc.removeTrack(n)}catch(e){"NS_ERROR_UNEXPECTED"===e.name?this._sendersAwaitingStable.push(n):this.destroy(l(e,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(e){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),e.getTracks().forEach((t=>{this.removeTrack(t,e)}))}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,a((()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1})))}negotiate(){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout((()=>{this._createOffer()}),0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(e){this._destroy(e,(()=>{}))}_destroy(e,t){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",e&&(e.message||e)),a((()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(e){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(e){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,e&&this.emit("error",e),this.emit("close"),t()})))}_setupData(e){if(!e.channel)return this.destroy(l(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=c),this.channelName=this._channel.label,this._channel.onmessage=e=>{this._onChannelMessage(e)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=e=>{this.destroy(l(e,"ERR_DATA_CHANNEL"))};let t=!1;this._closingInterval=setInterval((()=>{this._channel&&"closing"===this._channel.readyState?(t&&this._onChannelClose(),t=!0):t=!1}),5e3)}_read(){}_write(e,t,r){if(this.destroyed)return r(l(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch(e){return this.destroy(l(e,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>c?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=r):r(null)}else this._debug("write before connect"),this._chunk=e,this._cb=r}_onFinish(){if(this.destroyed)return;const e=()=>{setTimeout((()=>this.destroy()),1e3)};this._connected?e():this.once("connect",e)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout((()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))}),this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then((e=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(e.sdp=u(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const t=()=>{if(this.destroyed)return;const t=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:t.type,sdp:t.sdp})};this._pc.setLocalDescription(e).then((()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))})).catch((e=>{this.destroy(l(e,"ERR_SET_LOCAL_DESCRIPTION"))}))})).catch((e=>{this.destroy(l(e,"ERR_CREATE_OFFER"))}))}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach((e=>{e.mid||!e.sender.track||e.requested||(e.requested=!0,this.addTransceiver(e.sender.track.kind))}))}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then((e=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(e.sdp=u(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const t=()=>{if(this.destroyed)return;const t=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:t.type,sdp:t.sdp}),this.initiator||this._requestMissingTransceivers()};this._pc.setLocalDescription(e).then((()=>{this.destroyed||(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))})).catch((e=>{this.destroy(l(e,"ERR_SET_LOCAL_DESCRIPTION"))}))})).catch((e=>{this.destroy(l(e,"ERR_CREATE_ANSWER"))}))}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(l(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const e=this._pc.iceConnectionState,t=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e,t),this.emit("iceStateChange",e,t),"connected"!==e&&"completed"!==e||(this._pcReady=!0,this._maybeReady()),"failed"===e&&this.destroy(l(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===e&&this.destroy(l(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(e){const t=e=>("[object Array]"===Object.prototype.toString.call(e.values)&&e.values.forEach((t=>{Object.assign(e,t)})),e);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then((r=>{const n=[];r.forEach((e=>{n.push(t(e))})),e(null,n)}),(t=>e(t))):this._pc.getStats.length>0?this._pc.getStats((r=>{if(this.destroyed)return;const n=[];r.result().forEach((e=>{const r={};e.names().forEach((t=>{r[t]=e.stat(t)})),r.id=e.id,r.type=e.type,r.timestamp=e.timestamp,n.push(t(r))})),e(null,n)}),(t=>e(t))):e(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const e=()=>{this.destroyed||this.getStats(((t,r)=>{if(this.destroyed)return;t&&(r=[]);const n={},i={},s={};let o=!1;r.forEach((e=>{"remotecandidate"!==e.type&&"remote-candidate"!==e.type||(n[e.id]=e),"localcandidate"!==e.type&&"local-candidate"!==e.type||(i[e.id]=e),"candidatepair"!==e.type&&"candidate-pair"!==e.type||(s[e.id]=e)}));const a=e=>{o=!0;let t=i[e.localCandidateId];t&&(t.ip||t.address)?(this.localAddress=t.ip||t.address,this.localPort=Number(t.port)):t&&t.ipAddress?(this.localAddress=t.ipAddress,this.localPort=Number(t.portNumber)):"string"==typeof e.googLocalAddress&&(t=e.googLocalAddress.split(":"),this.localAddress=t[0],this.localPort=Number(t[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let r=n[e.remoteCandidateId];r&&(r.ip||r.address)?(this.remoteAddress=r.ip||r.address,this.remotePort=Number(r.port)):r&&r.ipAddress?(this.remoteAddress=r.ipAddress,this.remotePort=Number(r.portNumber)):"string"==typeof e.googRemoteAddress&&(r=e.googRemoteAddress.split(":"),this.remoteAddress=r[0],this.remotePort=Number(r[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(r.forEach((e=>{"transport"===e.type&&e.selectedCandidatePairId&&a(s[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&a(e)})),o||Object.keys(s).length&&!Object.keys(i).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(t){return this.destroy(l(t,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const e=this._cb;this._cb=null,e(null)}"number"!=typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval((()=>this._onInterval()),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(e,100)}))};e()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>c||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"===this._pc.signalingState&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach((e=>{this._pc.removeTrack(e),this._queuedNegotiation=!0})),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):e.candidate||this._iceComplete||(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(e){if(this.destroyed)return;let t=e.data;t instanceof ArrayBuffer&&(t=h.from(t)),this.push(t)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const e=this._cb;this._cb=null,e(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(e){this.destroyed||e.streams.forEach((t=>{this._debug("on track"),this.emit("track",e.track,t),this._remoteTracks.push({track:e.track,stream:t}),this._remoteStreams.some((e=>e.id===t.id))||(this._remoteStreams.push(t),a((()=>{this._debug("on stream"),this.emit("stream",t)})))}))}_debug(){const e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],n.apply(null,e)}}d.WEBRTC_SUPPORT=!!i(),d.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},d.channelConfig={},t.exports=d},{buffer:"buffer",debug:"debug","err-code":97,"get-browser-rtc":101,"queue-microtask":156,randombytes:157,"readable-stream":172}],175:[function(e,t,r){t.exports=i;var n=e("events").EventEmitter;function i(){n.call(this)}e("inherits")(i,n),i.Readable=e("readable-stream/lib/_stream_readable.js"),i.Writable=e("readable-stream/lib/_stream_writable.js"),i.Duplex=e("readable-stream/lib/_stream_duplex.js"),i.Transform=e("readable-stream/lib/_stream_transform.js"),i.PassThrough=e("readable-stream/lib/_stream_passthrough.js"),i.finished=e("readable-stream/lib/internal/streams/end-of-stream.js"),i.pipeline=e("readable-stream/lib/internal/streams/pipeline.js"),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function s(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",s),e._isStdio||t&&!1===t.end||(r.on("end",a),r.on("close",l));var o=!1;function a(){o||(o=!0,e.end())}function l(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function h(e){if(c(),0===n.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",i),e.removeListener("drain",s),r.removeListener("end",a),r.removeListener("close",l),r.removeListener("error",h),e.removeListener("error",h),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",h),e.on("error",h),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e}},{events:"events",inherits:111,"readable-stream/lib/_stream_duplex.js":159,"readable-stream/lib/_stream_passthrough.js":160,"readable-stream/lib/_stream_readable.js":161,"readable-stream/lib/_stream_transform.js":162,"readable-stream/lib/_stream_writable.js":163,"readable-stream/lib/internal/streams/end-of-stream.js":167,"readable-stream/lib/internal/streams/pipeline.js":169}],176:[function(e,t,r){arguments[4][31][0].apply(r,arguments)},{dup:31,"safe-buffer":173}],177:[function(e,t,r){arguments[4][32][0].apply(r,arguments)},{dup:32}],178:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],179:[function(e,t,r){(function(t,n){(function(){var i=/%[sdj%]/g;r.format=function(e){if(!y(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(a(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,s=n.length,o=String(e).replace(i,(function(e){if("%%"===e)return"%";if(r>=s)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),l=n[r];r<s;l=n[++r])g(l)||!w(l)?o+=" "+l:o+=" "+a(l);return o},r.deprecate=function(e,i){if(_(n.process))return function(){return r.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var s=!1;return function(){if(!s){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation,s=!0}return e.apply(this,arguments)}};var s,o={};function a(e,t){var n={seen:[],stylize:h};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(t)?n.showHidden=t:t&&r._extend(n,t),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),c(n,e,n.depth)}function l(e,t){var r=a.styles[t];return r?"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m":e}function h(e,t){return e}function c(e,t,n){if(e.customInspect&&t&&S(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(n,e);return y(i)||(i=c(e,i,n)),i}var s=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(y(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(m(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,t);if(s)return s;var o=Object.keys(t),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),E(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return u(t);if(0===o.length){if(S(t)){var l=t.name?": "+t.name:"";return e.stylize("[Function"+l+"]","special")}if(b(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(v(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return u(t)}var h,w="",T=!1,I=["{","}"];(f(t)&&(T=!0,I=["[","]"]),S(t))&&(w=" [Function"+(t.name?": "+t.name:"")+"]");return b(t)&&(w=" "+RegExp.prototype.toString.call(t)),v(t)&&(w=" "+Date.prototype.toUTCString.call(t)),E(t)&&(w=" "+u(t)),0!==o.length||T&&0!=t.length?n<0?b(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),h=T?function(e,t,r,n,i){for(var s=[],o=0,a=t.length;o<a;++o)k(t,String(o))?s.push(d(e,t,r,n,String(o),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(d(e,t,r,n,i,!0))})),s}(e,t,n,a,o):o.map((function(r){return d(e,t,n,a,r,T)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(h,w,I)):I[0]+w+I[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,i,s){var o,a,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),k(n,i)||(o="["+i+"]"),a||(e.seen.indexOf(l.value)<0?(a=g(r)?c(e,l.value,null):c(e,l.value,r-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),_(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function f(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function g(e){return null===e}function m(e){return"number"==typeof e}function y(e){return"string"==typeof e}function _(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===T(e)}function w(e){return"object"==typeof e&&null!==e}function v(e){return w(e)&&"[object Date]"===T(e)}function E(e){return w(e)&&("[object Error]"===T(e)||e instanceof Error)}function S(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}r.debuglog=function(e){if(_(s)&&(s=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(s)){t.pid;o[e]=function(){r.format.apply(r,arguments)}}else o[e]=function(){};return o[e]},r.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=f,r.isBoolean=p,r.isNull=g,r.isNullOrUndefined=function(e){return null==e},r.isNumber=m,r.isString=y,r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=_,r.isRegExp=b,r.isObject=w,r.isDate=v,r.isError=E,r.isFunction=S,r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e("./support/isBuffer");function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":178,_process:152,inherits:110}],180:[function(e,t,r){arguments[4][178][0].apply(r,arguments)},{dup:178}],181:[function(e,t,r){"use strict";var n=e("is-arguments"),i=e("is-generator-function"),s=e("which-typed-array"),o=e("is-typed-array");function a(e){return e.call.bind(e)}var l="undefined"!=typeof BigInt,h="undefined"!=typeof Symbol,c=a(Object.prototype.toString),u=a(Number.prototype.valueOf),d=a(String.prototype.valueOf),f=a(Boolean.prototype.valueOf);if(l)var p=a(BigInt.prototype.valueOf);if(h)var g=a(Symbol.prototype.valueOf);function m(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function y(e){return"[object Map]"===c(e)}function _(e){return"[object Set]"===c(e)}function b(e){return"[object WeakMap]"===c(e)}function w(e){return"[object WeakSet]"===c(e)}function v(e){return"[object ArrayBuffer]"===c(e)}function E(e){return"undefined"!=typeof ArrayBuffer&&(v.working?v(e):e instanceof ArrayBuffer)}function S(e){return"[object DataView]"===c(e)}function T(e){return"undefined"!=typeof DataView&&(S.working?S(e):e instanceof DataView)}r.isArgumentsObject=n,r.isGeneratorFunction=i,r.isTypedArray=o,r.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},r.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):o(e)||T(e)},r.isUint8Array=function(e){return"Uint8Array"===s(e)},r.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===s(e)},r.isUint16Array=function(e){return"Uint16Array"===s(e)},r.isUint32Array=function(e){return"Uint32Array"===s(e)},r.isInt8Array=function(e){return"Int8Array"===s(e)},r.isInt16Array=function(e){return"Int16Array"===s(e)},r.isInt32Array=function(e){return"Int32Array"===s(e)},r.isFloat32Array=function(e){return"Float32Array"===s(e)},r.isFloat64Array=function(e){return"Float64Array"===s(e)},r.isBigInt64Array=function(e){return"BigInt64Array"===s(e)},r.isBigUint64Array=function(e){return"BigUint64Array"===s(e)},y.working="undefined"!=typeof Map&&y(new Map),r.isMap=function(e){return"undefined"!=typeof Map&&(y.working?y(e):e instanceof Map)},_.working="undefined"!=typeof Set&&_(new Set),r.isSet=function(e){return"undefined"!=typeof Set&&(_.working?_(e):e instanceof Set)},b.working="undefined"!=typeof WeakMap&&b(new WeakMap),r.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(b.working?b(e):e instanceof WeakMap)},w.working="undefined"!=typeof WeakSet&&w(new WeakSet),r.isWeakSet=function(e){return w(e)},v.working="undefined"!=typeof ArrayBuffer&&v(new ArrayBuffer),r.isArrayBuffer=E,S.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&S(new DataView(new ArrayBuffer(1),0,1)),r.isDataView=T;var k="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function I(e){return"[object SharedArrayBuffer]"===c(e)}function R(e){return void 0!==k&&(void 0===I.working&&(I.working=I(new k)),I.working?I(e):e instanceof k)}function A(e){return m(e,u)}function x(e){return m(e,d)}function C(e){return m(e,f)}function O(e){return l&&m(e,p)}function D(e){return h&&m(e,g)}r.isSharedArrayBuffer=R,r.isAsyncFunction=function(e){return"[object AsyncFunction]"===c(e)},r.isMapIterator=function(e){return"[object Map Iterator]"===c(e)},r.isSetIterator=function(e){return"[object Set Iterator]"===c(e)},r.isGeneratorObject=function(e){return"[object Generator]"===c(e)},r.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===c(e)},r.isNumberObject=A,r.isStringObject=x,r.isBooleanObject=C,r.isBigIntObject=O,r.isSymbolObject=D,r.isBoxedPrimitive=function(e){return A(e)||x(e)||C(e)||O(e)||D(e)},r.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(E(e)||R(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(r,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},{"is-arguments":112,"is-generator-function":114,"is-typed-array":115,"which-typed-array":183}],182:[function(e,t,r){(function(t){(function(){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;r.format=function(e){if(!_(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(l(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,s=n.length,o=String(e).replace(i,(function(e){if("%%"===e)return"%";if(r>=s)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),a=n[r];r<s;a=n[++r])m(a)||!v(a)?o+=" "+a:o+=" "+l(a);return o},r.deprecate=function(e,n){if(void 0!==t&&!0===t.noDeprecation)return e;if(void 0===t)return function(){return r.deprecate(e,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation,i=!0}return e.apply(this,arguments)}};var s={},o=/^$/;if(t.env.NODE_DEBUG){var a=t.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+a+"$","i")}function l(e,t){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(t)?n.showHidden=t:t&&r._extend(n,t),b(n.showHidden)&&(n.showHidden=!1),b(n.depth)&&(n.depth=2),b(n.colors)&&(n.colors=!1),b(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=h),u(n,e,n.depth)}function h(e,t){var r=l.styles[t];return r?"["+l.colors[r][0]+"m"+e+"["+l.colors[r][1]+"m":e}function c(e,t){return e}function u(e,t,n){if(e.customInspect&&t&&T(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(n,e);return _(i)||(i=u(e,i,n)),i}var s=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(_(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(y(t))return e.stylize(""+t,"number");if(g(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,t);if(s)return s;var o=Object.keys(t),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),S(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return d(t);if(0===o.length){if(T(t)){var l=t.name?": "+t.name:"";return e.stylize("[Function"+l+"]","special")}if(w(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(E(t))return e.stylize(Date.prototype.toString.call(t),"date");if(S(t))return d(t)}var h,c="",v=!1,k=["{","}"];(p(t)&&(v=!0,k=["[","]"]),T(t))&&(c=" [Function"+(t.name?": "+t.name:"")+"]");return w(t)&&(c=" "+RegExp.prototype.toString.call(t)),E(t)&&(c=" "+Date.prototype.toUTCString.call(t)),S(t)&&(c=" "+d(t)),0!==o.length||v&&0!=t.length?n<0?w(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),h=v?function(e,t,r,n,i){for(var s=[],o=0,a=t.length;o<a;++o)I(t,String(o))?s.push(f(e,t,r,n,String(o),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(f(e,t,r,n,i,!0))})),s}(e,t,n,a,o):o.map((function(r){return f(e,t,n,a,r,v)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(h,c,k)):k[0]+c+k[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,i,s){var o,a,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),I(n,i)||(o="["+i+"]"),a||(e.seen.indexOf(l.value)<0?(a=m(r)?u(e,l.value,null):u(e,l.value,r-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),b(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function p(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function m(e){return null===e}function y(e){return"number"==typeof e}function _(e){return"string"==typeof e}function b(e){return void 0===e}function w(e){return v(e)&&"[object RegExp]"===k(e)}function v(e){return"object"==typeof e&&null!==e}function E(e){return v(e)&&"[object Date]"===k(e)}function S(e){return v(e)&&("[object Error]"===k(e)||e instanceof Error)}function T(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}r.debuglog=function(e){if(e=e.toUpperCase(),!s[e])if(o.test(e)){t.pid;s[e]=function(){r.format.apply(r,arguments)}}else s[e]=function(){};return s[e]},r.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.types=e("./support/types"),r.isArray=p,r.isBoolean=g,r.isNull=m,r.isNullOrUndefined=function(e){return null==e},r.isNumber=y,r.isString=_,r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=b,r.isRegExp=w,r.types.isRegExp=w,r.isObject=v,r.isDate=E,r.types.isDate=E,r.isError=S,r.types.isNativeError=S,r.isFunction=T,r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e("./support/isBuffer");function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!v(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var R="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function A(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}r.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(R&&e[R]){var t;if("function"!=typeof(t=e[R]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),R&&Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},r.promisify.custom=R,r.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return i.apply(s,arguments)};e.apply(this,r).then((function(e){t.nextTick(o.bind(null,null,e))}),(function(e){t.nextTick(A.bind(null,e,o))}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,n(e)),r}}).call(this)}).call(this,e("_process"))},{"./support/isBuffer":180,"./support/types":181,_process:152,inherits:111}],183:[function(e,t,r){(function(r){(function(){"use strict";var n=e("for-each"),i=e("available-typed-arrays"),s=e("call-bind"),o=e("call-bind/callBound"),a=e("gopd"),l=o("Object.prototype.toString"),h=e("has-tostringtag/shams")(),c="undefined"==typeof globalThis?r:globalThis,u=i(),d=o("String.prototype.slice"),f=Object.getPrototypeOf,p=o("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},g={__proto__:null};n(u,h&&a&&f?function(e){var t=new c[e];if(Symbol.toStringTag in t){var r=f(t),n=a(r,Symbol.toStringTag);if(!n){var i=f(r);n=a(i,Symbol.toStringTag)}g["$"+e]=s(n.get)}}:function(e){var t=new c[e];g["$"+e]=s(t.slice)});t.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!h){var t=d(l(e),8,-1);return p(u,t)>-1?t:"Object"===t&&function(e){var t=!1;return n(g,(function(r,n){if(!t)try{r(e),t=d(n,1)}catch(e){}})),t}(e)}return a?function(e){var t=!1;return n(g,(function(r,n){if(!t)try{"$"+r(e)===n&&(t=d(n,1))}catch(e){}})),t}(e):null}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"available-typed-arrays":51,"call-bind":58,"call-bind/callBound":57,"for-each":98,gopd:103,"has-tostringtag/shams":107}],buffer:[function(e,t,r){(function(t){(function(){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var t=e("base64-js"),n=e("ieee754");r.Buffer=o,r.SlowBuffer=function(e){+e!=e&&(e=0);return o.alloc(+e)},r.INSPECT_MAX_BYTES=50;var i=2147483647;function s(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=o.prototype,t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return a(e,t,r)}function a(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|d(e,t),n=s(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(j(e,ArrayBuffer)||e&&j(e.buffer,ArrayBuffer))return function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return n.__proto__=o.prototype,n}(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return o.from(n,t,r);var i=function(e){if(o.isBuffer(e)){var t=0|u(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||z(e.length)?s(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return l(e),s(e<0?0:0|u(e))}function c(e){for(var t=e.length<0?0:0|u(e.length),r=s(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function u(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function d(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||j(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return P(e).length;default:if(i)return n?-1:B(e).length;t=(""+t).toLowerCase(),i=!0}}function f(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return I(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function p(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),z(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){var s,o=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,l/=2,r/=2}function h(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(s=r;s<a;s++)if(h(e,s)===h(t,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===l)return c*o}else-1!==c&&(s-=s-c),c=-1}else for(r+l>a&&(r=a-l),s=r;s>=0;s--){for(var u=!0,d=0;d<l;d++)if(h(e,s+d)!==h(t,d)){u=!1;break}if(u)return s}return-1}function y(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=t.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(z(a))return o;e[r+o]=a}return o}function _(e,t,r,n){return F(B(t,e.length-r),e,r,n)}function b(e,t,r,n){return F(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return b(e,t,r,n)}function v(e,t,r,n){return F(P(t),e,r,n)}function E(e,t,r,n){return F(function(e,t){for(var r,n,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function S(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function T(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s,o,a,l,h=e[i],c=null,u=h>239?4:h>223?3:h>191?2:1;if(i+u<=r)switch(u){case 1:h<128&&(c=h);break;case 2:128==(192&(s=e[i+1]))&&(l=(31&h)<<6|63&s)>127&&(c=l);break;case 3:s=e[i+1],o=e[i+2],128==(192&s)&&128==(192&o)&&(l=(15&h)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:s=e[i+1],o=e[i+2],a=e[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(l=(15&h)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,u=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=u}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=k));return r}(n)}r.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),!o.TYPED_ARRAY_SUPPORT&&"undefined"!=typeof console&&console.error,Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(e,t,r){return a(e,t,r)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},o.allocUnsafe=function(e){return h(e)},o.allocUnsafeSlow=function(e){return h(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(j(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),j(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(j(s,Uint8Array)&&(s=o.from(s)),!o.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},o.byteLength=d,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):f.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},o.prototype.compare=function(e,t,r,n,i){if(j(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),l=Math.min(s,a),h=this.slice(n,i),c=e.slice(t,r),u=0;u<l;++u)if(h[u]!==c[u]){s=h[u],a=c[u];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":return b(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return v(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function I(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function A(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=L(e[s]);return i}function x(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function C(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,n,i,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function D(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(e,t,r,i,s){return t=+t,r>>>=0,s||D(e,0,r,4),n.write(e,t,r,i,23,4),r+4}function N(e,t,r,i,s){return t=+t,r>>>=0,s||D(e,0,r,8),n.write(e,t,r,i,52,8),r+8}o.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=o.prototype,n},o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n},o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);for(var n=t,i=1,s=this[e+--n];n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},o.prototype.readInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||C(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||C(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||C(e,4,this.length),n.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||C(e,4,this.length),n.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||C(e,8,this.length),n.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||C(e,8,this.length),n.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},o.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},o.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<r&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,r){return M(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return M(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var s=i-1;s>=0;--s)e[s+t]=this[s+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},o.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var s;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{var a=o.isBuffer(e)?e:o.from(e,n),l=a.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<r-t;++s)this[s+t]=a[s%l]}return this};var U=/[^+/0-9A-Za-z-_]/g;function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var r;t=t||1/0;for(var n=e.length,i=null,s=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function P(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function j(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function z(e){return e!=e}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":52,buffer:"buffer",ieee754:109}],debug:[function(e,t,r){(function(n){(function(){r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;e.splice(1,0,r,"color: inherit");let n=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))})),e.splice(i,0,r)},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem("debug")}catch(e){}!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG);return e},r.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},r.storage=function(){try{return localStorage}catch(e){}}(),r.destroy=(()=>{let e=!1;return()=>{e||(e=!0)}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||(()=>{}),t.exports=e("./common")(r);const{formatters:i}=t.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this)}).call(this,e("_process"))},{"./common":96,_process:152}],events:[function(e,t,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,s=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,s),n(r)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}y(e,t,s,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&y(e,"error",t,r)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function h(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var i,s,o;if(h(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),void 0===o)o=s[t]=r,++e._eventsCount;else if("function"==typeof o?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=c(e))>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,console&&console.warn}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=d.bind(n);return i.listener=r,n.wrapFn=i,i}function p(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):m(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){n.once&&e.removeEventListener(t,i),r(s)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)s(l,this,t);else{var h=l.length,c=m(l,h);for(r=0;r<h;++r)s(c[r],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return h(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return h(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,s,o;if(h(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},{}],"web-engine":[function(e,t,r){"use strict";
/**
 * @license Apache-2.0
 * Copyright 2018 Novage LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="0.6.2",i(e("./loader-interface"),r),i(e("./hybrid-loader"),r)},{"./hybrid-loader":37,"./loader-interface":38}]},{},[35]);